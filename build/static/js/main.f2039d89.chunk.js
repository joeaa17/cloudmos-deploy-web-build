(this["webpackJsonpakashlytics-deploy"]=this["webpackJsonpakashlytics-deploy"]||[]).push([[2],{100:function(e,t,n){"use strict";n.d(t,"b",(function(){return N})),n.d(t,"a",(function(){return I}));var a=n(8),r=n.n(a),c=n(28),i=n(38),o=n(14),s=n(2),l=n.n(s),d=n(127),u=n.n(d),j=n(57),b=n(325),p=n(792),m={"0.14.0":function(){var e=["ga_user_id","isBetaBannerSeen","latestUpdatedVersion","".concat(j.f,"/wallets"),"".concat(j.l,"/wallets"),"".concat(j.d,"/wallets")],t={};b.b.forEach((function(n){var a,r=(a=n.id,Object.keys(localStorage).filter((function(e){return e.startsWith(a)&&e.endsWith(".wallet")})).map((function(e){return e.replace(".wallet","").replace("".concat(a,"/"),"")}))[0]);if(r){var i="".concat(n.id,"/").concat(r,".wallet"),o="".concat(n.id,"/").concat(r,".crt"),s="".concat(n.id,"/").concat(r,".key"),l=JSON.parse(localStorage.getItem(i)),d=localStorage.getItem(o),u=localStorage.getItem(s),b=Object(c.a)(Object(c.a)({},l),{},{selected:!0});d&&u&&(b.cert=d,b.certKey=u),localStorage.setItem("".concat(n.id,"/wallets"),JSON.stringify([b])),localStorage.removeItem(o),localStorage.removeItem(s),localStorage.removeItem(i)}Object.keys(localStorage).filter((function(e){return e.startsWith(n.id)})).forEach((function(n){if(e.includes(n))t[n]=localStorage.getItem(n);else{var a=function(e,t){var n;if((e.startsWith(j.f)||e.startsWith(j.l)||e.startsWith(j.d))&&t){var a=e.split("/");a.splice(1,0,t),n=a.join("/")}return n}(n,r);a&&(t[a]=localStorage.getItem(n),localStorage.setItem(a,localStorage.getItem(n)),localStorage.removeItem(n))}}))})),window.dispatchEvent(new Event("local-storage")),console.log("Migration for version 0.14.0:",t)},"0.6.0":function(){var e=["ga_user_id","isBetaBannerSeen","latestUpdatedVersion"],t={};Object.keys(localStorage).forEach((function(n){if(e.includes(n))t[n]=localStorage.getItem(n);else{var a="".concat(j.f,"/").concat(n);t[a]=localStorage.getItem(n),localStorage.setItem(a,localStorage.getItem(n)),localStorage.removeItem(n)}})),localStorage.setItem("selectedNetworkId",j.f),window.dispatchEvent(new Event("local-storage")),console.log("Migration for version 0.6.0:",t)}},f=function(){var e=window.electron.getAppVersion(),t=localStorage.getItem("latestUpdatedVersion");t||(Object.keys(localStorage).some((function(e){return e.endsWith(".data")||e.endsWith(".wallet")}))?t="0.5.0":(t=e,localStorage.setItem("selectedNetworkId",j.f))),t&&Object(p.neq)(e,t)&&Object.keys(m).forEach((function(e){if(Object(p.gt)(e,t))try{console.log("Applying version ".concat(e)),m[e]()}catch(n){console.log(n)}})),localStorage.setItem("latestUpdatedVersion",e)},h=n(102),O=(n(804),n(111));var x=n(1029),v=n(98),g=n(237),y=n(212),w=n(247),k=n(0),C=l.a.createContext({}),S={apiEndpoint:"",rpcEndpoint:"",isCustomNode:!1,nodes:[],selectedNode:null,customNode:null},I=function(e){var t=e.children,n=Object(x.useStateWithCallbackLazy)(S),a=Object(o.a)(n,2),l=a[0],d=a[1],p=Object(s.useState)(!0),m=Object(o.a)(p,2),I=m[0],N=m[1],T=Object(s.useState)(!1),E=Object(o.a)(T,2),L=E[0],D=E[1],A=function(){var e=localStorage.getItem("selectedNetworkId");return{removeLocalStorageItem:function(t){var n=Object(O.c)();localStorage.removeItem("".concat(e,"/").concat(n.address,"/").concat(t))},setLocalStorageItem:function(t,n){var a=Object(O.c)();localStorage.setItem("".concat(e,"/").concat(a.address,"/").concat(t),n)},getLocalStorageItem:function(t){var n=Object(O.c)();return localStorage.getItem("".concat(e,"/").concat(n.address,"/").concat(t))}}}(),P=A.getLocalStorageItem,z=A.setLocalStorageItem,M=Object(s.useState)(localStorage.getItem("selectedNetworkId")||j.f),B=Object(o.a)(M,2),F=B[0],R=B[1],_=l.isCustomNode,q=l.customNode,W=l.nodes,U=l.apiEndpoint;Object(s.useEffect)((function(){(function(){var e=Object(i.a)(r.a.mark((function e(){var t,n,a,o,s,l,d,p,m,h,O,x;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.next=3,Object(b.a)();case 3:return f(),Object(j.j)(),Object(y.a)(),Object(v.b)(),Object(g.d)(),Object(w.b)(),t=P("settings"),n=Object(c.a)(Object(c.a)({},S),JSON.parse(t))||{},l=b.b.find((function(e){return e.id===F}))||j.g,e.next=10,u.a.get("https://proxy-cors-006.herokuapp.com/"+l.nodesUrl);case 10:if(d=e.sent,p=d.data,!(t&&n.apiEndpoint&&n.rpcEndpoint&&n.selectedNode&&p.find((function(e){return e.id===n.selectedNode.id})))){e.next=32;break}if(p=p.map(function(){var e=Object(i.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(t.api);case 2:return n=e.sent,e.abrupt("return",Object(c.a)(Object(c.a)({},t),{},{status:n.status,latency:n.latency,nodeInfo:n.nodeInfo}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a=n.apiEndpoint,o=n.rpcEndpoint,s=n.selectedNode,!n.isCustomNode){e.next=24;break}return e.next=21,V(n.apiEndpoint);case 21:h=e.sent,O=new URL(n.apiEndpoint),m={status:h.status,latency:h.latency,nodeInfo:h.nodeInfo,id:O.hostname};case 24:return G(Object(c.a)(Object(c.a)({},n),{},{apiEndpoint:a,rpcEndpoint:o,selectedNode:s,customNode:m})),N(!1),e.next=28,Promise.all(p);case 28:p=e.sent,G(Object(c.a)(Object(c.a)({},n),{},{nodes:p})),e.next=41;break;case 32:return e.next=34,Promise.all(p.map(function(){var e=Object(i.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(t.api);case 2:return n=e.sent,e.abrupt("return",Object(c.a)(Object(c.a)({},t),{},{status:n.status,latency:n.latency,nodeInfo:n.nodeInfo}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 34:p=e.sent,x=K(p),a=x.api,o=x.rpc,s=x,G(Object(c.a)(Object(c.a)({},n),{},{apiEndpoint:a,rpcEndpoint:o,selectedNode:s,nodes:p})),N(!1);case 41:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var V=function(){var e=Object(i.a)(r.a.mark((function e(t){var n,a,c,i,o,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=performance.now(),c="",i={},e.prev=2,e.next=5,u.a.get("https://proxy-cors-006.herokuapp.com/"+"".concat(t,"/node_info"),{timeout:1e4});case 5:o=e.sent,i=o.data,c="active",e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),c="inactive";case 13:return e.prev=13,s=performance.now(),a=s-n,e.abrupt("return",{latency:a,status:c,nodeInfo:i});case 18:case"end":return e.stop()}}),e,null,[[2,10,13,18]])})));return function(t){return e.apply(this,arguments)}}(),K=function(e){var t,n=e.filter((function(e){return"active"===e.status})),a=Number.POSITIVE_INFINITY;return 0===n.length?e[0]:(n.forEach((function(e){e.latency<a&&(a=e.latency,t=e)})),t)},G=function(e,t){d((function(t){return H(t,e),z("settings",JSON.stringify(e)),e}),t)},H=function(e,t){(e.apiEndpoint!==t.apiEndpoint||e.isCustomNode&&!t.isCustomNode)&&(h.a.resetQueries(),h.a.cancelQueries(),h.a.removeQueries(),h.a.clear())},Y=Object(s.useCallback)(function(){var e=Object(i.a)(r.a.mark((function e(t){var n,a,o,s,l,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!L){e.next=2;break}return e.abrupt("return");case 2:if(D(!0),n=t?t.nodes:W,a=t?t.customNode:q,o=t?t.isCustomNode:_,s=t?t.apiEndpoint:U,!o){e.next=15;break}return e.next=10,V(s);case 10:l=e.sent,u=new URL(s),a={status:l.status,latency:l.latency,nodeInfo:l.nodeInfo,id:u.hostname},e.next=18;break;case 15:return e.next=17,Promise.all(n.map(function(){var e=Object(i.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(t.api);case 2:return n=e.sent,e.abrupt("return",Object(c.a)(Object(c.a)({},t),{},{status:n.status,latency:n.latency,nodeInfo:n.nodeInfo}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 17:n=e.sent;case 18:D(!1),d((function(e){var t=n.find((function(t){return t.id===e.selectedNode.id})),r=Object(c.a)(Object(c.a)({},e),{},{nodes:n,selectedNode:t,customNode:a});return H(e,r),z("settings",JSON.stringify(r)),r}));case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[_,L,q,z,U,W,d]);return Object(k.jsx)(C.Provider,{value:{settings:l,setSettings:G,isLoadingSettings:I,refreshNodeStatuses:Y,isRefreshingNodeStatus:L,selectedNetworkId:F,setSelectedNetworkId:R},children:t})},N=function(){return Object(c.a)({},l.a.useContext(C))}},102:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return w})),n.d(t,"f",(function(){return I})),n.d(t,"j",(function(){return E})),n.d(t,"h",(function(){return D})),n.d(t,"i",(function(){return z})),n.d(t,"b",(function(){return B})),n.d(t,"k",(function(){return R})),n.d(t,"n",(function(){return W})),n.d(t,"g",(function(){return V})),n.d(t,"m",(function(){return G})),n.d(t,"l",(function(){return Y})),n.d(t,"c",(function(){return X})),n.d(t,"o",(function(){return $}));var a=new(n(1964).a),r=n(1),c=function e(){Object(r.a)(this,e)};c.getDeploymentListKey=function(e){return["DEPLOYMENT_LIST",e]},c.getDeploymentDetailKey=function(e,t){return["DEPLOYMENT_DETAIL",e,t]},c.getAllLeasesKey=function(e){return["ALL_LEASES",e]},c.getLeasesKey=function(e,t){return["LEASE_LIST",e,t]},c.getLeaseStatusKey=function(e,t,n){return["LEASE_STATUS",e,t,n]},c.getBidListKey=function(e,t){return["BID_LIST",e,t]},c.getProvidersKey=function(){return["PROVIDERS"]},c.getProviderDetailKey=function(e){return["PROVIDERS",e]},c.getDataNodeProvidersKey=function(){return["DATA_NODE_PROVIDERS"]},c.getProviderStatusKey=function(e){return["PROVIDER_STATUS",e]},c.getNetworkCapacity=function(){return["NETWORK_CAPACITY"]},c.getAuditorsKey=function(){return["AUDITORS"]},c.getBlockKey=function(e){return["BLOCK",e]},c.getBalancesKey=function(e){return["BALANCES",e]},c.getTemplatesKey=function(){return["TEMPLATES"]};var i=n(8),o=n.n(i),s=n(14),l=n(38),d=n(1970),u=n(127),j=n.n(u),b=n(3),p=n(57),m=function(){function e(){Object(r.a)(this,e)}return Object(b.a)(e,null,[{key:"deploymentList",value:function(e,t){return"".concat(e,"/akash/deployment/").concat(p.i,"/deployments/list?filters.owner=").concat(t)}},{key:"deploymentDetail",value:function(e,t,n){return"".concat(e,"/akash/deployment/").concat(p.i,"/deployments/info?id.owner=").concat(t,"&id.dseq=").concat(n)}},{key:"bidList",value:function(e,t,n){return"".concat(e,"/akash/market/").concat(p.i,"/bids/list?filters.owner=").concat(t,"&filters.dseq=").concat(n)}},{key:"leaseList",value:function(e,t,n){return"".concat(e,"/akash/market/").concat(p.i,"/leases/list?filters.owner=").concat(t).concat(n?"&filters.dseq="+n:"")}},{key:"providers",value:function(e){return"".concat(e,"/akash/provider/").concat(p.i,"/providers")}},{key:"providerDetail",value:function(e,t){return"".concat(e,"/akash/provider/").concat(p.i,"/providers/").concat(t)}},{key:"block",value:function(e,t){return"".concat(e,"/blocks/").concat(t)}},{key:"balance",value:function(e,t){return"".concat(e,"/cosmos/bank/v1beta1/balances/").concat(t)}},{key:"rewards",value:function(e,t){return"".concat(e,"/cosmos/distribution/v1beta1/delegators/").concat(t,"/rewards")}},{key:"redelegations",value:function(e,t){return"".concat(e,"/cosmos/staking/v1beta1/delegators/").concat(t,"/redelegations")}},{key:"delegations",value:function(e,t){return"".concat(e,"/cosmos/staking/v1beta1/delegations/").concat(t)}},{key:"unbonding",value:function(e,t){return"".concat(e,"/cosmos/staking/v1beta1/delegators/").concat(t,"/unbonding_delegations")}},{key:"networkCapacity",value:function(){return"".concat(p.b,"/getNetworkCapacity")}}]),e}();function f(e,t,n){return h.apply(this,arguments)}function h(){return(h=Object(l.a)(o.a.mark((function e(t,n,a){var r,c,i,s,l,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],c=null;case 2:return i=O(t),s="".concat(t).concat(i?"&":"?","pagination.limit=").concat(a,"&pagination.count_total=true"),c&&(s+="&pagination.key="+encodeURIComponent(c)),e.next=7,j.a.get("https://proxy-cors-006.herokuapp.com/"+s);case 7:l=e.sent,d=l.data,r=r.concat(d[n]),c=d.pagination.next_key;case 11:if(c){e.next=2;break}case 12:return e.abrupt("return",r.filter((function(e){return e})));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){return/[?&]/gm.test(e)}var x=n(100);function v(){return(v=Object(l.a)(o.a.mark((function e(t,n){var a,r,c,i,l,d,u,b,p,f,h,O,x,v,g,y,w,k,C,S,I;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:return a=j.a.get("https://proxy-cors-006.herokuapp.com/"+m.balance(t,n)),r=j.a.get("https://proxy-cors-006.herokuapp.com/"+m.rewards(t,n)),c=j.a.get("https://proxy-cors-006.herokuapp.com/"+m.redelegations(t,n)),i=j.a.get("https://proxy-cors-006.herokuapp.com/"+m.unbonding(t,n)),e.next=8,Promise.all([a,r,c,i]);case 8:return l=e.sent,d=Object(s.a)(l,4),u=d[0],b=d[1],p=d[2],f=d[3],h=u.data,O=h.balances.some((function(e){return"uakt"===e.denom}))?parseInt(h.balances.find((function(e){return"uakt"===e.denom})).amount):0,x=b.data,v=x.total.some((function(e){return"uakt"===e.denom}))?parseInt(x.total.find((function(e){return"uakt"===e.denom})).amount):0,g=p.data,y=g.redelegation_responses.length>0?g.redelegation_responses.map((function(e){return e.entries.map((function(e){return parseInt(e.balance)})).reduce((function(e,t){return e+t}),0)})).reduce((function(e,t){return e+t}),0):0,w=f.data,k=w.unbonding_responses.length>0?w.unbonding_responses.map((function(e){return e.entries.map((function(e){return parseInt(e.balance)})).reduce((function(e,t){return e+t}),0)})).reduce((function(e,t){return e+t}),0):0,C=0,e.prev=23,e.next=26,j.a.get("https://proxy-cors-006.herokuapp.com/"+m.delegations(t,n));case 26:S=e.sent,I=S.data,C=I.delegation_responses.some((function(e){return"uakt"===e.balance.denom}))?I.delegation_responses.filter((function(e){return"uakt"===e.balance.denom})).map((function(e){return parseInt(e.balance.amount)})).reduce((function(e,t){return e+t}),0):0,e.next=33;break;case 31:e.prev=31,e.t0=e.catch(23);case 33:return e.abrupt("return",{balance:O,rewards:v,delegations:C,redelegations:y,unbondings:k});case 34:case"end":return e.stop()}}),e,null,[[23,31]])})))).apply(this,arguments)}function g(e,t){var n=Object(x.b)().settings;return Object(d.a)(c.getBalancesKey(e),(function(){return function(e,t){return v.apply(this,arguments)}(n.apiEndpoint,e)}),t)}function y(){return(y=Object(l.a)(o.a.mark((function e(t,n,a){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}throw new Error("address must be defined.");case 2:if(a){e.next=4;break}throw new Error("dseq must be defined.");case 4:return e.next=6,j.a.get("https://proxy-cors-006.herokuapp.com/"+m.bidList(t,n,a));case 6:return r=e.sent,e.abrupt("return",r.data.bids.map((function(e){return{id:e.bid.bid_id.provider+e.bid.bid_id.dseq+e.bid.bid_id.gseq+e.bid.bid_id.oseq,owner:e.bid.bid_id.owner,provider:e.bid.bid_id.provider,dseq:e.bid.bid_id.dseq,gseq:e.bid.bid_id.gseq,oseq:e.bid.bid_id.oseq,price:e.bid.price,state:e.bid.state}})));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,t,n){var a=Object(x.b)().settings;return Object(d.a)(c.getBidListKey(e,t),(function(){return function(e,t,n){return y.apply(this,arguments)}(a.apiEndpoint,e,t)}),n)}var k=n(28);function C(e,t){return S.apply(this,arguments)}function S(){return(S=Object(l.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("https://proxy-cors-006.herokuapp.com/"+m.block(t,n));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(x.b)(),a=n.settings;return Object(d.a)(c.getBlockKey(e),(function(){return C(a.apiEndpoint,e)}),Object(k.a)({refetchInterval:!1,refetchIntervalInBackground:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1},t))}var N=n(280);function T(){return(T=Object(l.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,f(m.deploymentList(t,n),"deployments",1e3);case 4:return a=e.sent,e.abrupt("return",a.map((function(e){return Object(N.b)(e)})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e,t){var n=Object(x.b)().settings;return Object(d.a)(c.getDeploymentListKey(e),(function(){return function(e,t){return T.apply(this,arguments)}(n.apiEndpoint,e)}),t)}function L(){return(L=Object(l.a)(o.a.mark((function e(t,n,a){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:return e.next=4,j.a.get("https://proxy-cors-006.herokuapp.com/"+m.deploymentDetail(t,n,a));case 4:return r=e.sent,e.abrupt("return",Object(N.b)(r.data));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,t,n){var a=Object(x.b)().settings;return Object(d.a)(c.getDeploymentDetailKey(e,t),(function(){return function(e,t,n){return L.apply(this,arguments)}(a.apiEndpoint,e,t)}),n)}var A=n(139);function P(){return(P=Object(l.a)(o.a.mark((function e(t,n,a){var r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,f(m.leaseList(t,n,null===a||void 0===a?void 0:a.dseq),"leases",1e3);case 4:return r=e.sent,c=r.map((function(e){return Object(N.d)(e,a)})),e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e,t,n){var a=Object(x.b)().settings;return Object(d.a)(c.getLeasesKey(e,null===t||void 0===t?void 0:t.dseq),(function(){return function(e,t,n){return P.apply(this,arguments)}(a.apiEndpoint,e,t)}),n)}function M(){return(M=Object(l.a)(o.a.mark((function e(t,n,a){var r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,f(m.leaseList(t,n,null===a||void 0===a?void 0:a.dseq),"leases",1e3);case 4:return r=e.sent,c=r.map((function(e){return Object(N.d)(e,a)})),e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e,t){var n=Object(x.b)().settings;return Object(d.a)(c.getAllLeasesKey(e),(function(){return function(e,t,n){return M.apply(this,arguments)}(n.apiEndpoint,e)}),t)}function F(){return(F=Object(l.a)(o.a.mark((function e(t,n,a){var r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return r="".concat(t,"/lease/").concat(n.dseq,"/").concat(n.gseq,"/").concat(n.oseq,"/status"),e.next=5,window.electron.queryProvider(r,"GET",null,null===a||void 0===a?void 0:a.certPem,null===a||void 0===a?void 0:a.keyPem);case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e,t,n){var a=Object(A.b)().localCert;return Object(d.a)(c.getLeaseStatusKey(t.dseq,t.gseq,t.oseq),(function(){return function(e,t,n){return F.apply(this,arguments)}(e,t,a)}),n)}var _=n(296);function q(){return(q=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(m.providers(t),"providers",1e3);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e){var t=Object(x.b)().settings;return Object(d.a)(c.getProvidersKey(),(function(){return function(e){return q.apply(this,arguments)}(t.apiEndpoint)}),Object(k.a)(Object(k.a)({},e),{},{refetchInterval:!1,refetchIntervalInBackground:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1}))}function U(){return(U=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("https://proxy-cors-006.herokuapp.com/"+"".concat(p.b,"/providers"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e){return Object(d.a)(c.getDataNodeProvidersKey(),(function(){return function(){return U.apply(this,arguments)}()}),Object(k.a)(Object(k.a)({},e),{},{refetchInterval:15e3,refetchIntervalInBackground:!1,refetchOnWindowFocus:!0,refetchOnReconnect:!1}))}function K(){return(K=Object(l.a)(o.a.mark((function e(t){var n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.electron.queryProvider("".concat(t,"/status"),"GET");case 2:return n=e.sent,a={},e.prev=4,e.next=7,window.electron.queryProvider("".concat(t,"/version"),"GET");case 7:a=e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),console.log(e.t0);case 13:return r=Object(_.d)(n,a),e.abrupt("return",r);case 15:case"end":return e.stop()}}),e,null,[[4,10]])})))).apply(this,arguments)}function G(e,t){return Object(d.a)(c.getProviderStatusKey(e),(function(){return function(e){return K.apply(this,arguments)}(e)}),t)}function H(){return(H=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("https://proxy-cors-006.herokuapp.com/"+m.networkCapacity());case 2:return t=e.sent,e.abrupt("return",Object(_.a)(t.data));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e){return Object(d.a)(c.getNetworkCapacity(),(function(){return function(){return H.apply(this,arguments)}()}),e)}function J(){return(J=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("https://proxy-cors-006.herokuapp.com/https://raw.githubusercontent.com/maxmaxlabs/cloudmos-deploy/master/auditors.json");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e){return Object(d.a)(c.getAuditorsKey(),(function(){return function(){return J.apply(this,arguments)}()}),Object(k.a)(Object(k.a)({},e),{},{refetchInterval:!1,refetchIntervalInBackground:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1}))}function Q(){return(Q=Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("https://proxy-cors-006.herokuapp.com/"+"".concat(p.b,"/templates"));case 2:return t=e.sent,(n=t.data.filter((function(e){return(e.templates||[]).length>0}))).forEach((function(e){e.templates.forEach((function(t){return t.category=e.title}))})),a=n.flatMap((function(e){return e.templates})),e.abrupt("return",{categories:n,templates:a});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e){return Object(d.a)(c.getTemplatesKey(),(function(){return function(){return Q.apply(this,arguments)}()}),Object(k.a)(Object(k.a)({},e),{},{refetchInterval:12e4,refetchIntervalInBackground:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1}))}},1066:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return P}));var a,r=n(8),c=n.n(r),i=n(38),o=n(14),s=n(28),l=n(2),d=n(139),u=n(455),j=n(317),b=n(586),p=n(491),m=n(587),f=n(1090),h=n(1793),O=n(102),x=n(1089),v=n(573),g=n(57),y=n(184),w=n(179),k=n(574),C=n(95),S=n(1067),I=n(575),N=n(576),T=n(1068),E=n(0),L="#1e1e1e",D=Object(u.a)((function(e){return{leaseSelector:{margin:e.spacing(1)},commandForm:{backgroundColor:L,borderTop:"1px solid ".concat(e.palette.grey[800])},commandInputRoot:{"& fieldset":{border:"none",backgroundColor:L}},commandInputBase:{borderRadius:0,padding:0},commandInput:{color:"#d4d4d4",zIndex:100},clearButtonContainer:{zIndex:100},clearButton:{borderRadius:0,height:"39px"}}})),A=Object(s.a)(Object(s.a)({},g.h),{},{inlineSuggest:{enable:!1},quickSuggestions:!1,acceptSuggestionOnEnter:"off",acceptSuggestionOnCommitCharacter:!1,snippetSuggestions:"none",suggestOnTriggerCharacters:!1,suggest:!1,codeLens:!1,readOnly:!0,lineNumbers:!1,colorDecorators:!1});function P(t){var n=t.leases,r=D(),u=Object(l.useState)(!1),g=Object(o.a)(u,2),L=g[0],P=g[1],z=Object(l.useState)(!1),M=Object(o.a)(z,2),B=M[0],F=M[1],R=Object(l.useState)(!0),_=Object(o.a)(R,2),q=_[0],W=_[1],U=Object(l.useRef)(),V=Object(l.useRef)([]),K=Object(l.useRef)(),G=Object(l.useRef)(),H=Object(l.useRef)([]),Y=Object(l.useRef)(0),J=Object(l.useState)(""),X=Object(o.a)(J,2),Q=X[0],$=X[1],Z=Object(l.useState)([]),ee=Object(o.a)(Z,2),te=ee[0],ne=ee[1],ae=Object(l.useState)(null),re=Object(o.a)(ae,2),ce=re[0],ie=re[1],oe=Object(l.useState)(null),se=Object(o.a)(oe,2),le=se[0],de=se[1],ue=Object(l.useState)(!1),je=Object(o.a)(ue,2),be=je[0],pe=je[1],me=Object(l.useState)(!1),fe=Object(o.a)(me,2),he=fe[0],Oe=fe[1],xe=Object(O.n)().data,ve=Object(d.b)(),ge=ve.localCert,ye=ve.isLocalCertMatching,we=null===xe||void 0===xe?void 0:xe.find((function(e){return e.owner===(null===le||void 0===le?void 0:le.provider)})),ke=Object(O.k)(null===we||void 0===we?void 0:we.host_uri,le||{},{enabled:!1}),Ce=ke.data,Se=ke.refetch,Ie=ke.isFetching,Ne=Object(C.b)({defaultValues:{command:""}}),Te=Ne.handleSubmit,Ee=Ne.control,Le=Ne.setValue;Object(l.useEffect)((function(){return function(){var e;null===(e=a)||void 0===e||e.close()}}),[]),Object(l.useEffect)((function(){Ce&&(ne(Object.keys(Ce.services)),ie(Object.keys(Ce.services)[0]),P(!0))}),[Ce]);var De=Object(k.a)((function(){var e=V.current.map((function(e){return e})).join("\n");$(e),W(!1);var t=K.current.editor;t.revealLine(t.getModel().getLineCount(),1),t.setSelection(new v.Selection(0,0,0,0)),G.current.focus()}),[],1e3);Object(l.useEffect)((function(){n&&0!==n.length&&de(n[0])}),[n]),Object(l.useEffect)((function(){le&&we&&Se()}),[le,we,Se]),Object(l.useEffect)((function(){var t;if(L&&we&&ye&&le&&ce&&!B){V.current=[];var n="".concat(we.host_uri,"/lease/").concat(le.dseq,"/").concat(le.gseq,"/").concat(le.oseq,"/shell?stdin=0&tty=0&podIndex=0&cmd0=ls&service=").concat(ce);W(!0),null===(t=a)||void 0===t||t.close(),a=window.electron.openWebSocket(n,ge.certPem,ge.keyPem,(function(t){var n,a,r,c=e.from(t.data).toString("utf-8",1);try{a=(n=JSON.parse(c)).exit_code,r=n.message}catch(i){}void 0!==a&&(c=r?"An error has occured: ".concat(r):"// Connection established to service '".concat(ce,"'! \u2601 \ud83d\ude80 \ud83c\udf19\n// Type a command below like 'ls':"),V.current=V.current.concat([c]),De(),F(!0))}))}}),[we,ye,le,ce,ge.certPem,ge.keyPem,B]);var Ae=function(){var t=Object(i.a)(c.a.mark((function t(n){var a,r,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=n.command,B&&!q){t.next=3;break}return t.abrupt("return");case 3:r="".concat(we.host_uri,"/lease/").concat(le.dseq,"/").concat(le.gseq,"/").concat(le.oseq,"/shell?stdin=0&tty=0&podIndex=0").concat(a.split(" ").map((function(e,t){return"&cmd".concat(t,"=").concat(encodeURIComponent(e.replace(" ","+")))})).join(""),"&service=".concat(ce)),V.current=V.current.concat(["\n// command: ".concat(a,"\n// ---------------------------")]),De(),H.current=H.current.concat([a]),Y.current=H.current.length,Le("command",""),W(!0),i=window.electron.openWebSocket(r,ge.certPem,ge.keyPem,(function(t){var n,a,r,c=e.from(t.data).toString("utf-8",1).replace(/^\n|\n$/g,"");try{a=(n=JSON.parse(c)).exit_code,r=n.message}catch(o){}void 0!==a&&(c=r?"An error has occured: ".concat(r):"",i.close()),V.current=V.current.concat([c]),De()}));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();var Pe=function(){var e=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Oe(!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ze=function(e){if(0!==H.current.length){var t=e.code;if("ArrowUp"===t||"ArrowDown"===t){var n="ArrowUp"===t?Math.max(Y.current-1,0):Math.min(Y.current+1,H.current.length-1),a=H.current[n];Y.current=n,Le("command",a||"")}"Escape"===t&&(Y.current=H.current.length,Le("command",""))}};return Object(E.jsxs)("div",{className:r.root,children:[he&&Object(E.jsx)(S.a,{onCloseClick:function(){Oe(!1)},selectedLease:le,localCert:ge,providerInfo:we,selectedService:ce,isDownloadingFile:be,setIsDownloadingFile:pe}),ye?Object(E.jsx)(E.Fragment,{children:le&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(j.a,{display:"flex",alignItems:"center",justifyContent:"space-between",padding:".2rem .5rem",height:"45px",children:[Object(E.jsxs)(j.a,{display:"flex",alignItems:"center",children:[(null===n||void 0===n?void 0:n.length)>1&&Object(E.jsx)(I.a,{leases:n,defaultValue:le.id,onSelectedChange:function(e){de(n.find((function(t){return t.id===e}))),e!==le.id&&($(""),W(!0),ne([]),ie(null),P(!1),F(!1))}}),(null===te||void 0===te?void 0:te.length)>0&&ce&&Object(E.jsx)(j.a,{marginLeft:(null===n||void 0===n?void 0:n.length)>1?".5rem":0,children:Object(E.jsx)(T.a,{services:te,defaultValue:ce,onSelectedChange:function(e){ie(e),e!==ce&&($(""),F(!1))}})}),Ie&&Object(E.jsx)(j.a,{marginLeft:"1rem",children:Object(E.jsx)(b.a,{size:"1rem"})})]}),Object(E.jsx)(j.a,{display:"flex",alignItems:"center",children:ge&&Object(E.jsx)("div",{children:Object(E.jsx)(p.a,{onClick:Pe,variant:"contained",size:"small",color:"primary",disabled:be||!B,children:be?Object(E.jsx)(b.a,{size:"1.5rem",color:"primary"}):"Download file"})})})]}),Object(E.jsx)(w.a,{isLoading:q}),Object(E.jsx)(y.a,{bottomElementId:"footer",overflow:"hidden",offset:39,children:Object(E.jsx)(N.a,{value:Q,monacoRef:K,options:A})}),Object(E.jsx)("div",{id:"terminal-command",children:Object(E.jsx)("form",{onSubmit:Te(Ae),ref:U,className:r.commandForm,children:Object(E.jsx)(m.a,{className:r.commandInputRoot,fullWidth:!0,children:Object(E.jsx)(C.a,{control:Ee,name:"command",render:function(e){var t=e.field;return Object(E.jsx)(f.a,Object(s.a)(Object(s.a)({},t),{},{type:"text",variant:"outlined",autoFocus:!0,placeholder:"Type command",fullWidth:!0,onKeyDown:ze,InputProps:{ref:G,classes:{input:r.commandInput,root:r.commandInputBase},endAdornment:Object(E.jsx)(h.a,{position:"end",className:r.clearButtonContainer,children:Object(E.jsx)(p.a,{size:"small",onClick:function(){return V.current=[],void De()},variant:"contained",className:r.clearButton,disabled:q||!B,children:"Clear"})})}}))}})})})})]})}):Object(E.jsx)(j.a,{mt:1,children:Object(E.jsx)(x.a,{severity:"info",children:"You need a valid certificate to access the lease shell."})})]})}}).call(this,n(79).Buffer)},1067:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var a=n(28),r=n(8),c=n.n(r),i=n(38),o=n(14),s=n(2),l=n(455),d=n(1798),u=n(1783),j=n(1784),b=n(203),p=n(587),m=n(1090),f=n(1789),h=n(491),O=n(586),x=n(444),v=n(95),g=n(1089),y=n(92),w=n(0),k=Object(l.a)((function(e){return{dialogTitle:{paddingBottom:0},dialogActions:{display:"flex",alignItems:"center",justifyContent:"space-between"},formControl:{marginBottom:"1rem"},alert:{marginBottom:"1rem"}}})),C=function(e){var t=e.selectedLease,n=e.localCert,r=e.onCloseClick,l=e.selectedService,C=e.providerInfo,I=e.setIsDownloadingFile,N=e.isDownloadingFile,T=Object(s.useState)("linux"),E=Object(o.a)(T,1)[0],L=Object(s.useRef)(),D=k(),A=Object(x.b)().launchAsyncTask,P=Object(v.b)({defaultValues:{filePath:""}}),z=P.handleSubmit,M=P.control,B=P.formState.errors,F=function(){var e=Object(i.a)(c.a.mark((function e(a){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.filePath,I(!0),e.next=4,A(Object(i.a)(c.a.mark((function e(){var a,i,o,s,d,u,j,b;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=S(E),i="".concat(a," ").concat(r),o="".concat(C.host_uri,"/lease/").concat(t.dseq,"/").concat(t.gseq,"/").concat(t.oseq,"/shell?stdin=0&tty=0&podIndex=0").concat(i.split(" ").map((function(e,t){return"&cmd".concat(t,"=").concat(encodeURIComponent(e.replace(" ","+")))})).join(""),"&service=".concat(l)),s=r.split("\\").pop().split("/").pop(),e.next=6,window.electron.appPath("temp");case 6:return d=e.sent,e.next=9,window.electron.downloadFile(d,o,n.certPem,n.keyPem,s);case 9:return u=e.sent,e.next=12,window.electron.appPath("downloads");case 12:return j=e.sent,b="".concat(j,"/").concat(s),e.next=16,window.electron.saveFileFromTemp(u,b,{dialogTitle:"Save file",buttonLabel:"Save",filters:[{name:"*",extensions:["*"]}],properties:[]});case 16:case"end":return e.stop()}}),e)}))),(function(){window.electron.cancelDownloadFile(),I(!1)}),"Downloading file...");case 4:return e.next=6,y.b.event("deploy","downloaded shell file");case 6:I(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsxs)(d.a,{open:!0,maxWidth:"xs",fullWidth:!0,onClose:r,children:[Object(w.jsx)(u.a,{className:D.dialogTitle,children:"Download file"}),Object(w.jsxs)(j.a,{className:D.dialogContent,children:[Object(w.jsx)(g.a,{severity:"info",className:D.alert,children:Object(w.jsx)(b.a,{variant:"caption",children:"Enter the path of a file on the server to be downloaded. Example: public/index.html"})}),Object(w.jsx)("form",{onSubmit:z(F),ref:L,className:D.commandForm,children:Object(w.jsx)(p.a,{fullWidth:!0,children:Object(w.jsx)(v.a,{control:M,name:"filePath",rules:{required:!0},render:function(e){var t=e.field,n=e.fieldState;return Object(w.jsx)(m.a,Object(a.a)(Object(a.a)({},t),{},{type:"text",label:"File path",error:!!n.invalid,helperText:n.invalid&&"File path is required.",variant:"outlined",autoFocus:!0,placeholder:"Type a valid file path",fullWidth:!0}))}})})})]}),Object(w.jsxs)(f.a,{className:D.dialogActions,children:[Object(w.jsx)(h.a,{onClick:r,children:"Cancel"}),Object(w.jsx)(h.a,{variant:"contained",onClick:function(e){e.preventDefault(),L.current.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))},type:"button",color:"primary",disabled:N||!!B.filePath,children:N?Object(w.jsx)(O.a,{size:"1.5rem",color:"primary"}):"Download"})]})]})},S=function(e){switch(e){case"linux":case"macos":return"cat";case"windows":return"type";default:return"cat"}}},1068:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(14),r=n(2),c=n(455),i=n(203),o=n(1086),s=n(1087),l=n(587),d=n(1088),u=n(0),j=Object(c.a)((function(e){return{formControl:{minWidth:"150px",width:"auto"},menuRoot:{paddingTop:"17px",paddingBottom:"2px"},selectLabel:{top:"2px",left:"4px"}}})),b=function(e){var t=e.defaultValue,n=e.services,c=e.onSelectedChange,b=j(),p=Object(r.useState)(t),m=Object(a.a)(p,2),f=m[0],h=m[1];return Object(u.jsxs)(l.a,{className:b.formControl,children:[Object(u.jsx)(o.a,{id:"service-select-label",className:b.selectLabel,children:"Services"}),Object(u.jsx)(d.a,{labelId:"service-select-label",value:f,onChange:function(e){var t=e.target.value;h(t),c(t)},variant:"outlined",classes:{selectMenu:b.menuRoot},children:n.map((function(e){return Object(u.jsx)(s.a,{value:e,size:"small",children:Object(u.jsx)(i.a,{variant:"caption",children:e})},e)}))})]})}},111:function(e,t,n){"use strict";n.d(t,"k",(function(){return j})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return p})),n.d(t,"i",(function(){return m})),n.d(t,"h",(function(){return f})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return O})),n.d(t,"e",(function(){return v})),n.d(t,"l",(function(){return y})),n.d(t,"f",(function(){return k})),n.d(t,"j",(function(){return S})),n.d(t,"g",(function(){return I}));var a=n(23),r=n(8),c=n.n(r),i=n(38),o=n(9),s=n(28),l=n(312),d=n(256),u={algorithm:"argon2id",params:{outputLength:32,opsLimit:24,memLimitKib:12288}},j=function(){return{wallets:p()}};function b(){var e=p();return e.find((function(e){return e.selected}))||e[0]||{}}function p(){var e=localStorage.getItem("selectedNetworkId");return JSON.parse(localStorage.getItem("".concat(e,"/wallets")))||[]}function m(e,t){var n=p(),a=n.find((function(t){return t.address===e}));a=t(a),f(n.map((function(t){return t.address===e?a:t})))}function f(e){var t=localStorage.getItem("selectedNetworkId");localStorage.setItem("".concat(t,"/wallets"),JSON.stringify(e))}function h(e,t){var n=localStorage.getItem("selectedNetworkId"),a=p().filter((function(t){return t.address!==e})).map((function(e,t){return Object(s.a)(Object(s.a)({},e),{},{selected:0===t})}));if(f(a),localStorage.removeItem("".concat(n,"/").concat(e,"/settings")),localStorage.removeItem("".concat(n,"/").concat(e,"/provider.data")),t){var r,c=Object.keys(localStorage).filter((function(t){return t.startsWith("".concat(n,"/").concat(e,"/deployments/"))})),i=Object(o.a)(c);try{for(i.s();!(r=i.n()).done;){var l=r.value;localStorage.removeItem(l)}}catch(d){i.e(d)}finally{i.f()}}return a}function O(e,t){return x.apply(this,arguments)}function x(){return(x=Object(i.a)(c.a.mark((function e(t,n){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.DirectSecp256k1HdWallet.generate(t,{prefix:"akash",bip39Password:n});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e,t,n){return g.apply(this,arguments)}function g(){return(g=Object(i.a)(c.a.mark((function e(t,n,r){var i,o,j,b,m,h,O,x,v,g,y=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=y.length>3&&void 0!==y[3]?y[3]:0,o=y.length>4&&void 0!==y[4]?y[4]:0,j=y.length>5&&void 0!==y[5]?y[5]:0,b=Object(d.stringToPath)("m/44'/118'/".concat(i,"'/").concat(o,"/").concat(j)),e.next=6,l.DirectSecp256k1HdWallet.fromMnemonic(t,{prefix:"akash",hdPaths:[b]});case 6:return m=e.sent,e.next=9,window.electron.executeKdf(r,u);case 9:return h=e.sent,O=Uint8Array.of.apply(Uint8Array,Object(a.a)(Object.values(h))),e.next=13,m.serializeWithEncryptionKey(O,u);case 13:return x=e.sent,e.next=16,m.getAccounts();case 16:if(v=e.sent[0].address,!(g=p()).some((function(e){return e.address===v}))){e.next=20;break}throw new Error("This wallet is already imported.");case 20:return f(g.concat([{name:n,address:v,serializedWallet:x}]).map((function(e){return Object(s.a)(Object(s.a)({},e),{},{selected:e.address===v})}))),m.name=n,m.selected=!0,m.address=v,e.abrupt("return",m);case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return w.apply(this,arguments)}function w(){return(w=Object(i.a)(c.a.mark((function e(t){var n,r,i,o,s,d,u,j;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=p(),r=[],i=0;case 3:if(!(i<n.length)){e.next=20;break}return o=n[i],s=Object(l.extractKdfConfiguration)(o.serializedWallet),e.next=8,window.electron.executeKdf(t,s);case 8:return d=e.sent,u=Uint8Array.of.apply(Uint8Array,Object(a.a)(Object.values(d))),e.next=12,l.DirectSecp256k1HdWallet.deserializeWithEncryptionKey(o.serializedWallet,u);case 12:(j=e.sent).name=o.name,j.selected=o.selected,j.address=o.address,r.push(j);case 17:i++,e.next=3;break;case 20:return e.abrupt("return",r);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return C.apply(this,arguments)}function C(){return(C=Object(i.a)(c.a.mark((function e(t){var n,r,i,o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=b(),r=Object(l.extractKdfConfiguration)(n.serializedWallet),e.next=4,window.electron.executeKdf(t,r);case 4:return i=e.sent,o=Uint8Array.of.apply(Uint8Array,Object(a.a)(Object.values(i))),e.next=8,l.DirectSecp256k1HdWallet.deserializeWithEncryptionKey(n.serializedWallet,o);case 8:return(s=e.sent).name=n.name,e.abrupt("return",s);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return b()}function I(e,t){m(e,(function(e){return Object(s.a)(Object(s.a)({},e),{},{name:t})}))}},1114:function(e,t,n){"use strict";(function(e,t){for(var a,r,c=n(8),i=n.n(c),o=n(38),s=function(e,t,n){var a=new Worker(e);return a.postMessage({args:t,options:n}),a.onmessage=function(e){console.log("onmessage",e)},a.onmessageerror=function(e){console.log("onmessageerror",e)},a.onerror=function(e){console.log("onerror",e)},a.onclose=function(e){console.log("onclose",e)},a.onexit=function(e){console.log("onexit",e)},a.on=function(e,t){return console.log("on",e,t),!0},a.send=function(e){return console.log("send",e),e},a.kill=function(){return console.log("kill"),!1},a.disconnect=function(){return console.log("disconnect"),!1},a.stdout={on:function(e,t){return console.log("stdout.on",e,t),!0}},a.stdin={on:function(e,t){return console.log("stdin.on",e,t),!0}},a.stderr={on:function(e,t){return console.log("stderr.on",e,t),!0}},a},l=n(312).executeKdf,d=n(1257),u=n(320),j=n(1276),b=n(1351),p=["update_available","update_downloaded","download_update","restart_app","show_notification","check_update","relaunch"],m={dialogTitle:"Save",buttonLabel:"Save",filters:[{name:"txt",extensions:["txt"]}],properties:[]},f=function(e,t){var n=document.getElementById(e);n&&(n.innerText=t)},h=0,O=["chrome","node","electron"];h<O.length;h++){var x=O[h];f("".concat(x,"-version"),e.versions[x])}window.electron={queryProvider:function(e,t,n,a,r){return d.queryProvider(e,t,n,a,r)},openWebSocket:function(e,t,n,a){return d.openWebSocket(e,t,n,a)},openUrl:function(e){window.open(e,"_blank")},getAppVersion:function(){return"1.0.0"},getAppEnvironment:function(){return"development"},isDev:function(){return""},appPath:function(e){return""},openTemplateFromFile:function(){var e=Object(o.a)(i.a.mark((function e(){var t,n,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t="").canceled){e.next=5;break}return e.abrupt("return",null);case 5:return n=t.filePaths[0],e.next=8,j.readFile(n);case 8:return a=e.sent,r=a.toString(),e.abrupt("return",{path:n,content:r});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),downloadLogs:function(){var e=Object(o.a)(i.a.mark((function e(n,r,c,o,l){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,i){function d(){a.kill(),a=null}(a=s(u.join(t,"/workers/log.worker-bundle.js"),["args"],{stdio:["pipe","pipe","pipe","ipc"]})).on("error",(function(e){i("Spawn failed! ("+e+")"),d()})),a.stderr.on("data",(function(e){i(e),d()})),a.on("message",(function(t){e(t),d()})),a.send({appPath:n,url:r,certPem:c,prvPem:o,fileName:l})})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c){return e.apply(this,arguments)}}(),cancelSaveLogs:function(){var e=Object(o.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(t=a)||void 0===t||t.send("cleanup"),e.next=3,b.sleep(500);case 3:throw null===(n=a)||void 0===n||n.kill(),a=null,new Error("Cancelled export logs");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),saveFileFromTemp:function(){var e=Object(o.a)(i.a.mark((function e(t,n){var a,r,c=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.length>2&&void 0!==c[2]?c[2]:m,!(a="").canceled){e.next=6;break}return e.abrupt("return",null);case 6:return r=a.filePath,e.next=9,j.rename(t,r);case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),downloadFile:function(){var e=Object(o.a)(i.a.mark((function e(n,a,c,o,l){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,i){function d(){r.kill(),r=null}(r=s(u.join(t,"/workers/download.worker-bundle.js"),["args"],{stdio:["pipe","pipe","pipe","ipc"]})).on("error",(function(e){i("Spawn failed! ("+e+")"),d()})),r.stderr.on("data",(function(e){i(e),d()})),r.on("message",(function(t){e(t),d()})),r.send({appPath:n,url:a,certPem:c,prvPem:o,fileName:l})})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c){return e.apply(this,arguments)}}(),cancelDownloadFile:function(){var e=Object(o.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(t=r)||void 0===t||t.send("cleanup"),e.next=3,b.sleep(500);case 3:throw null===(n=r)||void 0===n||n.kill(),r=null,new Error("Cancelled download file");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),executeKdf:function(){var e=Object(o.a)(i.a.mark((function e(t,n){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t,n);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),api:{send:function(e,t){p.includes(e)},receive:function(e,t){p.includes(e)},removeAllListeners:function(e){p.includes(e)}}}}).call(this,n(74),"/")},1117:function(e,t){},1154:function(e,t){},1156:function(e,t){},1166:function(e,t){},1168:function(e,t){},1194:function(e,t){},1196:function(e,t){},1197:function(e,t){},1203:function(e,t){},1222:function(e,t){},1234:function(e,t){},1237:function(e,t){},1257:function(e,t,n){"use strict";n.r(t),function(e,t,a){var r=n(8),c=n.n(r),i=n(38),o=n(320),s=n(1021).nanoid,l=null;!function(){var r=t.replace("asar","asar.unpacked");o.join(r,function(){switch(a.platform){case"win32":return"./tools/cloudmos-provider-proxy.exe";case"linux":return"./tools/cloudmos-provider-proxy-lin";case"darwin":return"./tools/cloudmos-provider-proxy";default:return console.log("Unsupported platform: "+a.platform),""}}()),(l=function(t,a,r){var c={send:function(t){return"fetch"===t.type&&(console.log("fetch",t),n(127)({method:t.method,url:t.url,headers:t.headers,data:t.body,responseType:"arraybuffer"}).then((function(n){return console.log("fetch response",n),c.onmessage({data:{id:t.id,type:"fetch",response:{ok:!0,status:n.status,statusText:n.statusText,headers:n.headers,body:e.from(n.data).toString("base64")},error:null}}),n})).catch((function(e){console.log("fetch error",e),c.onmessage({data:{id:t.id,type:"fetch",response:null,error:e}})}))),!0},on:function(e,t){return console.log("on",e,t),!0},stdout:{on:function(e,t){return console.log("stdout.on",e,t),!0}},stdin:{on:function(e,t){return console.log("stdin.on",e,t),!0}},stderr:{on:function(e,t){return console.log("stderr.on",e,t),!0}},kill:function(){return console.log("kill"),!1},disconnect:function(){return console.log("disconnect"),!1},onmessage:function(e){console.log("onmessage",e)}};return c}()).stdout.on("data",(function(e){})),l.on("message",(function(e){"fetch"===e.type?(e.error?d[e.id].rej(e.error):d[e.id].res(e.response),delete d[e.id]):"websocket"===e.type&&u[e.id]&&u[e.id].onMessage(e.message)})),l.on("close",(function(e,t){console.error("Proxy was closed with code: "+e)})),l.on("error",(function(e){console.error(e)})),l.on("exit",(function(e,t){console.error("Proxy exited with code: "+e)}))}();var d=[],u=[];function j(e,t,n,a,r){return b.apply(this,arguments)}function b(){return(b=Object(i.a)(c.a.mark((function e(t,n,a,r,i){var o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=s(),e.abrupt("return",new Promise((function(e,c){d[o]={res:e,rej:c},l.send({id:o,type:"fetch",url:t,method:n,body:a,certPem:r,keyPem:i})})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}exports.openWebSocket=function(e,t,n,a){var r=s();return u[r]={onMessage:a},l.send({id:r,type:"websocket",url:e,certPem:t,keyPem:n}),{close:function(){l.send({id:r,type:"websocket_close"}),delete u[r]},send:function(e){l.send({id:r,type:"message",command:e})}}},exports.queryProvider=function(){var e=Object(i.a)(c.a.mark((function e(t,n,a,r,i){var o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j(t,n,a,r,i);case 3:return o=e.sent,e.abrupt("return",o);case 7:throw e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,a,r,c){return e.apply(this,arguments)}}()}.call(this,n(79).Buffer,"/",n(74))},1304:function(e,t){},1305:function(e,t){},1306:function(e,t){},1333:function(e,t){},1341:function(e,t){},1343:function(e,t){},1351:function(e,t){t.sleep=function(e){return new Promise((function(t){return setTimeout(t,e)}))}},1356:function(e,t,n){},139:function(e,t,n){"use strict";n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return g}));var a=n(8),r=n.n(a),c=n(28),i=n(38),o=n(14),s=n(2),l=n.n(s),d=n(115),u=n(449),j=n(100),b=n(89),p=n(82),m=n(127),f=n.n(m),h=n(57),O=n(111),x=n(0),v=l.a.createContext({}),g=function(e){var t=e.children,n=Object(s.useState)([]),a=Object(o.a)(n,2),l=a[0],m=a[1],g=Object(s.useState)(null),y=Object(o.a)(g,2),w=y[0],k=y[1],C=Object(s.useState)(!1),S=Object(o.a)(C,2),I=S[0],N=S[1],T=Object(s.useState)(null),E=Object(o.a)(T,2),L=E[0],D=E[1],A=Object(s.useState)(null),P=Object(o.a)(A,2),z=P[0],M=P[1],B=Object(s.useState)(!1),F=Object(o.a)(B,2),R=F[0],_=F[1],q=Object(j.b)().settings,W=Object(d.b)().enqueueSnackbar,U=Object(b.b)(),V=U.address,K=U.selectedWallet,G=q.apiEndpoint,H=Object(s.useCallback)(function(){var e=Object(i.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.prev=1,e.next=4,f.a.get("https://proxy-cors-006.herokuapp.com/"+"".concat(G,"/akash/cert/").concat(h.i,"/certificates/list?filter.state=valid&filter.owner=").concat(V));case 4:return n=e.sent,a=(n.data.certificates||[]).map((function(e){var t=atob(e.certificate.cert),n=Object(u.b)(t);return Object(c.a)(Object(c.a)({},e),{},{parsed:t,pem:n})})),m(a),N(!1),t&&W(Object(x.jsx)(p.a,{title:"Certificate refreshed!",iconVariant:"success"}),{variant:"success"}),e.abrupt("return",a);case 12:return e.prev=12,e.t0=e.catch(1),console.log(e.t0),N(!1),W(Object(x.jsx)(p.a,{title:"Error fetching certificate.",iconVariant:"error"}),{variant:"error"}),e.abrupt("return",[]);case 18:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),[V,G,z,w]);Object(s.useEffect)((function(){V&&H()}),[V]),Object(s.useEffect)((function(){K||(m([]),k(null),M(null))}),[K]),Object(s.useEffect)((function(){var e=!1;if((null===l||void 0===l?void 0:l.length)>0&&z){var t=l.find((function(e){return e.parsed===z.certPem}));!w&&t?k(t):t=l.find((function(e){return e.parsed===z.certPem&&(null===w||void 0===w?void 0:w.serial)===e.serial})),e=!!t}_(e)}),[w,z,l]);var Y=function(){var e=Object(i.a)(r.a.mark((function e(t){var n,a,i,o,s,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(O.d)(),a=Object(O.c)(),i=[],o=0;case 4:if(!(o<n.length)){e.next=14;break}return s=n[o],e.next=8,Object(u.c)(t,s.cert,s.certKey);case 8:l=e.sent,i.push(Object(c.a)(Object(c.a)({},l),{},{address:s.address})),s.address===a.address&&M(l);case 11:o++,e.next=4;break;case 14:D(i);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)(v.Provider,{value:{loadValidCertificates:H,selectedCertificate:w,setSelectedCertificate:k,isLoadingCertificates:I,loadLocalCert:Y,localCert:z,setLocalCert:M,isLocalCertMatching:R,validCertificates:l,setValidCertificates:m,localCerts:L,setLocalCerts:D},children:t})},y=function(){return Object(c.a)({},l.a.useContext(v))}},142:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return x})),n.d(t,"d",(function(){return v})),n.d(t,"e",(function(){return y})),n.d(t,"f",(function(){return w}));var a=n(8),r=n.n(a),c=n(38),i=n(1),o=n(6),s=n(7),l=n(188),d=n(127),u=n.n(d),j=n(1530),b=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).name="CustomValidationError",a}return n}(Object(l.a)(Error)),p={Ki:1024,Mi:1048576,Gi:1073741824,Ti:1099511627776,Pi:0x4000000000000,Ei:0x1000000000000000,K:1e3,M:1e6,G:1e9,T:1e12,P:1e15,E:1e18,Kb:1e3,Mb:1e6,Gb:1e9,Tb:1e12,Pb:1e15,Eb:1e18};function m(e){return f.apply(this,arguments)}function f(){return(f=Object(c.a)(r.a.mark((function e(t){var n,a,c,i,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new TextEncoder,a=(a=(a=(a=(a=JSON.stringify(t)).replaceAll('"quantity":{"val','"size":{"val')).replaceAll('"mount":','"readOnlyTmp":')).replaceAll('"readOnly":','"mount":')).replaceAll('"readOnlyTmp":','"readOnly":'),c=n.encode(h(a)),e.next=9,crypto.subtle.digest("SHA-256",c);case 9:return i=e.sent,o=O(i),e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return j(JSON.parse(e)).replace(/</g,"\\u003c").replace(/>/g,"\\u003e").replace(/&/g,"\\u0026")}function O(e){for(var t="",n=new Uint8Array(e),a=n.byteLength,r=0;r<a;r++)t+=String.fromCharCode(n[r]);return window.btoa(t)}function x(e){var t;switch(e&&(e=e.toUpperCase()),e){case"TCP":case"":case void 0:t="TCP";break;case"UDP":t="UDP";break;default:throw new b("Unsupported Service Protocol "+e)}return t}function v(e){return g.apply(this,arguments)}function g(){return(g=Object(c.a)(r.a.mark((function e(t){var n,a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("https://proxy-cors-006.herokuapp.com/"+"".concat(t,"/blocks/latest"));case 2:return n=e.sent,a=n.data,c=parseInt(a.block.header.height),e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){try{var t=Object.keys(p).find((function(t){return e.toString().toLowerCase().endsWith(t.toLowerCase())}));if(t){var n=e.length-t.length,a=e.substring(0,n);return(parseFloat(a)*p[t]).toString()}return parseFloat(e)}catch(r){throw console.error(r),new Error("Error while parsing size: "+e)}}function w(e){return"TCP"===e.proto&&e.global&&80===function(e){if(0===e.externalPort)return e.port;return e.externalPort}(e)}},1542:function(e,t){},1544:function(e,t){},1576:function(e,t){},1778:function(e,t,n){"use strict";n.r(t);var a=n(8),r=n.n(a),c=n(38),i=(n(1114),n(2)),o=n.n(i),s=n(130),l=n.n(s),d=(n(1356),n(14)),u=n(28),j=n(455),b=n(1798),p=n(1783),m=n(1784),f=n(317),h=n(203),O=n(587),x=n(1090),v=n(1789),g=n(491),y=n(586),w=n(111),k=n(115),C=n(82),S=n(95),I=n(1027),N=n.n(I),T=n(1089),E=n(0),L=Object(j.a)((function(e){return{dialogContent:{padding:"1rem"},dialogActions:{display:"flex",alignItems:"center",justifyContent:"space-between"},alertRoot:{borderColor:e.palette.primary.main},alertMessage:{display:"flex",alignItems:"center"}}}));function D(e){var t=L(),n=Object(i.useRef)(),a=Object(i.useState)(!1),o=Object(d.a)(a,2),s=o[0],l=o[1],j=Object(k.b)().enqueueSnackbar,I=Object(S.b)({defaultValues:{password:""}}),D=I.handleSubmit,A=I.control,P=I.formState.errors,z=I.clearErrors,M=I.reset;Object(i.useEffect)((function(){M()}),[e.isOpen]);function B(){return(B=Object(c.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.password,z(),t.prev=2,l(!0),t.next=6,Object(w.f)(a);case 6:e.onConfirmPassword(a),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),"ciphertext cannot be decrypted using that key"===t.t0.message?j(Object(E.jsx)(C.a,{title:"Invalid password",iconVariant:"error"}),{variant:"error"}):(console.error(t.t0),j(Object(E.jsx)(C.a,{title:"Error while decrypting wallet",iconVariant:"error"}),{variant:"error"}));case 12:return t.prev=12,l(!1),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[2,9,12,15]])})))).apply(this,arguments)}return Object(E.jsxs)(b.a,{open:e.isOpen,onClose:e.onClose,children:[Object(E.jsx)(p.a,{children:"Confirm your password"}),Object(E.jsxs)(m.a,{dividers:!0,className:t.dialogContent,children:[Object(E.jsx)(f.a,{marginBottom:"1rem",children:Object(E.jsx)(T.a,{icon:Object(E.jsx)(N.a,{fontSize:"large",color:"primary"}),variant:"outlined",classes:{root:t.alertRoot,message:t.alertMessage},children:Object(E.jsx)(h.a,{variant:"caption",children:"Please input your password to proceed."})})}),Object(E.jsx)("form",{onSubmit:D((function(e){return B.apply(this,arguments)})),ref:n,children:Object(E.jsx)(O.a,{error:!P.password,fullWidth:!0,children:Object(E.jsx)(S.a,{control:A,name:"password",rules:{required:!0},render:function(e){var t=e.fieldState,n=e.field;return Object(E.jsx)(x.a,Object(u.a)(Object(u.a)({},n),{},{autoFocus:!0,type:"password",variant:"outlined",label:"Password",error:!!t.invalid,helperText:t.invalid&&"Password is required."}))}})})})]}),Object(E.jsxs)(v.a,{className:t.dialogActions,children:[Object(E.jsx)(g.a,{disabled:s,onClick:e.onClose,type:"button",children:"Cancel"}),Object(E.jsx)(g.a,{disabled:s,variant:"contained",color:"primary",onClick:function(e){e.preventDefault(),n.current.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))},children:s?Object(E.jsx)(y.a,{size:"24px",color:"primary"}):"Confirm"})]})]})}var A=o.a.createContext({}),P=function(e){var t=e.children,n=Object(i.useState)(!1),a=Object(d.a)(n,2),r=a[0],c=a[1],o=Object(i.useState)(null),s=Object(d.a)(o,2),l=s[0],u=s[1];return Object(E.jsxs)(A.Provider,{value:{openModal:function(e){c(!0),u(e)}},children:[Object(E.jsx)(D,{isOpen:r,onClose:function(){c(!1),l.actionCallback(null)},onConfirmPassword:function(e){c(!1),l.actionCallback(e)}}),t]})},z=function(){var e=o.a.useContext(A).openModal;return{askForPasswordConfirmation:function(){return new Promise((function(t){e({actionCallback:t})}))}}},M=n(139),B=n(29),F=n(1930),R=n(1963),_=n(1931),q=n(1932),W=n(1927),U=n(1793),V=n(1933),K=n(1934),G=n(1935);function H(e){return{id:e,"aria-controls":e}}var Y=n(215);function J(e){var t=e.children,n=e.value,a=e.index,r=Object(Y.a)(e,["children","value","index"]);return Object(E.jsx)("div",Object(u.a)(Object(u.a)({role:"tabpanel",hidden:n!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},r),{},{children:n===a&&t}))}var X=n(237),Q=n(314),$=n(89),Z=n(24),ee=n(1790),te=n(1928),ne=n(1973),ae=n(1929),re=n(98),ce=n(553),ie=n.n(ce),oe=n(1030),se=n.n(oe),le=n(551),de=n.n(le),ue=n(367),je=n.n(ue),be=n(1032),pe=n.n(be),me=n(1033),fe=n.n(me),he=n(1031),Oe=n.n(he),xe=n(552),ve=n.n(xe),ge=n(59),ye=n(232),we=Object(j.a)((function(e){return{root:{paddingTop:".5rem",paddingBottom:".5rem",borderBottom:"1px solid rgba(0,0,0,0.2)",wordBreak:"break-word",overflowWrap:"break-word"},avatarRoot:{height:"2rem",width:"2rem"},avatarIcon:{fontSize:"1rem"},listItemPrimaryText:{fontWeight:"bold"}}})),ke=function(e){var t=e.message,n=we(),a=Ce(t,n);return Object(E.jsx)(ee.a,{classes:{root:n.root},children:a})},Ce=function(e,t){switch(e.typeUrl){case re.a.Types.MSG_CLOSE_DEPLOYMENT:return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(te.a,{children:Object(E.jsx)(ne.a,{classes:{root:t.avatarRoot},children:Object(E.jsx)(se.a,{classes:{root:t.avatarIcon}})})}),Object(E.jsx)(ae.a,{primary:"Close Deployment",secondary:"Close deployment with dseq: ".concat(e.value.id.dseq),classes:{primary:t.listItemPrimaryText}})]});case re.a.Types.MSG_CREATE_CERTIFICATE:return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(te.a,{children:Object(E.jsx)(ne.a,{classes:{root:t.avatarRoot},children:Object(E.jsx)(de.a,{classes:{root:t.avatarIcon}})})}),Object(E.jsx)(ae.a,{primary:"Create Certificate",classes:{primary:t.listItemPrimaryText}})]});case re.a.Types.MSG_CREATE_DEPLOYMENT:return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(te.a,{children:Object(E.jsx)(ne.a,{classes:{root:t.avatarRoot},children:Object(E.jsx)(je.a,{classes:{root:t.avatarIcon}})})}),Object(E.jsx)(ae.a,{primary:"Create Deployment",secondary:Object(E.jsxs)(E.Fragment,{children:["New deployment with dseq ",Object(E.jsx)("strong",{children:e.value.id.dseq})," and a deposit of ",Object(E.jsxs)("strong",{children:[Object(ge.f)(e.value.deposit.amount),"AKT"]})]}),classes:{primary:t.listItemPrimaryText}})]});case re.a.Types.MSG_UPDATE_DEPLOYMENT:return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(te.a,{children:Object(E.jsx)(ne.a,{classes:{root:t.avatarRoot},children:Object(E.jsx)(je.a,{classes:{root:t.avatarIcon}})})}),Object(E.jsx)(ae.a,{primary:"Update Deployment",secondary:Object(E.jsxs)(E.Fragment,{children:["Update deployment with dseq ",Object(E.jsx)("strong",{children:e.value.id.dseq})]}),classes:{primary:t.listItemPrimaryText}})]});case re.a.Types.MSG_DEPOSIT_DEPLOYMENT:return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(te.a,{children:Object(E.jsx)(ne.a,{classes:{root:t.avatarRoot},children:Object(E.jsx)(Oe.a,{classes:{root:t.avatarIcon}})})}),Object(E.jsx)(ae.a,{primary:"Deposit Deployment",secondary:Object(E.jsxs)(E.Fragment,{children:["Add funds of ",Object(E.jsxs)("strong",{children:[Object(ge.f)(e.value.amount.amount),"AKT"]})," to deployment with dseq ",Object(E.jsx)("strong",{children:e.value.id.dseq})]}),classes:{primary:t.listItemPrimaryText}})]});case re.a.Types.MSG_CREATE_LEASE:return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(te.a,{children:Object(E.jsx)(ne.a,{classes:{root:t.avatarRoot},children:Object(E.jsx)(pe.a,{classes:{root:t.avatarIcon}})})}),Object(E.jsx)(ae.a,{primary:"Create Lease",secondary:Object(E.jsxs)(E.Fragment,{children:["New Lease with provider ",Object(E.jsx)("strong",{children:e.value.bid_id.provider}),", dseq: ",Object(E.jsx)("strong",{children:e.value.bid_id.dseq}),", gseq:"," ",Object(E.jsx)("strong",{children:e.value.bid_id.gseq}),", oseq: ",Object(E.jsx)("strong",{children:e.value.bid_id.oseq}),"."]}),classes:{primary:t.listItemPrimaryText}})]});case re.a.Types.MSG_REVOKE_CERTIFICATE:return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(te.a,{children:Object(E.jsx)(ne.a,{classes:{root:t.avatarRoot},children:Object(E.jsx)(fe.a,{classes:{root:t.avatarIcon}})})}),Object(E.jsx)(ae.a,{primary:"Revoke Certificate",secondary:"Serial: ".concat(e.value.id.serial),classes:{primary:t.listItemPrimaryText}})]});case re.a.Types.MSG_SEND_TOKENS:return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(te.a,{children:Object(E.jsx)(ne.a,{classes:{root:t.avatarRoot},children:Object(E.jsx)(ve.a,{classes:{root:t.avatarIcon}})})}),Object(E.jsx)(ae.a,{primary:"Send",secondary:Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("strong",{children:e.value.toAddress})," will receive ",Object(E.jsxs)("strong",{children:[Object(ge.f)(e.value.amount[0].amount,6),"AKT"]})]}),classes:{primary:t.listItemPrimaryText}})]});case re.a.Types.MSG_GRANT:return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(te.a,{children:Object(E.jsx)(ne.a,{classes:{root:t.avatarRoot},children:Object(E.jsx)(ie.a,{classes:{root:t.avatarIcon}})})}),Object(E.jsx)(ae.a,{primary:"Authorize Spend",secondary:Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("strong",{children:e.value.grantee})," will be able to spend up to"," ",Object(E.jsxs)("strong",{children:[Object(ge.f)(e.value.grant.authorization.value.spend_limit.amount,6),"AKT"]})," on your behalf. Expires:"," ",Object(E.jsx)(ye.a,{value:new Date(1e3*e.value.grant.expiration.seconds)}),"\xa0",Object(E.jsx)(ye.c,{value:new Date(1e3*e.value.grant.expiration.seconds)}),"."]}),classes:{primary:t.listItemPrimaryText}})]});default:return null}},Se=Object(j.a)((function(e){return{title:{fontWeight:"bold"},tabContent:{padding:0,height:500,overflowY:"hidden",display:"flex",flexDirection:"column"},badge:{right:"-1rem",top:"50%",fontSize:".5rem",height:".9rem",fontWeight:"bold"},label:{fontSize:".9rem",fontWeight:"bold"},tabPanel:{overflowY:"auto",padding:".5rem"},messages:{maxHeight:125,overflowY:"auto"},messagesData:{overflowX:"auto",whiteSpace:"pre",overflowWrap:"break-word",fontSize:".9rem"},fullWidth:{width:"100%"},feeButton:{flexGrow:1,flexBasis:"33.333333%"},feeButtonLabel:{display:"block",lineHeight:"1rem",padding:".5rem 0"},feeButtonLabelAmount:{fontSize:".8rem",color:"grey",fontWeight:"lighter",paddingTop:4},textWhite:{color:"#ffffff"},setGasLink:{display:"flex",justifyContent:"flex-end",padding:"2px",fontSize:".9rem",fontWeight:"bold"},actionButton:{flexGrow:1,flexBasis:"50%"},transactionLinkIcon:{fontSize:"1rem"},tooltip:{fontSize:"1rem"}}})),Ie=n(100),Ne=n(92),Te=n(57),Ee=n(1),Le=n(6),De=n(7),Ae=n(188),Pe=function(e){Object(Le.a)(n,e);var t=Object(De.a)(n);function n(e,a){var r;return Object(Ee.a)(this,n),(r=t.call(this,e)).txHash=a,r}return n}(Object(Ae.a)(Error)),ze=n(554),Me=n.n(ze),Be=n(1038),Fe=n.n(Be),Re=n(259),_e=n.n(Re),qe=n(127),We=n.n(qe),Ue=o.a.createContext({}),Ve=function(e){var t=e.children,n=Object(i.useState)({}),a=Object(d.a)(n,2),o=a[0],s=a[1],l=Object(i.useState)(!1),u=Object(d.a)(l,2),j=u[0],b=u[1],p=Object(i.useCallback)(Object(c.a)(r.a.mark((function e(){var t,n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j){e.next=2;break}return e.abrupt("return");case 2:return b(!0),e.prev=3,"https://api.coingecko.com/api/v3/coins/akash-network",e.next=7,We.a.get("https://proxy-cors-006.herokuapp.com/https://api.coingecko.com/api/v3/coins/akash-network");case 7:t=e.sent,n=t.data,a={price:parseFloat(n.market_data.current_price.usd),volume:parseInt(n.market_data.total_volume.usd),marketCap:parseInt(n.market_data.market_cap.usd),marketCapRank:n.market_cap_rank,priceChange24h:parseFloat(n.market_data.price_change_24h),priceChangePercentage24:parseFloat(n.market_data.price_change_percentage_24h)},s(a),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),console.log(e.t0),b(!1);case 17:case"end":return e.stop()}}),e,null,[[3,13]])}))),[j]);return Object(i.useEffect)((function(){p();var e=setInterval(Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:case"end":return e.stop()}}),e)}))),3e5);return function(){clearInterval(e)}}),[]),Object(E.jsx)(Ue.Provider,{value:{priceData:o,isLoadingPriceData:j,loadPriceData:p},children:t})},Ke=n(334),Ge=function(e){var t=e.value,n=e.showLt,a=Object(u.a)({},o.a.useContext(Ue)),r=a.priceData,c=a.isLoadingPriceData,i=parseFloat(t)*(null===r||void 0===r?void 0:r.price),s=i>0?Object(Ke.a)(i):0;return Object(E.jsxs)(E.Fragment,{children:[c&&!(null===r||void 0===r?void 0:r.price)&&Object(E.jsx)(y.a,{size:".8rem"}),n&&(null===r||void 0===r?void 0:r.price)&&i!==s&&"< ",(null===r||void 0===r?void 0:r.price)&&Object(E.jsx)(ye.b,{value:s,style:"currency",currency:"USD"})]})},He=n(247),Ye="transaction-tab";function Je(e){var t=e.isOpen,n=e.onConfirmTransaction,a=e.messages,o=e.onClose,s=Object(i.useState)(!1),l=Object(d.a)(s,2),j=l[0],O=l[1],w=Object(i.useState)(0),S=Object(d.a)(w,2),I=S[0],N=S[1],T=Object(i.useState)(""),L=Object(d.a)(T,2),D=L[0],A=L[1],P=Object(i.useState)(!1),z=Object(d.a)(P,2),M=z[0],Y=z[1],ee=Object(i.useState)(null),te=Object(d.a)(ee,2),ne=te[0],ae=te[1],re=Object(i.useState)(null),ce=Object(d.a)(re,2),ie=ce[0],oe=ce[1],se=Object(i.useState)(!1),le=Object(d.a)(se,2),de=le[0],ue=le[1],je=Object(i.useState)(!0),be=Object(d.a)(je,2),pe=be[0],me=be[1],fe=Object(i.useState)(null),he=Object(d.a)(fe,2),Oe=he[0],xe=he[1],ve=Object(i.useState)("average"),ye=Object(d.a)(ve,2),we=ye[0],Ce=ye[1],Te=Object(Ie.b)().settings,Ee=Object($.b)(),Le=Ee.address,De=Ee.selectedWallet,Ae=Ee.refreshBalance,ze=Se(),Me=Object(k.b)(),Be=Me.enqueueSnackbar,Re=Me.closeSnackbar,qe=ie&&parseFloat(ie)>0,We=ne&&parseInt(ne)>0;function Ue(){return(Ue=Object(c.a)(r.a.mark((function e(t){var c,i,o,s,l,d,u,j,b,p,m,f,h;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),O(!0),c=Be(Object(E.jsx)(C.a,{title:"Broadcasting transaction...",subTitle:"Please wait a few seconds",showLoading:!0}),{variant:"info",autoHideDuration:null}),e.prev=3,e.next=6,Q.SigningStargateClient.connectWithSigner(Te.rpcEndpoint,De,{registry:X.b,broadcastTimeoutMs:3e5});case 6:return i=e.sent,o=de?Object(X.a)(Object(ge.a)(ie),ne):Oe[we],e.next=10,i.signAndBroadcast(Le,a.map((function(e){return e.message})),o,D);case 10:if(s=e.sent,l=s.transactionHash,d=0!==s.code,console.log(s),!d){e.next=16;break}throw new Pe("Code "+s.code+" : "+s.rawLog,l);case 16:return Ve("Transaction succeeds!","",l,"success"),e.next=19,Ne.b.event("deploy","successful transaction");case 19:Ae(),n(s),e.next=33;break;case 23:return e.prev=23,e.t0=e.catch(3),console.error(e.t0),u=e.t0.txHash,j="An error has occured",e.next=30,Ne.b.event("deploy","failed transaction");case 30:if(e.t0.message.includes("was submitted but was not yet found on the chain"))j="Transaction timeout";else try{b=/Broadcasting transaction failed with code (.+?) \(codespace: (.+?)\)/i,p=e.t0.message.match(b),m=e.t0.message.substring(e.t0.message.indexOf("Log"),e.t0.message.length),p&&(f=parseInt(p[1]),"sdk"===p[2]&&f in(h={5:"Insufficient funds",9:"Unknown address",11:"Out of gas",12:"Memo too large",13:"Insufficient fee",19:"Tx already in mempool",25:"Invalid gas adjustment"})&&(j=h[f])),m&&(j+=". ".concat(m))}catch(r){console.error(r)}Ve("Transaction has failed...",j,u,"error"),O(!1);case 33:return e.prev=33,Re(c),e.finish(33);case 36:case"end":return e.stop()}}),e,null,[[3,23,33,36]])})))).apply(this,arguments)}Object(i.useEffect)((function(){Object(c.a)(r.a.mark((function e(){var t,n,c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q.SigningStargateClient.connectWithSigner(Te.rpcEndpoint,De,{registry:X.b,broadcastTimeoutMs:3e5});case 3:return t=e.sent,e.next=6,t.simulate(Le,a.map((function(e){return e.message})),D);case 6:n=e.sent,c=Math.round(1.5*n),i={low:Object(Q.calculateFee)(c,X.c.low),average:Object(Q.calculateFee)(c,X.c.average),high:Object(Q.calculateFee)(c,X.c.high)},xe(i),me(!1),oe(Object(ge.f)(i.average.amount[0].amount)),ae(c),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),me(!1),Be(Object(E.jsx)(C.a,{title:"Error",subTitle:"An error occured while simulating the tx.",iconVariant:"error"}),{variant:"error",autoHideDuration:1e4});case 19:case"end":return e.stop()}}),e,null,[[0,15]])})))()}),[]);var Ve=function(e,t,n,a){Be(Object(E.jsx)(C.a,{title:e,subTitle:Object(E.jsx)(Xe,{snackMessage:t,transactionHash:n}),iconVariant:a}),{variant:a,autoHideDuration:1e4})};return Object(E.jsxs)(b.a,{open:t,onClose:j||pe?null:o,maxWidth:"xs",fullWidth:!0,"aria-labelledby":"transaction-modal","aria-describedby":"transaction modal description",children:[Object(E.jsx)(p.a,{id:"transaction-modal",children:Object(E.jsx)("span",{className:ze.title,children:"Akash Transaction"})}),Object(E.jsxs)(m.a,{dividers:!0,classes:{root:ze.tabContent},children:[Object(E.jsx)(F.a,{position:"static",color:"default",children:Object(E.jsxs)(R.a,{value:I,onChange:function(e,t){N(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth","aria-label":"Akash transaction data",children:[Object(E.jsx)(_.a,Object(u.a)(Object(u.a)({label:"Details"},H("".concat(Ye,"-",0))),{},{disabled:pe})),Object(E.jsx)(_.a,Object(u.a)(Object(u.a)({label:"Data"},H("".concat(Ye,"-",1))),{},{disabled:pe}))]})}),Object(E.jsxs)(J,{value:I,index:0,className:ze.tabPanel,children:[Object(E.jsx)(q.a,{color:"primary",badgeContent:a.length,classes:{badge:ze.badge},children:Object(E.jsx)(h.a,{variant:"h4",className:ze.label,children:"Messages"})}),Object(E.jsx)(W.a,{dense:!0,className:ze.messages,children:a.map((function(e,t){var n=e.message;return Object(E.jsx)(ke,{message:n},"message_".concat(t))}))}),Object(E.jsx)(f.a,{padding:"1rem 0",children:Object(E.jsx)(x.a,{label:"Memo",disabled:j,value:D,onChange:function(e){var t=e.target.value;A(t);var n=(t||"").trim().split(" ");Y(12===n.length||24===n.length)},type:"text",variant:"outlined",inputProps:{maxLength:256},InputProps:{endAdornment:Object(E.jsx)(U.a,{position:"end",children:Object(E.jsx)(V.a,{classes:{tooltip:ze.tooltip},arrow:!0,title:"Memo field is usually used for specifying a customer ID for certain centralized exchanges. Never enter your mnemonic seed phrase / passphrase / password or anything sensitive! Everything in this field becomes permanently public, accessible by anyone!",children:M?Object(E.jsx)(_e.a,{fontSize:"small",color:"error"}):Object(E.jsx)(Fe.a,{fontSize:"small",color:"primary"})})})},classes:{root:ze.fullWidth}})}),pe?Object(E.jsx)(f.a,{display:"flex",alignItems:"center",justifyContent:"center",children:Object(E.jsx)(y.a,{size:"24px",color:"primary"})}):Oe?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(f.a,{children:Object(E.jsxs)(K.a,{size:"large",color:"primary","aria-label":"large outlined primary button group",classes:{root:ze.fullWidth},disabled:de,children:[Object(E.jsxs)(g.a,{disabled:j,classes:{root:ze.feeButton,label:ze.feeButtonLabel},variant:"low"===we?"contained":"outlined",onClick:function(){return Ce("low")},children:[Object(E.jsx)(f.a,{children:"Low"}),Object(E.jsx)(f.a,{children:Object(E.jsx)(h.a,{variant:"caption",children:Object(E.jsx)(Ge,{value:Object(ge.f)(Oe.low.amount[0].amount,4),showLt:!0})})}),Object(E.jsxs)("div",{className:Object(Z.a)(ze.feeButtonLabelAmount,Object(B.a)({},ze.textWhite,"low"===we)),children:[Object(ge.f)(Oe.low.amount[0].amount,4),"AKT"]})]}),Object(E.jsxs)(g.a,{disabled:j,classes:{root:ze.feeButton,label:ze.feeButtonLabel},variant:"average"===we?"contained":"outlined",onClick:function(){return Ce("average")},children:[Object(E.jsx)(f.a,{children:"Avg"}),Object(E.jsx)(f.a,{children:Object(E.jsx)(h.a,{variant:"caption",children:Object(E.jsx)(Ge,{value:Object(ge.f)(Oe.average.amount[0].amount,4),showLt:!0})})}),Object(E.jsxs)("div",{className:Object(Z.a)(ze.feeButtonLabelAmount,Object(B.a)({},ze.textWhite,"average"===we)),children:[Object(ge.f)(Oe.average.amount[0].amount,4),"AKT"]})]}),Object(E.jsxs)(g.a,{disabled:j,classes:{root:ze.feeButton,label:ze.feeButtonLabel},variant:"high"===we?"contained":"outlined",onClick:function(){return Ce("high")},children:[Object(E.jsx)(f.a,{children:"High"}),Object(E.jsx)(f.a,{children:Object(E.jsx)(h.a,{variant:"caption",children:Object(E.jsx)(Ge,{value:Object(ge.f)(Oe.high.amount[0].amount,4),showLt:!0})})}),Object(E.jsxs)("div",{className:Object(Z.a)(ze.feeButtonLabelAmount,Object(B.a)({},ze.textWhite,"high"===we)),children:[Object(ge.f)(Oe.high.amount[0].amount,4),"AKT"]})]})]})}),Object(E.jsxs)(f.a,{children:[!j&&Object(E.jsx)(h.a,{className:ze.setGasLink,children:Object(E.jsx)(G.a,{href:"#",onClick:function(e){e.preventDefault(),ue(!de)},children:"Set custom fee"})}),!j&&de&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(f.a,{marginBottom:".5rem",children:Object(E.jsx)(x.a,{label:"Fee (AKT)",value:ie,onChange:function(e){return oe(e.target.value)},type:"number",variant:"outlined",error:!qe,inputProps:{step:.001,min:0},classes:{root:ze.fullWidth}})}),Object(E.jsx)(f.a,{children:Object(E.jsx)(x.a,{label:"Gas",value:ne,onChange:function(e){return ae(e.target.value)},type:"number",variant:"outlined",error:!We,inputProps:{step:1,min:1},classes:{root:ze.fullWidth}})})]})]})]}):null]}),Object(E.jsx)(J,{value:I,index:1,className:Object(Z.a)(ze.tabPanel),children:Object(E.jsx)(f.a,{className:ze.messagesData,children:JSON.stringify(a.map((function(e){return e.message})),null,2)})})]}),Object(E.jsxs)(v.a,{children:[Object(E.jsx)(g.a,{variant:"outlined",color:"secondary",onClick:o,disabled:j,type:"button",classes:{root:ze.actionButton},children:"Reject"}),Object(E.jsx)(g.a,{variant:"contained",color:"primary",onClick:function(e){return Ue.apply(this,arguments)},disabled:j||!We||pe||!Oe,classes:{root:ze.actionButton},children:j?Object(E.jsx)(y.a,{size:"24px",color:"primary"}):"Approve"})]})]})}var Xe=function(e){var t=e.snackMessage,n=e.transactionHash,a=Se(),r=n&&Object(Te.n)(n,He.c);return Object(E.jsxs)(E.Fragment,{children:[t,t&&Object(E.jsx)("br",{}),r&&Object(E.jsxs)(f.a,{component:"a",display:"flex",alignItems:"center",href:"#",onClick:function(){return window.electron.openUrl(r)},children:["View transaction ",Object(E.jsx)(Me.a,{className:a.transactionLinkIcon})]})]})},Qe=o.a.createContext({}),$e=function(e){var t=e.children,n=Object(i.useState)(!1),a=Object(d.a)(n,2),r=a[0],c=a[1],o=Object(i.useState)(null),s=Object(d.a)(o,2),l=s[0],u=s[1];return Object(E.jsxs)(Qe.Provider,{value:{openModal:function(e){c(!0),u(e)}},children:[l&&Object(E.jsx)(Je,{isOpen:r,onClose:function(){c(!1),l.actionCallback(null),u(null)},onConfirmTransaction:function(e){c(!1),l.actionCallback(e),u(null)},messages:l.messages}),t]})},Ze=function(){var e=o.a.useContext(Qe).openModal;return{sendTransaction:function(t){return new Promise((function(n){e({actionCallback:n,messages:t})}))}}},et=n(1028);function tt(e){var t=localStorage.getItem("selectedNetworkId"),n=Object(w.c)(),a=localStorage.getItem("".concat(t,"/").concat(n.address,"/deployments/").concat(e,".data"));return a?JSON.parse(a):null}function nt(e,t,n,a,r){at(e,t,n,a),rt(e,{name:r})}function at(e,t,n,a){var r=tt(e)||{};r.owner=a,r.manifest=t,r.manifestVersion=n,rt(e,{owner:a,manifest:t,manifestVersion:n});var c=localStorage.getItem("selectedNetworkId"),i=Object(w.c)();localStorage.setItem("".concat(c,"/").concat(i.address,"/deployments/").concat(e,".data"),JSON.stringify(r))}function rt(e,t){var n=tt(e)||{},a=Object(u.a)(Object(u.a)({},n),t),r=localStorage.getItem("selectedNetworkId"),c=Object(w.c)();localStorage.setItem("".concat(r,"/").concat(c.address,"/deployments/").concat(e,".data"),JSON.stringify(a))}var ct=Object(j.a)((function(e){return{dialogContent:{padding:"1rem"},dialogActions:{display:"flex",alignItems:"center",justifyContent:"space-between"}}})),it=function(e){var t=e.dseq,n=e.onClose,a=e.onSaved,r=e.getDeploymentName,c=ct(),o=Object(i.useRef)(),s=Object(k.b)().enqueueSnackbar,l=Object(S.b)({defaultValues:{name:""}}),d=l.handleSubmit,j=l.control,f=l.setValue;Object(i.useEffect)((function(){if(t){var e=r(t);f("name",e||"")}}),[t,r]);return Object(E.jsxs)(b.a,{open:!!t,onClose:n,maxWidth:"xs",fullWidth:!0,children:[Object(E.jsxs)(p.a,{children:["Change Deployment Name ",t?"(".concat(t,")"):""]}),Object(E.jsx)(m.a,{dividers:!0,className:c.dialogContent,children:Object(E.jsx)("form",{onSubmit:d((function(e){var n=e.name;rt(t,{name:n}),s(Object(E.jsx)(C.a,{title:"Success!",iconVariant:"success"}),{variant:"success",autoHideDuration:1e3}),a()})),ref:o,children:Object(E.jsx)(O.a,{fullWidth:!0,children:Object(E.jsx)(S.a,{control:j,name:"name",render:function(e){var t=e.field;return Object(E.jsx)(x.a,Object(u.a)(Object(u.a)({},t),{},{autoFocus:!0,type:"text",variant:"outlined",label:"Name"}))}})})})}),Object(E.jsxs)(v.a,{className:c.dialogActions,children:[Object(E.jsx)(g.a,{onClick:n,children:"Close"}),Object(E.jsx)(g.a,{variant:"contained",color:"primary",onClick:function(e){e.preventDefault(),o.current.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))},children:"Save"})]})]})},ot=n(296),st=o.a.createContext({}),lt=function(e){var t=e.children,n=Object(i.useState)(null),a=Object(d.a)(n,2),r=a[0],c=a[1],o=Object(i.useState)([]),s=Object(d.a)(o,2),l=s[0],u=s[1];Object(i.useEffect)((function(){var e=Object(ot.b)();u(e.favorites)}),[]);var j=function(e){var t=tt(e);return t?t.name:null};return Object(E.jsxs)(st.Provider,{value:{getDeploymentName:j,changeDeploymentName:function(e){c(e)},getDeploymentData:function(e){var t=tt(e);return t||null},favoriteProviders:l,updateFavoriteProviders:function(e){Object(ot.e)({favorites:e}),u(e)}},children:[Object(E.jsx)(it,{dseq:r,onClose:function(){return c(null)},onSaved:function(){return c(null)},getDeploymentName:j}),t]})},dt=function(){return Object(u.a)({},o.a.useContext(st))},ut=n(123),jt=n(252),bt=n(148),pt=n(102),mt=Object(j.a)((function(e){return{root:{backgroundColor:"transparent",border:"none",cursor:"pointer",textDecoration:"underline",display:"inline-flex",margin:0,padding:0,color:"#0000EE","&:visited":{color:"#551A8B"},"&:disabled":{color:e.palette.grey[500],cursor:"initial"}}}})),ft=function(e){var t=e.children,n=Object(Y.a)(e,["children"]),a=mt();return Object(E.jsx)("button",Object(u.a)(Object(u.a)({type:"button"},n),{},{className:Object(Z.a)(null===n||void 0===n?void 0:n.className,a.root),children:t}))},ht=window.electron.api,Ot=Object(j.a)((function(e){return{root:{},card:{backgroundColor:e.palette.info.main,width:"100%"},typography:{fontWeight:"bold",color:e.palette.primary.contrastText},actionRoot:{padding:"8px 8px 8px 16px",justifyContent:"space-between"},icons:{marginLeft:"auto"},actionButton:{color:e.palette.primary.contrastText},white:{color:e.palette.common.white}}})),xt=function(){var e=Object(k.b)(),t=e.enqueueSnackbar,n=e.closeSnackbar,a=Object(i.useRef)(null),r=Object(i.useRef)(null),c=Object(i.useRef)(null),o=Ot();Object(i.useEffect)((function(){return ht.receive("update_available",(function(e){ht.removeAllListeners("update_available"),console.log("Update available",e),s(e.releaseNotes,e.releaseName,e.releaseDate)})),ht.receive("update_downloaded",(function(e){ht.removeAllListeners("update_downloaded"),console.log("Update downloaded:",e),d(e.releaseNotes,e.releaseName,e.releaseDate)})),ht.send("check_update"),c.current=setInterval((function(){ht.send("check_update")}),6e4),function(){clearInterval(c.current)}}),[]);var s=function(e,r,i){clearInterval(c.current);var s=t(Object(E.jsx)(C.a,{title:"Update available!",iconVariant:"info",subTitle:Object(E.jsxs)("div",{children:[Object(E.jsxs)(f.a,{marginBottom:1,children:["A new update ",r," is available! Download now?"," ",Object(E.jsx)(ft,{className:o.white,onClick:function(){return window.electron.openUrl("https://github.com/maxmaxlabs/cloudmos-deploy/releases")},children:"View release notes"})]}),Object(E.jsx)(g.a,{size:"small",variant:"contained",onClick:function(){ht.send("download_update"),n(s),a.current=null,l()},children:"Download"})]})}),{variant:"info",autoHideDuration:null});a.current=s},l=function(){var e=t(Object(E.jsx)(C.a,{title:"Downloading update...",showLoading:!0}),{variant:"info",autoHideDuration:null});r.current=e},d=function(e,c,i){console.log("Release info",e,c,i),n(r.current),r.current=null,a.current=null,t(Object(E.jsx)(C.a,{title:"Restart now?",subTitle:Object(E.jsxs)("div",{children:[Object(E.jsxs)(f.a,{marginBottom:".5rem",children:["Update ",c," Downloaded! It will be installed on restart."," ",Object(E.jsx)(ft,{className:o.white,onClick:function(){return window.electron.openUrl("https://github.com/maxmaxlabs/cloudmos-deploy/releases")},children:"View release notes"})]}),Object(E.jsx)(g.a,{size:"small",variant:"contained",onClick:function(){ht.send("restart_app")},children:"Restart App"})]}),iconVariant:"info"}),{variant:"info",autoHideDuration:3e5})};return null},vt=n(1957),gt=n(1081),yt=n(555),wt=n.n(yt),kt=n(213),Ct=n.n(kt),St=n(1785),It=n(1043),Nt=n.n(It),Tt=n(303),Et=n.n(Tt),Lt=n(556),Dt=n.n(Lt),At=n(1045),Pt=n.n(At),zt=n(1044),Mt=n.n(zt),Bt=n(392),Ft=n.n(Bt),Rt=n(1936),_t=n(1968),qt=Object(j.a)((function(e){return{dialogContent:{padding:"1rem"},dialogActions:{display:"flex",alignItems:"center",justifyContent:"space-between"}}})),Wt=function(e){var t=e.isOpen,n=e.address,a=e.balance,r=e.handleCancel,c=e.handleConfirmDelete,o=qt(),s=Object(i.useState)(!1),l=Object(d.a)(s,2),u=l[0],j=l[1],f=Object(i.useState)(!1),h=Object(d.a)(f,2),O=h[0],x=h[1];return Object(E.jsxs)(b.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,maxWidth:"sm","aria-labelledby":"confirmation-dialog-title",open:t,onExit:function(){return j(!1)},children:[Object(E.jsx)(p.a,{id:"confirmation-dialog-title",children:"Delete Wallet"}),Object(E.jsxs)(m.a,{dividers:!0,className:o.dialogContent,children:["Are you sure you want to delete this wallet?",Object(E.jsxs)("p",{children:["Address: ",Object(E.jsx)("strong",{children:n}),Object(E.jsx)("br",{}),!!a&&Object(E.jsxs)(E.Fragment,{children:["Balance: ",Object(E.jsxs)("strong",{children:[Object(ge.f)(a)," AKT"]})]})]}),Object(E.jsx)(T.a,{severity:"warning",children:"This wallet will be completely removed from Cloudmos Deploy along with your local certificate and deployments data. If you want to keep access to this wallet, make sure you have a backup of the seed phrase or private key."}),Object(E.jsx)("br",{}),Object(E.jsx)(Rt.a,{control:Object(E.jsx)(_t.a,{checked:O,onChange:function(e,t){return x(t)}}),label:"Delete local deployment data."}),Object(E.jsx)(Rt.a,{control:Object(E.jsx)(_t.a,{checked:u,onChange:function(e,t){return j(t)}}),label:"I understand the wallet will be completely removed and I have all the backups I need."})]}),Object(E.jsxs)(v.a,{className:o.dialogActions,children:[Object(E.jsx)(g.a,{autoFocus:!0,onClick:r,color:"primary",children:"Cancel"}),Object(E.jsx)(g.a,{onClick:function(){return c(O)},disabled:!u,variant:"contained",color:"secondary",children:"Delete Wallet"})]})]})},Ut=n(67),Vt=n(327),Kt=n.n(Vt);var Gt=function(e){navigator.clipboard?navigator.clipboard.writeText(e).then((function(){console.log("Async: Copying to clipboard was successful!")}),(function(e){console.error("Async: Could not copy text: ",e)})):function(e){var t=document.createElement("textarea");t.value=e,t.style.top="0",t.style.left="0",t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{var n=document.execCommand("copy")?"successful":"unsuccessful";console.log("Fallback: Copying text command was "+n)}catch(a){console.error("Fallback: Oops, unable to copy",a)}document.body.removeChild(t)}(e)},Ht=Object(j.a)((function(e){return{root:{display:"inline-flex",alignItems:"center",transition:"all .3s ease"},copy:{cursor:"pointer","&:hover":{color:e.palette.info.dark}},copyIcon:{fontSize:"1rem",marginLeft:".5rem",opacity:0,transition:"all .3s ease"},showIcon:{opacity:100},tooltip:{fontSize:".8rem"}}})),Yt=function(e){var t=e.address,n=e.isCopyable,a=Object(Y.a)(e,["address","isCopyable"]),r=Object(i.useState)(!1),c=Object(d.a)(r,2),o=c[0],s=c[1],l=Ht(),j=Object(k.b)().enqueueSnackbar,b=[null===t||void 0===t?void 0:t.slice(0,10),".....",null===t||void 0===t?void 0:t.slice((null===t||void 0===t?void 0:t.length)-6)].join("");return Object(E.jsx)(V.a,{classes:{tooltip:l.tooltip},arrow:!0,title:t,interactive:!0,children:Object(E.jsxs)(f.a,Object(u.a)(Object(u.a)({className:Object(Z.a)(l.root,Object(B.a)({},l.copy,n)),component:"span",onClick:function(e){e.preventDefault(),e.stopPropagation(),n&&(Gt(t),j(Object(E.jsx)(C.a,{title:"Address copied to clipboard!",iconVariant:"success"}),{variant:"success",autoHideDuration:2e3}))},onMouseOver:function(){return s(!0)},onMouseOut:function(){return s(!1)}},a),{},{children:[Object(E.jsx)("span",{children:b}),n&&Object(E.jsx)(Kt.a,{className:Object(Z.a)(l.copyIcon,Object(B.a)({},l.showIcon,o))})]}))})},Jt=n(1974),Xt=Object(j.a)((function(e){return{alert:{marginTop:"1rem"},dialogContent:{padding:"1rem"},dialogActions:{display:"flex",alignItems:"center",justifyContent:"space-between"}}})),Qt=function(e){var t=e.onClose,n=e.onSendTransaction,a=Xt(),r=Object(i.useRef)(),c=Object(i.useState)(!1),o=Object(d.a)(c,2),s=o[0],l=o[1],j=Object(i.useState)(""),h=Object(d.a)(j,2),y=h[0],w=h[1],k=Object($.b)().balance,C=Object(S.b)({defaultValues:{recipient:"",sendAmount:0}}),I=C.handleSubmit,N=C.control,L=C.formState.errors,D=C.watch,A=C.setValue,P=C.clearErrors,z=D().recipient;return Object(E.jsxs)(b.a,{maxWidth:"xs",fullWidth:!0,"aria-labelledby":"send-transaction-dialog-title",open:!0,onClose:t,children:[Object(E.jsx)(p.a,{id:"send-transaction-dialog-title",children:"Send tokens"}),Object(E.jsx)(m.a,{dividers:!0,className:a.dialogContent,children:Object(E.jsxs)("form",{onSubmit:I((function(e){var t=e.sendAmount;P();var a=Object(ge.a)(t);z?a>k?w("You can't send more than you currently have in your balance. Current balance is: ".concat(Object(ge.f)(a,6),"AKT.")):n(z.trim(),a):w("You must set a recipient.")})),ref:r,children:[Object(E.jsx)(O.a,{error:!L.recipient,className:a.formControl,fullWidth:!0,children:Object(E.jsx)(S.a,{control:N,name:"recipient",rules:{required:!0},render:function(e){var t=e.fieldState,n=e.field;return Object(E.jsx)(x.a,Object(u.a)(Object(u.a)({},n),{},{type:"text",variant:"outlined",label:"Recipient",error:!!t.invalid,helperText:t.invalid&&"Recipient is required.",className:a.formValue}))}})}),Object(E.jsx)(f.a,{marginBottom:".5rem",marginTop:".5rem",textAlign:"right",children:Object(E.jsxs)(ft,{onClick:function(){return l((function(e){return!e})),w(""),P(),void A("sendAmount",Object(ge.f)(k-X.e,6))},children:["Balance: ",Object(ge.f)(k,6)," AKT"]})}),Object(E.jsx)(O.a,{error:!L.sendAmount,className:a.formControl,fullWidth:!0,children:Object(E.jsx)(S.a,{control:N,name:"sendAmount",rules:{required:!0,validate:function(e){return e>0&&e<k}},render:function(e){var t,n=e.fieldState,r=e.field,c="validate"===(null===(t=n.error)||void 0===t?void 0:t.type)?"Invalid amount.":"Amount is required.";return Object(E.jsx)(x.a,Object(u.a)(Object(u.a)({},r),{},{type:"number",variant:"outlined",label:"Amount",autoFocus:!0,error:!!n.invalid,helperText:n.invalid&&c,className:a.formValue,inputProps:{min:0,step:1e-6,max:Object(ge.f)(k-X.e,6)},InputProps:{startAdornment:Object(E.jsx)(U.a,{position:"start",children:"AKT"}),endAdornment:s&&Object(E.jsx)(U.a,{position:"end",children:Object(E.jsx)(Jt.a,{label:"MAX",size:"small",color:"primary"})})},disabled:s}))}})}),y&&Object(E.jsx)(T.a,{severity:"warning",className:a.alert,children:y})]})}),Object(E.jsxs)(v.a,{className:a.dialogActions,children:[Object(E.jsx)(g.a,{onClick:t,children:"Cancel"}),Object(E.jsx)(g.a,{onClick:function(e){e.preventDefault(),r.current.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))},disabled:!!L.sendAmount||!!L.recipient,variant:"contained",color:"primary",children:"Continue"})]})]})},$t=n(1041),Zt=n.n($t),en=Object(j.a)((function(e){return{dialogContent:{textAlign:"center",padding:"1rem"}}})),tn=function(e){var t=e.address,n=e.onClose,a=en(),r=Object(k.b)().enqueueSnackbar;return Object(E.jsxs)(b.a,{maxWidth:"xs","aria-labelledby":"deposit-dialog-title",open:!0,onClose:n,children:[Object(E.jsx)(p.a,{id:"deposit-dialog-title",children:"Deposit"}),Object(E.jsxs)(m.a,{dividers:!0,className:a.dialogContent,children:[Object(E.jsx)(f.a,{fontSize:"1rem",children:Object(E.jsx)(Yt,{address:t,isCopyable:!0})}),Object(E.jsx)(g.a,{onClick:function(){Gt(t),r(Object(E.jsx)(C.a,{title:"Address copied to clipboard!",iconVariant:"success"}),{variant:"success",autoHideDuration:2e3})},children:Object(E.jsx)(Zt.a,{value:t})})]}),Object(E.jsx)(v.a,{children:Object(E.jsx)(g.a,{autoFocus:!0,variant:"contained",onClick:n,color:"primary",children:"Close"})})]})},nn=n(1786),an=Object(j.a)((function(e){return{textArea:{width:"100%",maxWidth:"100%",minWidth:"100%",fontSize:"1.3rem",fontFamily:"inherit",padding:"4px 16px 4px 8px"},copyButton:{position:"absolute",top:0,right:0}}}));function rn(e){var t=e.mnemonic,n=an(),a=Object(k.b)().enqueueSnackbar;return Object(E.jsxs)(f.a,{position:"relative",children:[Object(E.jsx)(nn.a,{value:t,className:n.textArea,rowsMin:5,contentEditable:!1}),Object(E.jsx)(St.a,{onClick:function(){Gt(t),a(Object(E.jsx)(C.a,{title:"Mnemonic copied to clipboard!",iconVariant:"success"}),{variant:"success",autoHideDuration:2e3})},className:n.copyButton,size:"small",children:Object(E.jsx)(Kt.a,{fontSize:"small"})})]})}var cn=Object(j.a)((function(e){return{dialogContent:{padding:"1rem"}}}));function on(e){var t=Object($.b)().selectedWallet,n=cn();return Object(E.jsxs)(b.a,{open:!0,onClose:e.onClose,maxWidth:"xs",fullWidth:!0,children:[Object(E.jsx)(p.a,{children:"View mnemonic seed"}),Object(E.jsx)(m.a,{dividers:!0,className:n.dialogContent,children:Object(E.jsx)(rn,{mnemonic:null===t||void 0===t?void 0:t.mnemonic})}),Object(E.jsx)(v.a,{children:Object(E.jsx)(g.a,{variant:"contained",color:"primary",onClick:e.onClose,children:"Close"})})]})}var sn=Object(j.a)((function(e){return{formControl:{marginBottom:"1rem"},dialogContent:{padding:"1rem"},dialogActions:{display:"flex",alignItems:"center",justifyContent:"space-between"}}}));function ln(e){var t=Object(i.useRef)(),n=Object($.b)(),a=n.selectedWallet,o=n.setSelectedWallet,s=n.address,l=sn(),d=Object(k.b)().enqueueSnackbar,j=Object(S.b)({defaultValues:{name:""}}),f=j.handleSubmit,h=j.control,y=j.formState.errors,I=j.clearErrors;function N(){return(N=Object(c.a)(r.a.mark((function t(n){var c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=n.name,I(),t.prev=2,Object(w.g)(s,c),a.name=c,o(a),d(Object(E.jsx)(C.a,{title:"Success!",iconVariant:"success"}),{variant:"success",autoHideDuration:1e3}),t.next=9,Ne.b.event("deploy","change account name");case 9:e.onClose(),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(2),console.error(t.t0),d(Object(E.jsx)(C.a,{title:t.t0.message,iconVariant:"error"}),{variant:"error"});case 16:case"end":return t.stop()}}),t,null,[[2,12]])})))).apply(this,arguments)}return Object(E.jsxs)(b.a,{open:!0,onClose:e.onClose,maxWidth:"xs",fullWidth:!0,children:[Object(E.jsx)(p.a,{children:"Change Account Name"}),Object(E.jsxs)(m.a,{dividers:!0,className:l.dialogContent,children:[Object(E.jsx)(O.a,{className:l.formControl,fullWidth:!0,children:Object(E.jsx)(x.a,{variant:"outlined",disabled:!0,value:null===a||void 0===a?void 0:a.name,label:"Current Account Name"})}),Object(E.jsx)("form",{onSubmit:f((function(e){return N.apply(this,arguments)})),ref:t,children:Object(E.jsx)(O.a,{error:!y.name,fullWidth:!0,children:Object(E.jsx)(S.a,{control:h,name:"name",rules:{required:!0},render:function(e){var t=e.fieldState,n=e.field;return Object(E.jsx)(x.a,Object(u.a)(Object(u.a)({},n),{},{autoFocus:!0,type:"text",variant:"outlined",label:"New Account Name",error:!!t.invalid,helperText:t.invalid&&"Account name is required."}))}})})})]}),Object(E.jsxs)(v.a,{className:l.dialogActions,children:[Object(E.jsx)(g.a,{onClick:e.onClose,children:"Close"}),Object(E.jsx)(g.a,{variant:"contained",color:"primary",onClick:function(e){e.preventDefault(),t.current.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))},children:"Save"})]})]})}var dn=n(1087),un=Object(j.a)((function(e){return{menuItem:{display:"flex",alignItems:"center"},menuItemText:{marginLeft:".5rem"}}})),jn=o.a.forwardRef((function(e,t){var n=e.onClick,a=e.icon,r=e.text,c=e.className,i=void 0===c?"":c,o=un();return Object(E.jsxs)(dn.a,{onClick:n,className:Object(Z.a)(o.menuItem,i),ref:t,children:[a,Object(E.jsx)(h.a,{variant:"body1",className:o.menuItemText,children:r})]})})),bn=n(1962),pn=n(1937),mn=Object(j.a)((function(e){return{dialogContent:{textAlign:"center",padding:"1rem"},formControl:{marginTop:10},dialogActions:{display:"flex",alignItems:"center",justifyContent:"space-between"}}})),fn=function(e){var t=e.address,n=e.onClose,a=Object(i.useRef)(),o=Object(i.useState)(""),s=Object(d.a)(o,2),l=s[0],j=s[1],y=mn(),w=Ze().sendTransaction,k=Object(S.b)({defaultValues:{amount:"",expiration:Object(bn.a)(Object(pn.a)(new Date,1),"yyyy-MM-dd'T'HH:mm"),useDepositor:!1,granteeAddress:""}}),C=k.handleSubmit,I=k.control,N=k.formState.errors,L=k.watch,D=k.clearErrors,A=L(),P=A.amount,z=A.granteeAddress,M=A.expiration,B=function(){var e=Object(c.a)(r.a.mark((function e(a){var c,i,o,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.amount,j(""),D(),i=Object(ge.a)(c),o=new Date(M),s=re.a.getGrantMsg(t,z,i,o),e.next=8,w([s]);case 8:if(!e.sent){e.next=13;break}return e.next=12,Ne.b.event("deploy","authorize spend");case 12:n();case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsxs)(b.a,{maxWidth:"xs","aria-labelledby":"deposit-dialog-title",open:!0,onClose:n,children:[Object(E.jsx)(p.a,{id:"deposit-dialog-title",children:"Authorize Spending"}),Object(E.jsx)(m.a,{dividers:!0,className:y.dialogContent,children:Object(E.jsxs)("form",{onSubmit:C(B),ref:a,children:[Object(E.jsx)(T.a,{severity:"info",children:Object(E.jsxs)(h.a,{variant:"caption",children:[Object(E.jsx)(ft,{onClick:function(e){return function(e,t){e.preventDefault(),window.electron.openUrl(t)}(e,"https://docs.akash.network/testnet-technical-docs/authorized-spend")},children:"Authorized Spend"})," ","allows users to authorize spend of a set number of tokens from a source wallet to a destination, funded wallet. The authorized spend is restricted to Akash deployment activities and the recipient of the tokens would not have access to those tokens for other operations."]})}),Object(E.jsx)(O.a,{error:!N.amount,className:y.formControl,fullWidth:!0,children:Object(E.jsx)(S.a,{control:I,name:"amount",rules:{required:!0},render:function(e){var t,n=e.fieldState,a=e.field,r="validate"===(null===(t=n.error)||void 0===t?void 0:t.type)?"Invalid amount.":"Amount is required.";return Object(E.jsx)(x.a,Object(u.a)(Object(u.a)({},a),{},{type:"number",variant:"outlined",label:"Spending Limit",autoFocus:!0,error:!!n.invalid,helperText:n.invalid&&r,className:y.formValue,inputProps:{min:0,step:1e-6},InputProps:{startAdornment:Object(E.jsx)(U.a,{position:"start",children:"AKT"})}}))}})}),Object(E.jsx)(O.a,{className:y.formControl,fullWidth:!0,children:Object(E.jsx)(S.a,{control:I,name:"granteeAddress",defaultValue:"",rules:{required:!0},render:function(e){var t=e.fieldState,n=e.field;return Object(E.jsx)(x.a,Object(u.a)(Object(u.a)({},n),{},{type:"text",variant:"outlined",label:"Grantee Address",error:!!t.invalid,helperText:t.invalid&&"Grantee address is required.",className:y.formValue}))}})}),Object(E.jsx)(O.a,{className:y.formControl,fullWidth:!0,children:Object(E.jsx)(S.a,{control:I,name:"expiration",rules:{required:!0},render:function(e){var t=e.fieldState,n=e.field;return Object(E.jsx)(x.a,Object(u.a)(Object(u.a)({},n),{},{type:"datetime-local",variant:"outlined",label:"Expiration",error:!!t.invalid,helperText:t.invalid&&"Expiration is required.",className:y.formValue}))}})}),!!P&&z&&Object(E.jsxs)(f.a,{marginTop:1,textAlign:"left",children:["This address will be able to spend up to ",P,"AKT on your behalf."]}),l&&Object(E.jsx)(T.a,{severity:"warning",className:y.alert,children:l})]})}),Object(E.jsxs)(v.a,{className:y.dialogActions,children:[Object(E.jsx)(g.a,{autoFocus:!0,onClick:n,children:"Cancel"}),Object(E.jsx)(g.a,{onClick:function(e){e.preventDefault(),a.current.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))},disabled:!P,variant:"contained",color:"primary",children:"Grant"})]})]})},hn=n(1938),On=n(328),xn=n.n(On),vn=Object(j.a)((function(e){return{dialogTitle:{display:"flex",alignItems:"center",justifyContent:"space-between"},dialogContent:{padding:"0 .5rem"},dialogActions:{display:"flex",alignItems:"center",justifyContent:"space-between"}}})),gn=function(e){var t=e.onClose,n=vn(),a=Object($.b)(),r=a.address,c=a.setSelectedWallet,i=a.wallets,o=a.setWallets,s=Object(M.b)(),l=s.localCerts,d=s.setLocalCert,j=s.setValidCertificates,h=s.setSelectedCertificate,O=Object(w.k)().wallets,x=Object(ut.e)();return Object(E.jsxs)(b.a,{open:!0,onClose:t,maxWidth:"xs",fullWidth:!0,children:[Object(E.jsx)(p.a,{children:Object(E.jsxs)("span",{className:n.dialogTitle,children:["Accounts",Object(E.jsx)(g.a,{variant:"contained",size:"small",color:"primary",onClick:function(){x.push(Ut.a.register(!0)),t()},children:"Add account"})]})}),Object(E.jsx)(m.a,{dividers:!0,className:n.dialogContent,children:Object(E.jsx)(W.a,{className:n.list,children:O.map((function(e){return Object(E.jsxs)(ee.a,{dense:!0,button:!0,onClick:function(){return function(e){if(e.address!==r){for(var n=i.find((function(t){return t.address===e.address})),a=0;a<i.length;a++)i[a].selected=i[a].address===e.address;var s=O.map((function(t){return Object(u.a)(Object(u.a)({},t),{},{selected:t.address===e.address})})),b=l.find((function(t){return t.address===e.address}));Object(w.h)(s),o(i),c(n),j([]),h(null),b&&d(b),t(),x.replace(Ut.a.dashboard())}}(e)},children:[Object(E.jsx)(hn.a,{children:e.address===r&&Object(E.jsx)(xn.a,{color:"primary"})}),Object(E.jsx)(ae.a,{classes:{secondary:n.secondaryText},primary:Object(E.jsx)(f.a,{display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:"1rem",children:e.name}),secondary:e.address})]},e.address)}))})}),Object(E.jsx)(v.a,{children:Object(E.jsx)(g.a,{onClick:t,type:"button",autoFocus:!0,variant:"contained",color:"primary",children:"Close"})})]})},yn=n(1042),wn=n.n(yn),kn=Object(j.a)((function(e){return{root:{maxHeight:"".concat(Te.a,"px")},walletButton:{padding:"2px 4px",textTransform:"initial"},delete:{color:e.palette.secondary.main}}}));function Cn(){var e=Object(i.useState)(null),t=Object(d.a)(e,2),n=t[0],a=t[1],o=Object(i.useState)(!1),s=Object(d.a)(o,2),l=s[0],u=s[1],j=Object(i.useState)(!1),b=Object(d.a)(j,2),p=b[0],m=b[1],O=Object(i.useState)(!1),x=Object(d.a)(O,2),v=x[0],w=x[1],k=Object(i.useState)(!1),C=Object(d.a)(k,2),S=C[0],I=C[1],N=Object(i.useState)(!1),T=Object(d.a)(N,2),L=T[0],D=T[1],A=Object(i.useState)(!1),P=Object(d.a)(A,2),M=P[0],B=P[1],F=Object(i.useState)(!1),R=Object(d.a)(F,2),_=R[0],q=R[1],W=Object($.b)(),U=W.address,V=W.balance,K=W.refreshBalance,G=W.isRefreshingBalance,H=W.deleteWallet,Y=W.selectedWallet,J=W.setSelectedWallet,X=Ze().sendTransaction,Q=kn(),Z=Object(Ie.b)().settings,ee=Object(ut.e)(),te=Z.apiEndpoint,ne=z().askForPasswordConfirmation;function ae(){a(null)}Object(i.useEffect)((function(){K()}),[te,K]);var ce=function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ae(),e.next=3,ne();case 3:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:D(!0);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=Object(c.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!1),e.prev=1,a=re.a.getSendTokensMsg(U,t,n),e.next=5,X([a]);case 5:e.sent&&K(),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("div",{className:Q.root,children:[Object(E.jsxs)(f.a,{display:"flex",alignItems:"center",children:[Object(E.jsxs)(g.a,{onClick:function(){return q(!0)},size:"small",className:Q.walletButton,children:[(null===Y||void 0===Y?void 0:Y.name)&&Object(E.jsx)(f.a,{marginRight:".5rem",children:Object(E.jsx)(h.a,{variant:"caption",children:Object(E.jsx)("strong",{children:null===Y||void 0===Y?void 0:Y.name})})}),Object(E.jsx)(wt.a,{fontSize:"small"}),Object(E.jsxs)(f.a,{component:"span",marginLeft:".5rem",marginRight:"2px",children:[V/1e6," AKT"]}),Object(E.jsx)(wn.a,{fontSize:"small",color:"inherit"})]}),Object(E.jsx)(f.a,{marginLeft:"1rem",children:Object(E.jsx)(St.a,{onClick:function(){return K(!0)},"aria-label":"refresh",disabled:G,size:"small",children:G?Object(E.jsx)(y.a,{size:"1.5rem"}):Object(E.jsx)(Ct.a,{})})}),Object(E.jsx)(f.a,{marginLeft:".2rem",children:Object(E.jsx)(St.a,{"aria-label":"settings",onClick:function(e){a(e.currentTarget)},size:"small",children:Object(E.jsx)(Et.a,{})})})]}),Object(E.jsxs)(f.a,{display:"flex",alignItems:"center",children:[Object(E.jsx)(f.a,{marginRight:".5rem",fontWeight:"bold",children:Object(E.jsxs)(h.a,{variant:"caption",children:["Balance:"," ",Object(E.jsx)("strong",{children:Object(E.jsx)(Ge,{value:Object(ge.f)(V,6)})})]})}),Object(E.jsx)(f.a,{marginLeft:"1rem",children:Object(E.jsx)(h.a,{variant:"caption",color:"textSecondary",children:Object(E.jsx)(Yt,{address:U,isCopyable:!0})})})]})]}),Object(E.jsxs)(gt.a,{id:"wallet-menu",anchorEl:n,keepMounted:!0,getContentAnchorEl:null,open:Boolean(n),onClose:ae,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[Object(E.jsx)(jn,{onClick:function(){return ae(),void m(!0)},icon:Object(E.jsx)(ve.a,{fontSize:"small"}),text:"Send"}),Object(E.jsx)(jn,{onClick:function(){return ae(),void I(!0)},icon:Object(E.jsx)(Nt.a,{fontSize:"small"}),text:"Deposit"}),Object(E.jsx)(jn,{onClick:function(){return ae(),void w(!0)},icon:Object(E.jsx)(ie.a,{fontSize:"small"}),text:"Authorize Spending"}),Object(E.jsx)(jn,{onClick:function(){return ce()},icon:Object(E.jsx)(Mt.a,{fontSize:"small"}),text:"View Mnemonic"}),Object(E.jsx)(jn,{onClick:function(){return ae(),void B(!0)},icon:Object(E.jsx)(Ft.a,{fontSize:"small"}),text:"Change Account Name"}),Object(E.jsx)(jn,{onClick:function(){return J(null),void ee.replace(Ut.a.walletOpen())},icon:Object(E.jsx)(Pt.a,{fontSize:"small"}),text:"Sign Out"}),Object(E.jsx)(jn,{onClick:function(){return ae(),void u(!0)},icon:Object(E.jsx)(Dt.a,{fontSize:"small"}),text:"Delete Account",className:Q.delete})]}),Object(E.jsx)(Wt,{isOpen:l,address:U,balance:V,handleCancel:function(){return u(!1)},handleConfirmDelete:function(e){H(U,e)}}),p&&Object(E.jsx)(Qt,{onClose:function(){return m(!1)},onSendTransaction:oe}),S&&U&&Object(E.jsx)(tn,{address:U,onClose:function(){return I(!1)}}),L&&Object(E.jsx)(on,{onClose:function(){return D(!1)}}),M&&Object(E.jsx)(ln,{onClose:function(){return B(!1)}}),v&&Object(E.jsx)(fn,{address:U,onClose:function(){return w(!1)}}),_&&Object(E.jsx)(gn,{onClose:function(){return q(!1)}})]})}var Sn=n(1046),In=n.n(Sn),Nn=n(1047),Tn=n.n(Nn),En=n(449),Ln=n(73),Dn=n(326),An=Object(j.a)((function(e){return{root:{position:"relative",padding:"1rem",borderRadius:e.spacing(.5),backgroundColor:Object(Ln.e)("#000",.9)},actions:{position:"absolute",width:"100%",top:0,left:0,padding:e.spacing(.5),display:"flex",justifyContent:"flex-end"}}})),Pn=function(e){var t=e.code,n=An(),a=Object(k.b)().enqueueSnackbar,r=Object(i.useRef)();return Object(E.jsxs)("pre",{className:n.root,children:[Object(E.jsx)(f.a,{className:n.actions,children:Object(E.jsx)(St.a,{"aria-label":"copy","aria-haspopup":"true",onClick:function(){Gt(t),a(Object(E.jsx)(C.a,{title:"Copied to clipboard!",iconVariant:"success"}),{variant:"success",autoHideDuration:1500})},size:"small",children:Object(E.jsx)(Kt.a,{})})}),Object(E.jsx)("code",{ref:r,onClick:function(){Object(Dn.b)(r.current)},children:t})]})},zn=Object(j.a)((function(e){return{label:{fontWeight:"bold"},dialogContent:{padding:"1rem"}}}));function Mn(e){var t=zn(),n=Object(w.j)();return Object(i.useEffect)((function(){function e(){return(e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.b.event("deploy","export certificate");case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(E.jsxs)(b.a,{open:e.isOpen,onClose:e.onClose,maxWidth:"sm",fullWidth:!0,children:[Object(E.jsx)(p.a,{children:"Export certificate"}),Object(E.jsx)(m.a,{dividers:!0,className:t.dialogContent,children:n&&n.cert&&n.certKey?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(h.a,{variant:"body1",className:t.label,children:"Cert"}),Object(E.jsx)(Pn,{code:n.cert}),Object(E.jsx)(h.a,{variant:"body1",className:t.label,children:"Key"}),Object(E.jsx)(Pn,{code:n.certKey})]}):Object(E.jsx)(T.a,{severity:"warning",children:"Unable to find local certificate. Meaning you have a certificate on chain but not in the tool. We suggest you regenerate a new one to be able to use the tool properly."})}),Object(E.jsx)(v.a,{children:Object(E.jsx)(g.a,{variant:"contained",color:"primary",onClick:e.onClose,children:"Close"})})]})}var Bn=n(1048),Fn=n.n(Bn),Rn=n(1939),_n=n(1940),qn=n(1941),Wn=n(1942),Un=n(1943),Vn=n(1944),Kn=Object(j.a)((function(e){return{label:{fontWeight:"bold"},dialogContent:{padding:"1rem"}}}));function Gn(e){var t=e.onClose,n=e.revokeCertificate,a=Kn(),r=Object(M.b)(),c=r.validCertificates,i=r.localCert,o=r.selectedCertificate;return Object(E.jsxs)(b.a,{open:!0,onClose:t,maxWidth:"md",fullWidth:!0,children:[Object(E.jsx)(p.a,{children:"Certificates"}),Object(E.jsx)(m.a,{dividers:!0,className:a.dialogContent,children:Object(E.jsx)(Rn.a,{children:Object(E.jsxs)(_n.a,{size:"small",children:[Object(E.jsx)(qn.a,{children:Object(E.jsxs)(Wn.a,{children:[Object(E.jsx)(Un.a,{align:"center",children:"Selected"}),Object(E.jsx)(Un.a,{align:"center",children:"Local cert"}),Object(E.jsx)(Un.a,{align:"center",children:"Issued on"}),Object(E.jsx)(Un.a,{align:"center",children:"Expires"}),Object(E.jsx)(Un.a,{align:"center",children:"Serial"}),Object(E.jsx)(Un.a,{align:"center"})]})}),Object(E.jsx)(Vn.a,{children:c.map((function(e){return Object(E.jsxs)(Wn.a,{children:[Object(E.jsx)(Un.a,{align:"center",children:e.serial===(null===o||void 0===o?void 0:o.serial)&&Object(E.jsx)(xn.a,{color:"primary"})}),Object(E.jsx)(Un.a,{align:"center",children:e.parsed===(null===i||void 0===i?void 0:i.certPem)&&Object(E.jsx)(xn.a,{color:"primary"})}),Object(E.jsx)(Un.a,{align:"center",children:Object(E.jsx)(ye.a,{value:e.pem.issuedOn,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}),Object(E.jsx)(Un.a,{align:"center",children:Object(E.jsx)(ye.a,{value:e.pem.expiresOn,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}),Object(E.jsx)(Un.a,{align:"center",children:e.serial}),Object(E.jsx)(Un.a,{align:"center",children:Object(E.jsx)(g.a,{onClick:function(){return n(e)},color:"secondary",size:"small",children:"Revoke"})})]},e.serial)}))})]})})}),Object(E.jsx)(v.a,{children:Object(E.jsx)(g.a,{variant:"contained",color:"primary",onClick:t,children:"Close"})})]})}var Hn=Object(j.a)({root:{maxHeight:"".concat(Te.a,"px")},warningIcon:{marginLeft:".5rem"},tooltip:{fontSize:"1rem"}});function Yn(){var e=Object(i.useState)(!1),t=Object(d.a)(e,2),n=t[0],a=t[1],o=Object(i.useState)(!1),s=Object(d.a)(o,2),l=s[0],j=s[1],b=Object(M.b)(),p=b.selectedCertificate,m=b.isLocalCertMatching,O=b.isLoadingCertificates,x=b.loadValidCertificates,v=b.loadLocalCert,k=b.localCert,C=b.setSelectedCertificate,S=Hn(),I=z().askForPasswordConfirmation,N=Ze().sendTransaction,T=Object($.b)().address,L=Object(i.useState)(null),D=Object(d.a)(L,2),A=D[0],P=D[1],B=function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(),e.prev=1,n=re.a.getRevokeCertificateMsg(T,t.serial),e.next=5,N([n]);case 5:if(!e.sent){e.next=15;break}return e.next=9,x();case 9:return a=e.sent,c=a.some((function(e){return e.parsed===k.certPem})),Object(w.i)(T,(function(e){return Object(u.a)(Object(u.a)({},e),{},{cert:c?e.cert:void 0,certKey:c?e.certKey:void 0})})),(null===a||void 0===a?void 0:a.length)>0&&t.serial===p.serial?C(a[0]):0===(null===a||void 0===a?void 0:a.length)&&C(null),e.next=15,Ne.b.event("deploy","revoke certificate");case 15:e.next=20;break;case 17:throw e.prev=17,e.t0=e.catch(1),e.t0;case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}();function F(){return R.apply(this,arguments)}function R(){return(R=Object(c.a)(r.a.mark((function e(){var t,n,a,c,i,o,s,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return");case 5:return n=Object(En.a)(T,t),a=n.crtpem,c=n.pubpem,i=n.encryptedKey,e.prev=6,o=re.a.getCreateCertificateMsg(T,a,c),e.next=10,N([o]);case 10:if(!e.sent){e.next=21;break}return Object(w.i)(T,(function(e){return Object(u.a)(Object(u.a)({},e),{},{cert:a,certKey:i})})),e.next=15,x();case 15:return s=e.sent,v(t),l=s.find((function(e){return e.parsed===a})),C(l),e.next=21,Ne.b.event("deploy","create certificate");case 21:e.next=26;break;case 23:throw e.prev=23,e.t0=e.catch(6),e.t0;case 26:case"end":return e.stop()}}),e,null,[[6,23]])})))).apply(this,arguments)}function _(){return(_=Object(c.a)(r.a.mark((function e(){var t,n,a,c,i,o,s,l,d;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return");case 5:return n=Object(En.a)(T,t),a=n.crtpem,c=n.pubpem,i=n.encryptedKey,e.prev=6,o=re.a.getRevokeCertificateMsg(T,p.serial),s=re.a.getCreateCertificateMsg(T,a,c),e.next=11,N([o,s]);case 11:if(!e.sent){e.next=22;break}return Object(w.i)(T,(function(e){return Object(u.a)(Object(u.a)({},e),{},{cert:a,certKey:i})})),e.next=16,x();case 16:return l=e.sent,v(t),d=l.find((function(e){return e.parsed===a})),C(d),e.next=22,Ne.b.event("deploy","regenerate certificate");case 22:e.next=27;break;case 24:throw e.prev=24,e.t0=e.catch(6),e.t0;case 27:case"end":return e.stop()}}),e,null,[[6,24]])})))).apply(this,arguments)}var q=function(){P(null)};return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("div",{className:S.root,children:[Object(E.jsxs)(f.a,{display:"flex",alignItems:"center",children:[Object(E.jsx)(de.a,{fontSize:"small"}),Object(E.jsx)(f.a,{component:"span",marginLeft:"5px",children:"Certificate"}),Object(E.jsx)(f.a,{marginLeft:"1rem",children:Object(E.jsx)(St.a,{onClick:function(){return x(!0)},"aria-label":"refresh",disabled:O,size:"small",children:O?Object(E.jsx)(y.a,{size:"1.5rem"}):Object(E.jsx)(Ct.a,{})})}),p&&Object(E.jsx)(f.a,{marginLeft:".2rem",children:Object(E.jsx)(St.a,{"aria-label":"settings","aria-haspopup":"true",onClick:function(e){P(e.currentTarget)},size:"small",children:Object(E.jsx)(Et.a,{})})}),!O&&!p&&Object(E.jsx)(f.a,{marginLeft:"1rem",children:Object(E.jsx)(g.a,{variant:"contained",color:"primary",size:"small",onClick:function(){return F()},children:"Create Certificate"})})]}),Object(E.jsxs)(f.a,{display:"flex",alignItems:"center",children:[p&&Object(E.jsx)(ft,{onClick:function(){return j(!0)},children:Object(E.jsxs)(h.a,{variant:"caption",color:"textSecondary",children:["Serial: ",p.serial]})}),p&&!m&&Object(E.jsx)(V.a,{classes:{tooltip:S.tooltip},arrow:!0,title:"The local certificate doesn't match the one on the blockchain. You can revoke it and create a new one.",children:Object(E.jsx)(_e.a,{fontSize:"small",color:"error",className:S.warningIcon})})]})]}),p&&Object(E.jsxs)(gt.a,{id:"cert-menu",anchorEl:A,keepMounted:!0,getContentAnchorEl:null,open:Boolean(A),onClose:q,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},onClick:q,children:[p.parsed===(null===k||void 0===k?void 0:k.certPem)?Object(E.jsx)(jn,{onClick:function(){return function(){return _.apply(this,arguments)}()},icon:Object(E.jsx)(In.a,{fontSize:"small"}),text:"Regenerate"}):Object(E.jsx)(jn,{onClick:function(){return F()},icon:Object(E.jsx)(Tn.a,{fontSize:"small"}),text:"Create"}),Object(E.jsx)(jn,{onClick:function(){return B(p)},icon:Object(E.jsx)(Dt.a,{fontSize:"small"}),text:"Revoke"}),Object(E.jsx)(jn,{onClick:function(){return a(!0)},icon:Object(E.jsx)(Fn.a,{fontSize:"small"}),text:"Export"})]}),n&&Object(E.jsx)(Mn,{isOpen:n,onClose:function(){return a(!1)}}),l&&Object(E.jsx)(Gn,{onClose:function(){return j(!1)},revokeCertificate:B})]})}var Jn=n(400),Xn=n(1945),Qn=Object(j.a)((function(e){return{root:{width:"100%",height:"100%",display:"flex",padding:"10px 0",flexDirection:"column",textAlign:"center",maxWidth:300,margin:"0 auto"},heading:{marginBottom:"2rem"},alert:{marginBottom:"2rem",textAlign:"left"}}}));function $n(e){var t=e.error,n=e.resetErrorBoundary,a=Qn();return Object(E.jsxs)("div",{className:a.root,role:"alert",children:[Object(E.jsx)(h.a,{variant:"h4",className:a.heading,children:"Something went wrong:"}),Object(E.jsxs)(T.a,{severity:"error",className:a.alert,children:[Object(E.jsx)(Xn.a,{children:"Error"}),t.message]}),Object(E.jsx)(g.a,{variant:"contained",color:"primary",onClick:n,children:"Try again"})]})}var Zn=n(1049),ea=n.n(Zn),ta=n(558),na=n.n(ta),aa=n(1051),ra=n.n(aa),ca=n(559),ia=n.n(ca),oa=n(1052),sa=n.n(oa),la=n(1053),da=n.n(la),ua=n(118),ja=n(1050),ba=n.n(ja),pa=Object(j.a)((function(e){return{root:{flexShrink:0,borderRight:"1px solid rgba(0,0,0,0.1)",position:"fixed",height:"calc(100% - ".concat(Te.a,"px - ").concat(2*Te.k,"px)"),transition:"width .3s ease"},list:{padding:0,overflow:"hidden"},listText:{marginLeft:"1.5rem",lineHeight:"1rem",transition:"opacity .3s ease"},closedListItemIcon:{minWidth:0,zIndex:100},notSelected:{color:e.palette.text.secondary},selected:{fontWeight:"bold"},tooltip:{fontSize:"1rem",fontWeight:"normal"},toggleButton:{marginLeft:"-3px"},deployButtonContainer:{paddingLeft:"1rem",transition:"opacity .3s ease"},deployButton:{padding:"2px 10px",fontSize:".75rem"}}})),ma=function(e){var t=e.onOpenMenuClick,n=e.isNavOpen,a=pa(),r=Object(ut.f)(),c=[{title:"Dashboard",icon:function(e){return Object(E.jsx)(ea.a,Object(u.a)({},e))},url:Ut.a.dashboard(),activeRoutes:[Ut.a.dashboard()]},{title:"Deployments",icon:function(e){return Object(E.jsx)(na.a,Object(u.a)({},e))},url:Ut.a.deploymentList(),activeRoutes:[Ut.a.deploymentList(),"/deployment"]},{title:"Templates",icon:function(e){return Object(E.jsx)(ia.a,Object(u.a)({},e))},url:Ut.a.templates(),activeRoutes:[Ut.a.templates()]},{title:"Providers",icon:function(e){return Object(E.jsx)(ba.a,Object(u.a)({},e))},url:Ut.a.providers(),activeRoutes:[Ut.a.providers()]},{title:"Settings",icon:function(e){return Object(E.jsx)(ra.a,Object(u.a)({},e))},url:Ut.a.settings(),activeRoutes:[Ut.a.settings()]}];return Object(E.jsx)("div",{className:a.root,style:{width:n?200:58},children:Object(E.jsxs)(W.a,{className:a.list,children:[Object(E.jsxs)(ee.a,{children:[Object(E.jsx)(hn.a,{className:a.closedListItemIcon,children:Object(E.jsx)(St.a,{size:"small",onClick:t,className:a.toggleButton,children:n?Object(E.jsx)(sa.a,{}):Object(E.jsx)(da.a,{})})}),Object(E.jsx)(ae.a,{primary:Object(E.jsx)(g.a,{size:"small",variant:"contained",color:"primary",fullWidth:!0,component:ua.a,to:"/createDeployment",className:a.deployButton,children:"Deploy"}),primaryTypographyProps:{component:"div",className:a.deployButtonContainer,style:{opacity:n?1:0,flex:1}}})]}),c.map((function(e){var t,c=e.url===Ut.a.dashboard()?"/"===r.pathname:e.activeRoutes.some((function(e){return r.pathname.startsWith(e)})),i=Object(E.jsx)(hn.a,{color:"primary",className:a.closedListItemIcon,children:e.icon({color:c?"primary":"disabled"})});return Object(E.jsxs)(ee.a,{button:!0,component:ua.a,to:e.url,selected:c,children:[n?i:Object(E.jsx)(V.a,{classes:{tooltip:a.tooltip},arrow:!0,title:e.title,placement:"right",children:i}),Object(E.jsx)(ae.a,{primary:e.title,primaryTypographyProps:{className:Object(Z.a)(a.listText,(t={},Object(B.a)(t,a.selected,c),Object(B.a)(t,a.notSelected,!c),t)),style:{opacity:n?1:0}}})]},e.title)}))]})})},fa=n(1946),ha=n(329),Oa=n.n(ha),xa=n(1056),va=n.n(xa),ga=n(1057),ya=n.n(ga),wa=n(1054),ka=n.n(wa),Ca=n(1055),Sa=n.n(Ca),Ia=Object(j.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},logoItem:{width:"2.7rem",height:"2.7rem",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e.palette.grey[200],borderRadius:"50%",color:e.palette.primary.main}}}));function Na(e){var t=Ia(),n=Object(ut.e)(),a=e.setSelectedTemplate;function i(e){window.electron.openUrl(e.githubUrl)}function o(e){a(e),n.push("/createDeployment/editManifest")}function s(){return(s=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.electron.openTemplateFromFile();case 2:(t=e.sent)&&(a({title:"From file",code:"from-file",category:"General",description:t.path,content:t.content}),n.push("/createDeployment/editManifest"));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(){window.electron.openUrl("https://cloudmos.io/sdl-builder"),o(Ta)}return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(bt.a,{title:"Create Deployment - Template List"}),Object(E.jsx)(f.a,{padding:"1rem",children:Object(E.jsx)(h.a,{variant:"h5",children:Object(E.jsx)("strong",{children:"What do you want to deploy?"})})}),Object(E.jsxs)(W.a,{className:t.root,children:[Object(E.jsxs)(ee.a,{dense:!0,button:!0,onClick:l,children:[Object(E.jsx)(te.a,{children:Object(E.jsx)("div",{className:t.logoItem,children:Object(E.jsx)(ka.a,{})})}),Object(E.jsx)(ae.a,{primary:Object(E.jsxs)(f.a,{display:"flex",alignItems:"center",children:[Object(E.jsx)(Sa.a,{color:"primary"}),Object(E.jsx)(f.a,{component:"span",marginLeft:".5rem",children:"Build your template"})]}),secondary:"With our new SDL Builder, you can create your own SDL from scratch in a few clicks!"}),Object(E.jsx)(fa.a,{children:Object(E.jsx)(St.a,{edge:"end",onClick:l,children:Object(E.jsx)(Me.a,{})})})]}),Object(E.jsxs)(ee.a,{dense:!0,button:!0,onClick:function(){return o(Ea)},children:[Object(E.jsx)(te.a,{children:Object(E.jsx)("div",{className:t.logoItem,children:Object(E.jsx)(va.a,{})})}),Object(E.jsx)(ae.a,{primary:Ea.title,secondary:Ea.description}),Ea.githubUrl&&Object(E.jsx)(fa.a,{children:Object(E.jsx)(St.a,{edge:"end","aria-label":"github",onClick:function(){return i(Ea)},children:Object(E.jsx)(Oa.a,{})})})]}),Object(E.jsxs)(ee.a,{dense:!0,button:!0,onClick:function(){return o(La)},children:[Object(E.jsx)(te.a,{children:Object(E.jsx)("div",{className:t.logoItem,children:Object(E.jsx)(na.a,{})})}),Object(E.jsx)(ae.a,{primary:La.title,secondary:La.description}),La.githubUrl&&Object(E.jsx)(fa.a,{children:Object(E.jsx)(St.a,{edge:"end","aria-label":"github",onClick:function(){return i(La)},children:Object(E.jsx)(Oa.a,{})})})]}),Object(E.jsxs)(ee.a,{dense:!0,button:!0,onClick:function(){return function(){return s.apply(this,arguments)}()},children:[Object(E.jsx)(te.a,{children:Object(E.jsx)("div",{className:t.logoItem,children:Object(E.jsx)(ya.a,{})})}),Object(E.jsx)(ae.a,{primary:"From a file",secondary:"Load a deploy.yml file from the computer."})]}),Object(E.jsxs)(ee.a,{dense:!0,button:!0,onClick:function(){n.push(Ut.a.templates())},children:[Object(E.jsx)(te.a,{children:Object(E.jsx)("div",{className:t.logoItem,children:Object(E.jsx)(ia.a,{})})}),Object(E.jsx)(ae.a,{primary:"Browse template gallery",secondary:"Explore the template gallery for a great variety of pre-made template by the community."})]})]})]})}var Ta={title:"Empty",code:"empty",category:"General",description:"An empty template with some basic config to get started.",content:"# Paste your SDL here!"},Ea={title:"Empty",code:"empty",category:"General",description:"An empty template with some basic config to get started.",content:"# Write or paste your SDL here!"},La={title:"Hello Akash World",code:"hello-world",category:"General",description:"Simple next.js web application showing hello world.",githubUrl:"https://github.com/maxmaxlabs/hello-akash-world",valuesToChange:[],content:'# Welcome to the Akash Network! \ud83d\ude80\u2601\n# This file is called a Stack Definition Laguage (SDL)\n# SDL is a human friendly data standard for declaring deployment attributes. \n# The SDL file is a "form" to request resources from the Network. \n# SDL is compatible with the YAML standard and similar to Docker Compose files.\n\n---\n# Indicates version of Akash configuration file. Currently only "2.0" is accepted.\nversion: "2.0"\n\n# The top-level services entry contains a map of workloads to be ran on the Akash deployment. Each key is a service name; values are a map containing the following keys:\n# https://docs.akash.network/intro-to-akash/stack-definition-language#services\nservices:\n  # The name of the service "web"\n  web:\n    # The docker container image with version. You must specify a version, the "latest" tag doesn\'t work.\n    image: akashlytics/hello-akash-world:0.2.0\n    # You can map ports here https://docs.akash.network/intro-to-akash/stack-definition-language#services.expose\n    expose:\n      - port: 3000\n        as: 80\n        to:\n          - global: true\n\n# The profiles section contains named compute and placement profiles to be used in the deployment.\n# https://docs.akash.network/intro-to-akash/stack-definition-language#profiles\nprofiles:\n  # profiles.compute is map of named compute profiles. Each profile specifies compute resources to be leased for each service instance uses uses the profile.\n  # https://docs.akash.network/intro-to-akash/stack-definition-language#profiles.compute\n  compute:\n    # The name of the service\n    web:\n      resources:\n        cpu:\n          units: 0.5\n        memory:\n          size: 512Mi\n        storage:\n          size: 512Mi\n\n# profiles.placement is map of named datacenter profiles. Each profile specifies required datacenter attributes and pricing configuration for each compute profile that will be used within the datacenter. It also specifies optional list of signatures of which tenants expects audit of datacenter attributes.\n# https://docs.akash.network/intro-to-akash/stack-definition-language#profiles.placement\n  placement:\n    dcloud:\n      pricing:\n        # The name of the service\n        web:\n          denom: uakt\n          amount: 1000\n\n# The deployment section defines how to deploy the services. It is a mapping of service name to deployment configuration.\n# https://docs.akash.network/intro-to-akash/stack-definition-language#deployment\ndeployment:\n  # The name of the service\n  web:\n    dcloud:\n      profile: web\n      count: 1\n'},Da=n(9),Aa=n(363),Pa=n(197),za=n.n(Pa),Ma=n(569),Ba=n.n(Ma),Fa=n(371),Ra=Object(j.a)((function(e){return{alert:{marginTop:"1rem"},dialogContent:{padding:"1rem"},dialogActions:{display:"flex",alignItems:"center",justifyContent:"space-between"}}}));function _a(e){var t=e.handleCancel,n=e.onDeploymentDeposit,a=e.min,o=void 0===a?0:a,s=e.infoText,l=void 0===s?null:s,j=Ra(),h=Object(i.useRef)(),w=Object(Ie.b)().settings,I=Object(k.b)().enqueueSnackbar,N=Object(i.useState)(""),L=Object(d.a)(N,2),D=L[0],A=L[1],P=Object(i.useState)(!1),z=Object(d.a)(P,2),M=z[0],B=z[1],F=Object($.b)(),R=F.balance,_=F.address,q=Object(S.b)({defaultValues:{amount:o,useDepositor:!1,depositorAddress:""}}),W=q.handleSubmit,V=q.control,K=q.formState.errors,G=q.watch,H=q.setValue,Y=q.clearErrors,J=q.unregister,Q=G(),Z=Q.amount,ee=Q.useDepositor,te=Q.depositorAddress;function ne(e){return ae.apply(this,arguments)}function ae(){return(ae=Object(c.a)(r.a.mark((function e(t){var n,a,c,i,o,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(!0),e.prev=1,e.next=4,fetch("".concat(w.apiEndpoint,"/cosmos/authz/v1beta1/grants?granter=").concat(te,"&grantee=").concat(_));case 4:return a=e.sent,e.next=7,a.json();case 7:if(c=e.sent,i=null===(n=c.grants)||void 0===n?void 0:n.find((function(e){return"/akash.deployment.v1beta2.DepositDeploymentAuthorization"===e.authorization["@type"]}))){e.next=12;break}return A("You are not authorized by this depositor."),e.abrupt("return",!1);case 12:if(o=new Date(i.expiration),!(1===Object(Fa.a)(new Date,o))){e.next=17;break}return A("Authorization expired since ".concat(o.toDateString())),e.abrupt("return",!1);case 17:if(s=Object(ge.c)(i.authorization.spend_limit),!(t>s)){e.next=21;break}return A("Spend limit remaining: ".concat(Object(ge.f)(s),"akt")),e.abrupt("return",!1);case 21:return e.abrupt("return",!0);case 24:return e.prev=24,e.t0=e.catch(1),console.error(e.t0),I(Object(E.jsx)(C.a,{title:e.t0.message,iconVariant:"error"}),{variant:"error"}),e.abrupt("return",!1);case 29:return e.prev=29,B(!1),e.finish(29);case 32:case"end":return e.stop()}}),e,null,[[1,24,29,32]])})))).apply(this,arguments)}Object(i.useEffect)((function(){Y(),A(""),ee||(H("depositorAddress",""),J("depositorAddress"))}),[ee]);var re=function(){t()},ce=function(){var e=Object(c.a)(r.a.mark((function e(t){var a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.amount,A(""),Y(),!((c=Object(ge.a)(a))<Object(ge.a)(o))){e.next=7;break}return A("Deposit amount must be greater or equal than ".concat(o,".")),e.abrupt("return");case 7:if(!ee){e.next=17;break}return e.next=10,ne(c);case 10:if(e.sent){e.next=13;break}return e.abrupt("return");case 13:return e.next=15,Ne.b.event("deploy","use depositor");case 15:e.next=20;break;case 17:if(!(c>R)){e.next=20;break}return A("You can't deposit more than you currently have in your balance. Current balance is: ".concat(Object(ge.f)(R),"AKT.")),e.abrupt("return");case 20:n(c,te);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsxs)(b.a,{maxWidth:"xs",fullWidth:!0,"aria-labelledby":"deposit-deployment-dialog-title",open:!0,onClose:re,children:[Object(E.jsx)(p.a,{id:"deposit-deployment-dialog-title",children:"Deployment Deposit"}),Object(E.jsx)(m.a,{dividers:!0,className:j.dialogContent,children:Object(E.jsxs)("form",{onSubmit:W(ce),ref:h,children:[l,Object(E.jsx)(f.a,{marginBottom:".5rem",marginTop:l?0:".5rem",textAlign:"right",children:Object(E.jsxs)(ft,{onClick:function(){return Y(),void H("amount",Object(ge.f)(R-X.e,6))},children:["Balance: ",Object(ge.f)(R,6)," AKT"]})}),Object(E.jsx)(O.a,{error:!K.amount,className:j.formControl,fullWidth:!0,children:Object(E.jsx)(S.a,{control:V,name:"amount",rules:{required:!0},render:function(e){var t,n=e.fieldState,a=e.field,r="validate"===(null===(t=n.error)||void 0===t?void 0:t.type)?"Invalid amount.":"Amount is required.";return Object(E.jsx)(x.a,Object(u.a)(Object(u.a)({},a),{},{type:"number",variant:"outlined",label:"Amount",autoFocus:!0,error:!!n.invalid,helperText:n.invalid&&r,className:j.formValue,inputProps:{min:o,step:1e-6,max:Object(ge.f)(R-X.e,6)},InputProps:{startAdornment:Object(E.jsx)(U.a,{position:"start",children:"AKT"})}}))}})}),Object(E.jsx)(O.a,{className:j.formControl,fullWidth:!0,children:Object(E.jsx)(S.a,{control:V,name:"useDepositor",render:function(e){e.fieldState;var t=e.field;return Object(E.jsx)(Rt.a,{control:Object(E.jsx)(_t.a,Object(u.a)(Object(u.a)({},t),{},{color:"primary"})),label:"Use depositor"})}})}),ee&&Object(E.jsx)(O.a,{className:j.formControl,fullWidth:!0,children:Object(E.jsx)(S.a,{control:V,name:"depositorAddress",defaultValue:"",rules:{required:!0},render:function(e){var t=e.fieldState,n=e.field;return Object(E.jsx)(x.a,Object(u.a)(Object(u.a)({},n),{},{type:"text",variant:"outlined",label:"Depositor address",autoFocus:!0,error:!!t.invalid,helperText:t.invalid&&"Depositor address is required.",className:j.formValue}))}})}),D&&Object(E.jsx)(T.a,{severity:"warning",className:j.alert,children:D})]})}),Object(E.jsxs)(v.a,{className:j.dialogActions,children:[Object(E.jsx)(g.a,{autoFocus:!0,onClick:re,children:"Cancel"}),Object(E.jsx)(g.a,{onClick:function(e){e.preventDefault(),h.current.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))},disabled:!Z||M,variant:"contained",color:"primary",children:M?Object(E.jsx)(y.a,{size:"24px",color:"primary"}):"Deposit"})]})]})}var qa=n(184),Wa=n(524),Ua=Object(j.a)((function(e){return{tooltip:{fontSize:"1rem"},tooltipIcon:{fontSize:"1.5rem",marginRight:"1rem",color:e.palette.text.secondary},alert:{marginBottom:"1rem"}}}));function Va(e){var t=e.editedManifest,n=e.setEditedManifest,a=e.selectedTemplate,o=Object(i.useState)(null),s=Object(d.a)(o,2),l=s[0],u=s[1],j=Object(i.useState)(""),b=Object(d.a)(j,2),p=b[0],m=b[1],O=Object(i.useState)(!1),v=Object(d.a)(O,2),w=v[0],k=v[1],C=Ze().sendTransaction,S=Object(Ie.b)().settings,I=Object($.b)().address,N=Object(i.useState)(!1),L=Object(d.a)(N,2),D=L[0],A=L[1],P=Object(ut.e)(),z=Ua();function M(){return(M=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(t);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e){return F.apply(this,arguments)}function F(){return(F=Object(c.a)(r.a.mark((function e(n){var a,c,i,o,s,l=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=l.length>1&&void 0!==l[1]?l[1]:null,c=l.length>2&&void 0!==l[2]?l[2]:Te.c,i=l.length>3&&void 0!==l[3]?l[3]:null,e.prev=3,t){e.next=6;break}return e.abrupt("return",null);case 6:return o=Wa.load(n),e.next=9,He.a.NewDeploymentData(S.apiEndpoint,o,a,I,c,i);case 9:return _(s=e.sent),u(null),e.abrupt("return",s);case 15:e.prev=15,e.t0=e.catch(3),"YAMLException"===e.t0.name||"CustomValidationError"===e.t0.name||"TemplateValidation"===e.t0.name?u(e.t0.message):(u("Error while parsing SDL file"),console.error(e.t0));case 18:case"end":return e.stop()}}),e,null,[[3,15]])})))).apply(this,arguments)}function R(e,t){e.preventDefault(),window.electron.openUrl(t)}function _(e){if(a.valuesToChange){var t,n=Object(Da.a)(a.valuesToChange);try{var r=function(){var n=t.value;if("accept"===n.field||"env"===n.field)for(var a=0,r=Object.keys(e.sdl.services);a<r.length;a++){var c,i,o=r[a];if((null===(c=e.sdl.services[o].expose)||void 0===c?void 0:c.some((function(e){var t;return null===(t=e.accept)||void 0===t?void 0:t.includes(n.initialValue)})))||(null===(i=e.sdl.services[o].env)||void 0===i?void 0:i.some((function(e){return null===e||void 0===e?void 0:e.includes(n.initialValue)})))){var s=new Error('Template value of "'.concat(n.initialValue,'" needs to be changed'));throw s.name="TemplateValidation",s}}};for(n.s();!(t=n.n()).done;)r()}catch(c){n.e(c)}finally{n.f()}}}Object(i.useEffect)((function(){(null===a||void 0===a?void 0:a.name)&&m(a.name)}),[]),Object(i.useEffect)((function(){var e=function(e){var t;return{start:function(){return new Promise((function(n){if(-1===t)throw new Error("Timer already aborted");t=setTimeout(n,e)}))},abort:function(){-1===t&&void 0!==t||(clearTimeout(t),t=-1)}}}(500);return e.start().then((function(){B(t,"TEST_DSEQ_VALIDATION")})),function(){e&&e.abort()}}),[t]);var q=function(){var e=Object(c.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!1),e.next=3,W(t,n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function W(e,t){return U.apply(this,arguments)}function U(){return(U=Object(c.a)(r.a.mark((function e(n,a){var c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),e.next=3,B(t,null,n,a);case 3:if(c=e.sent){e.next=6;break}return e.abrupt("return");case 6:return e.prev=6,i=re.a.getCreateDeploymentMsg(c),e.next=10,C([i]);case 10:if(!e.sent){e.next=18;break}return nt(c.deploymentId.dseq,t,c.version,I,p),P.replace("/createDeployment/acceptBids/"+c.deploymentId.dseq),e.next=16,Ne.b.event("deploy","create deployment");case 16:e.next=19;break;case 18:k(!1);case 19:e.next=25;break;case 21:throw e.prev=21,e.t0=e.catch(6),k(!1),e.t0;case 25:case"end":return e.stop()}}),e,null,[[6,21]])})))).apply(this,arguments)}return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(bt.a,{title:"Create Deployment - Manifest Edit"}),Object(E.jsx)(f.a,{padding:"0 1rem",children:Object(E.jsxs)(f.a,{marginBottom:".5rem",display:"flex",alignItems:"center",justifyContent:"space-between",children:[Object(E.jsx)(f.a,{flexGrow:1,paddingRight:"1rem",children:Object(E.jsx)(x.a,{value:p,onChange:function(e){return m(e.target.value)},fullWidth:!0,label:"Name your deployment (optional)",variant:"outlined"})}),Object(E.jsxs)(f.a,{display:"flex",alignItems:"center",children:[Object(E.jsx)(V.a,{classes:{tooltip:z.tooltip},arrow:!0,interactive:!0,title:Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(h.a,{children:["You may use the sample deployment file as-is or modify it for your own needs as described in the"," ",Object(E.jsx)(ft,{onClick:function(e){return R(e,"https://docs.akash.network/intro-to-akash/stack-definition-language")},children:"SDL (Stack Definition Language)"})," ","documentation. A typical modification would be to reference your own image instead of the demo app image."]})}),children:Object(E.jsx)(za.a,{className:z.tooltipIcon})}),Object(E.jsx)(g.a,{variant:"contained",color:"primary",disabled:w||!!l||!t,onClick:function(){return A(!0)},children:w?Object(E.jsx)(y.a,{size:"24px",color:"primary"}):Object(E.jsxs)(E.Fragment,{children:["Create Deployment"," ",Object(E.jsx)(f.a,{component:"span",marginLeft:".5rem",display:"flex",alignItems:"center",children:Object(E.jsx)(Ba.a,{fontSize:"small"})})]})})]})]})}),l&&Object(E.jsx)(T.a,{severity:"warning",children:l}),Object(E.jsx)(qa.a,{bottomElementId:"footer",overflow:"hidden",children:Object(E.jsx)(Aa.a,{language:"yaml",theme:"vs-dark",value:t,onChange:function(e){return M.apply(this,arguments)},options:Te.h})}),D&&Object(E.jsx)(_a,{handleCancel:function(){return A(!1)},onDeploymentDeposit:q,min:5,infoText:Object(E.jsx)(T.a,{severity:"info",className:z.alert,children:Object(E.jsxs)(h.a,{variant:"caption",children:["To create a deployment you need a minimum of ",Object(E.jsx)("strong",{children:"5AKT"})," for the"," ",Object(E.jsx)(ft,{onClick:function(e){return R(e,"https://docs.akash.network/glossary/escrow#escrow-accounts")},children:Object(E.jsx)("strong",{children:"escrow account."})})," ","Escrow accounts are a mechanism that allow for time-based payments from one bank account to another without block-by-block micropayments. If your escrow account runs out, your deployment will automatically close. You can still add more funds to your deployment escrow once it's created."]})})})]})}var Ka=n(23),Ga=n(809),Ha=n(1947),Ya=n(280),Ja=n(571),Xa=n.n(Ja),Qa=n(572),$a=n.n(Qa),Za=n(570),er=n.n(Za);function tr(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=t?1e3:1024;if(Math.abs(e)<a)return e+" B";var r=t?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],c=-1,i=Math.pow(10,n);do{e/=a,++c}while(Math.round(Math.abs(e)*i)/i>=a&&c<r.length-1);return e.toFixed(n)+" "+r[c]}var nr=Object(j.a)((function(e){return{root:{display:"flex",alignItems:"center"},defaultColor:{borderColor:"rgba(0,0,0,.15)"},chipRoot:{padding:"2px 0",height:"auto",backgroundColor:e.palette.grey[100],borderRadius:"2rem"},chipLabel:{display:"flex",alignItems:"center",padding:"2px 0"},specIconSmall:{fontSize:".8rem"},specIconMedium:{fontSize:"1.5rem"},specIconLarge:{fontSize:"2rem"},specDetail:{marginLeft:".5rem"},specDetailSmall:{fontSize:".8rem",lineHeight:".8rem"},specDetailMedium:{fontSize:".9rem",lineHeight:".8rem"},specDetailLarge:{fontSize:"1rem",lineHeight:".8rem"},gutterSmall:{marginLeft:".5rem"},gutterMedium:{marginLeft:".75rem"},gutterLarge:{marginLeft:"1rem"}}}));function ar(e){var t,n,a,r,c,i,o,s,l=e.cpuAmount,d=e.memoryAmount,u=e.storageAmount,j=e.color,b=void 0===j?"default":j,p=e.size,m=void 0===p?"large":p,h=e.gutterSize,O=void 0===h?"large":h,x=nr();return Object(E.jsxs)(f.a,{component:"div",className:x.root,children:[Object(E.jsx)(Jt.a,{variant:"outlined",color:b,classes:{root:x.chipRoot},className:Object(Z.a)(Object(B.a)({},x.defaultColor,"default"===b)),label:Object(E.jsxs)("div",{className:x.chipLabel,children:[Object(E.jsx)(er.a,{className:Object(Z.a)((t={},Object(B.a)(t,x.specIconSmall,"small"===m),Object(B.a)(t,x.specIconMedium,"medium"===m),Object(B.a)(t,x.specIconLarge,"large"===m),t))}),Object(E.jsx)(f.a,{className:Object(Z.a)(x.specDetail,(n={},Object(B.a)(n,x.specDetailSmall,"small"===m),Object(B.a)(n,x.specDetailMedium,"medium"===m),Object(B.a)(n,x.specDetailLarge,"large"===m),n)),children:l+" vCPU"})]})}),Object(E.jsx)(Jt.a,{variant:"outlined",color:b,classes:{root:x.chipRoot},className:Object(Z.a)((a={},Object(B.a)(a,x.defaultColor,"default"===b),Object(B.a)(a,x.gutterSmall,"small"===O),Object(B.a)(a,x.gutterMedium,"medium"===O),Object(B.a)(a,x.gutterLarge,"large"===O),a)),label:Object(E.jsxs)("div",{className:x.chipLabel,children:[Object(E.jsx)(Xa.a,{className:Object(Z.a)((r={},Object(B.a)(r,x.specIconSmall,"small"===m),Object(B.a)(r,x.specIconMedium,"medium"===m),Object(B.a)(r,x.specIconLarge,"large"===m),r))}),Object(E.jsx)(f.a,{className:Object(Z.a)(x.specDetail,(c={},Object(B.a)(c,x.specDetailSmall,"small"===m),Object(B.a)(c,x.specDetailMedium,"medium"===m),Object(B.a)(c,x.specDetailLarge,"large"===m),c)),children:tr(d)})]})}),Object(E.jsx)(Jt.a,{variant:"outlined",color:b,classes:{root:x.chipRoot},className:Object(Z.a)((i={},Object(B.a)(i,x.defaultColor,"default"===b),Object(B.a)(i,x.gutterSmall,"small"===O),Object(B.a)(i,x.gutterMedium,"medium"===O),Object(B.a)(i,x.gutterLarge,"large"===O),i)),label:Object(E.jsxs)("div",{className:x.chipLabel,children:[Object(E.jsx)($a.a,{className:Object(Z.a)((o={},Object(B.a)(o,x.specIconSmall,"small"===m),Object(B.a)(o,x.specIconMedium,"medium"===m),Object(B.a)(o,x.specIconLarge,"large"===m),o))}),Object(E.jsx)(f.a,{className:Object(Z.a)(x.specDetail,(s={},Object(B.a)(s,x.specDetailSmall,"small"===m),Object(B.a)(s,x.specDetailMedium,"medium"===m),Object(B.a)(s,x.specDetailLarge,"large"===m),s)),children:tr(u)})]})})]})}var rr=n(1787),cr=Object(j.a)((function(e){return{root:{display:"flex",alignItems:"center"},label:{fontWeight:"bold",color:"black",fontSize:".9rem"},value:{display:"flex",alignItems:"center",marginLeft:".5rem",fontSize:".9rem"}}})),ir=function(e){var t=e.label,n=e.value,a=Object(Y.a)(e,["label","value"]),r=cr();return Object(E.jsxs)(f.a,Object(u.a)(Object(u.a)({className:Object(Z.a)(r.root)},a),{},{children:[Object(E.jsx)(rr.a,{className:r.label,children:t}),Object(E.jsx)("div",{className:r.value,children:n})]}))},or=n(1966),sr=n(432),lr=Object(j.a)((function(e){return{tooltip:{fontSize:"1rem"},tooltipIcon:{marginLeft:".5rem",fontSize:"1rem",color:e.palette.grey[500]},chip:{height:"16px"}}})),dr=function(e){var t=e.value,n=lr();return Object(E.jsx)(V.a,{classes:{tooltip:n.tooltip},arrow:!0,title:Object(E.jsxs)(f.a,{children:[Object(E.jsx)(h.a,{variant:"caption",children:"Price estimation:"}),Object(E.jsxs)("div",{children:[Object(E.jsx)("strong",{children:Object(E.jsx)(Ge,{value:t})})," ","per block (~",ge.b,"sec.)"]}),Object(E.jsxs)("div",{children:[Object(E.jsx)("strong",{children:Object(E.jsx)(Ge,{value:t*(60/ge.b)*60*24})})," ","per day"]}),Object(E.jsxs)("div",{children:[Object(E.jsx)("strong",{children:Object(E.jsx)(Ge,{value:t*(60/ge.b)*60*24*sr.a})})," ","per month"]})]}),children:Object(E.jsx)(za.a,{className:n.tooltipIcon,fontSize:"small"})})},ur=function(e){var t=e.perBlockValue,n=e.typoVariant,a=void 0===n?"body1":n,r=Object(Y.a)(e,["perBlockValue","typoVariant"]);return Object(E.jsxs)(h.a,Object(u.a)(Object(u.a)({variant:a},r),{},{children:[Object(E.jsx)("strong",{children:Object(E.jsx)(Ge,{value:t*(60/ge.b)*60*24*sr.a})})," ","/ month"]}))},jr=Object(j.a)((function(e){return{attributesContainer:{position:"relative",flexBasis:"45%",margin:"2px 0",backgroundColor:"rgba(0,0,0,0.05)",borderRadius:"4px",padding:".5rem 1rem",maxHeight:"100px",overflow:"hidden",transition:"max-height .3s ease, box-shadow .6s ease"},hasShadow:{boxShadow:"inset 0 -6px 12px -10px rgb(0 0 0 / 50%)"},expanded:{maxHeight:"1000px"},attributeTitle:{marginBottom:"2px"},attributeRow:{display:"flex",alignItems:"center",lineHeight:"1rem"},attributeText:{lineHeight:"1rem",letterSpacing:0},viewAllButton:{position:"absolute",top:".5rem",right:"1rem"}}})),br=function(e){var t,n,a=e.provider,r=Object(i.useState)(!1),c=Object(d.a)(r,2),o=c[0],s=c[1],l=Object(i.useState)(!1),u=Object(d.a)(l,2),j=u[0],b=u[1],p=jr();Object(i.useEffect)((function(){var e,t=(null===a||void 0===a||null===(e=a.attributes)||void 0===e?void 0:e.length)>4;b(t)}),[]);return Object(E.jsxs)("div",{className:Object(Z.a)(p.attributesContainer,(t={},Object(B.a)(t,p.expanded,o),Object(B.a)(t,p.hasShadow,j&&!o),t)),children:[j&&Object(E.jsx)(ft,{onClick:function(e){e.preventDefault(),e.stopPropagation(),s((function(e){return!e}))},className:p.viewAllButton,children:"View all"}),Object(E.jsx)(h.a,{variant:"body2",className:p.attributeTitle,children:Object(E.jsx)("strong",{children:"Attributes"})}),null===a||void 0===a||null===(n=a.attributes)||void 0===n?void 0:n.map((function(e){return Object(E.jsxs)("div",{className:p.attributeRow,children:[Object(E.jsx)("div",{children:Object(E.jsxs)(h.a,{variant:"caption",className:p.attributeText,children:[e.key,":"]})}),Object(E.jsx)(f.a,{marginLeft:"1rem",children:Object(E.jsx)(h.a,{variant:"caption",className:p.attributeText,children:e.value})})]},e.key)}))]})},pr=n(1061),mr=n.n(pr),fr=Object(j.a)((function(e){return{tooltip:{fontSize:"1rem",padding:".5rem"},tooltipIcon:{fontSize:"1rem",color:e.palette.text.secondary},marginLeft:{marginLeft:".5rem"}}})),hr=function(e){var t,n,a,r,c=e.provider,i=e.address,o=fr(),s=Object(ot.c)(c.active),l=Object(ot.c)(c.available),d=Object(ot.c)(c.pending);return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Rn.a,{component:Ga.a,children:Object(E.jsx)(_n.a,{sx:{minWidth:650},size:"small",children:Object(E.jsxs)(Vn.a,{children:[Object(E.jsxs)(Wn.a,{children:[Object(E.jsx)(Un.a,{component:"th",scope:"row",children:Object(E.jsx)("strong",{children:"Name"})}),Object(E.jsx)(Un.a,{align:"center",children:c.name})]}),i&&Object(E.jsxs)(Wn.a,{children:[Object(E.jsx)(Un.a,{component:"th",scope:"row",children:Object(E.jsx)("strong",{children:"Address"})}),Object(E.jsx)(Un.a,{align:"center",children:Object(E.jsx)(Yt,{address:i,isCopyable:!0})})]}),Object(E.jsxs)(Wn.a,{children:[Object(E.jsx)(Un.a,{component:"th",scope:"row",children:Object(E.jsx)("strong",{children:"Email"})}),Object(E.jsx)(Un.a,{align:"center",children:c.email})]}),Object(E.jsxs)(Wn.a,{children:[Object(E.jsx)(Un.a,{component:"th",scope:"row",children:Object(E.jsx)("strong",{children:"Website"})}),Object(E.jsx)(Un.a,{align:"center",children:c.website})]}),Object(E.jsxs)(Wn.a,{children:[Object(E.jsx)(Un.a,{component:"th",scope:"row",children:Object(E.jsx)("strong",{children:"Akash version"})}),Object(E.jsx)(Un.a,{align:"center",children:(null===(t=c.akash)||void 0===t?void 0:t.version)||"< 0.16.0"})]}),Object(E.jsxs)(Wn.a,{children:[Object(E.jsx)(Un.a,{component:"th",scope:"row",children:Object(E.jsx)("strong",{children:"Kube version"})}),Object(E.jsx)(Un.a,{align:"center",children:c.kube?"".concat(null===(n=c.kube)||void 0===n?void 0:n.major,".").concat(null===(a=c.kube)||void 0===a?void 0:a.minor):"unkown"})]}),Object(E.jsxs)(Wn.a,{children:[Object(E.jsx)(Un.a,{component:"th",scope:"row",children:Object(E.jsx)("strong",{children:"Platform"})}),Object(E.jsx)(Un.a,{align:"center",children:(null===(r=c.kube)||void 0===r?void 0:r.platform)||"unkown"})]}),Object(E.jsxs)(Wn.a,{children:[Object(E.jsx)(Un.a,{component:"th",scope:"row",children:Object(E.jsx)("strong",{children:"Orders"})}),Object(E.jsx)(Un.a,{align:"center",children:c.orderCount})]}),Object(E.jsxs)(Wn.a,{children:[Object(E.jsx)(Un.a,{component:"th",scope:"row",children:Object(E.jsx)("strong",{children:"Deployments"})}),Object(E.jsx)(Un.a,{align:"center",children:c.deploymentCount})]}),Object(E.jsxs)(Wn.a,{children:[Object(E.jsx)(Un.a,{component:"th",scope:"row",children:Object(E.jsx)("strong",{children:"Leases"})}),Object(E.jsx)(Un.a,{align:"center",children:c.leaseCount})]}),c.error&&Object(E.jsxs)(Wn.a,{children:[Object(E.jsx)(Un.a,{component:"th",scope:"row",children:Object(E.jsx)("strong",{children:"Error"})}),Object(E.jsx)(Un.a,{align:"center",children:c.error})]})]})})}),Object(E.jsxs)(f.a,{marginTop:"1rem",children:[Object(E.jsx)(f.a,{marginBottom:1,children:Object(E.jsx)(h.a,{variant:"body2",children:Object(E.jsx)("strong",{children:"Immediately available resources"})})}),Object(E.jsx)(ar,{cpuAmount:Object(Ke.b)(l.cpu-d.cpu),memoryAmount:l.memory-d.memory,storageAmount:l.storage-d.storage,size:"medium",color:"primary"})]}),Object(E.jsxs)(f.a,{marginTop:"1rem",children:[Object(E.jsx)(f.a,{marginBottom:1,children:Object(E.jsx)(h.a,{variant:"body2",children:Object(E.jsxs)(f.a,{component:"strong",display:"flex",alignItems:"center",children:["Available resources"," ",Object(E.jsx)(V.a,{classes:{tooltip:o.tooltip},arrow:!0,interactive:!0,title:"Some of these resources might not be available right away because there might be open bids that haven't timed out yet.",children:Object(E.jsx)(za.a,{className:Object(Z.a)(o.tooltipIcon,o.marginLeft)})})]})})}),Object(E.jsx)(ar,{cpuAmount:Object(Ke.b)(l.cpu),memoryAmount:l.memory,storageAmount:l.storage,size:"small",color:"primary"})]}),Object(E.jsxs)(f.a,{marginTop:"1rem",children:[Object(E.jsx)(f.a,{marginBottom:1,children:Object(E.jsx)(h.a,{variant:"body2",children:Object(E.jsx)("strong",{children:"Active resources"})})}),Object(E.jsx)(ar,{cpuAmount:Object(Ke.b)(s.cpu),memoryAmount:s.memory,storageAmount:s.storage,size:"small",color:"default"})]}),Object(E.jsxs)(f.a,{marginTop:"1rem",children:[Object(E.jsx)(f.a,{marginBottom:1,children:Object(E.jsx)(h.a,{variant:"body2",children:Object(E.jsx)("strong",{children:"Pending resources"})})}),Object(E.jsx)(ar,{cpuAmount:Object(Ke.b)(d.cpu),memoryAmount:d.memory,storageAmount:d.storage,size:"small",color:"default"})]}),Object(E.jsx)(f.a,{marginTop:"1rem",children:Object(E.jsx)(br,{provider:c})})]})},Or=Object(j.a)((function(e){return{content:{padding:"1rem"}}})),xr=function(e){var t=e.provider,n=e.address,a=e.onClose,r=Or();return Object(E.jsxs)(b.a,{maxWidth:"xs","aria-labelledby":"provider-detail-dialog-title",open:!0,onClose:a,children:[Object(E.jsx)(p.a,{id:"provider-detail-dialog-title",children:"Provider Details"}),Object(E.jsx)(m.a,{dividers:!0,className:r.content,children:Object(E.jsx)(hr,{provider:t,address:n})}),Object(E.jsx)(v.a,{children:Object(E.jsx)(g.a,{autoFocus:!0,variant:"contained",onClick:a,color:"primary",size:"small",children:"Close"})})]})},vr=n(1059),gr=n.n(vr),yr=n(1058),wr=n.n(yr),kr=function(e){var t=e.onClick,n=e.isFavorite;return Object(E.jsx)(St.a,{onClick:t,size:"small",children:n?Object(E.jsx)(wr.a,{fontSize:"small",color:"primary"}):Object(E.jsx)(gr.a,{fontSize:"small"})})},Cr=n(1060),Sr=n.n(Cr),Ir=o.a.createContext({}),Nr=function(e){var t=e.children,n=Object(i.useState)(null),a=Object(d.a)(n,2),r=a[0],c=a[1],o=Object(pt.c)(),s=o.data,l=o.isFetching,j=Object(pt.g)({enabled:!1}),b=j.data,p=j.isFetching,m=j.refetch,f=Object(pt.n)({enabled:!1}),h=f.data,O=f.isFetching,x=f.refetch;return Object(i.useEffect)((function(){if(h&&b&&s){var e=h.map((function(e){var t=b.find((function(t){return t.owner===e.owner}));if(t){var n=t.attributes.some((function(e){var t;return null===(t=e.auditedBy)||void 0===t?void 0:t.some((function(e){return s.some((function(t){return t.address===e}))}))}));return Object(u.a)(Object(u.a)(Object(u.a)({},e),t),{},{isActive:!0,isAudited:n})}return e}));c(e)}else h&&!b&&c(h)}),[h,b,s]),Object(E.jsx)(Ir.Provider,{value:{isLoadingAuditors:l,auditors:s,providers:r,isLoadingProviders:p||O,getProviders:function(){m(),x()}},children:t})},Tr=function(){return Object(u.a)({},o.a.useContext(Ir))},Er=Object(j.a)((function(e){return{content:{padding:"1rem"},tableHead:{fontWeight:"bold"},tooltip:{fontSize:"1rem",padding:".5rem",textAlign:"center"},websiteLink:{fontSize:"1rem",marginBottom:".5rem"},auditorChip:{marginBottom:"2px"}}})),Lr=function(e){var t=e.provider,n=e.onClose,a=Er(),r=Tr().auditors;return Object(E.jsxs)(b.a,{maxWidth:"sm",open:!0,onClose:n,fullWidth:!0,children:[Object(E.jsx)(p.a,{children:"Audited Attributes"}),Object(E.jsx)(m.a,{dividers:!0,className:a.content,children:Object(E.jsx)(Rn.a,{children:Object(E.jsxs)(_n.a,{size:"small",children:[Object(E.jsx)(qn.a,{children:Object(E.jsxs)(Wn.a,{children:[Object(E.jsx)(Un.a,{className:a.tableHead,children:"Key"}),Object(E.jsx)(Un.a,{className:a.tableHead,children:"Value"}),Object(E.jsx)(Un.a,{className:a.tableHead,children:"Auditors"})]})}),Object(E.jsx)(Vn.a,{children:t.attributes.map((function(e){return Object(E.jsxs)(Wn.a,{children:[Object(E.jsx)(Un.a,{component:"th",scope:"row",children:e.key}),Object(E.jsx)(Un.a,{children:e.value}),Object(E.jsx)(Un.a,{children:e.auditedBy.filter((function(e){return r.some((function(t){return t.address===e}))})).map((function(e){var t=r.find((function(t){return t.address===e}));return Object(E.jsx)("div",{children:Object(E.jsx)(V.a,{classes:{tooltip:a.tooltip},arrow:!0,interactive:!0,title:Object(E.jsxs)("div",{children:[Object(E.jsx)(ft,{onClick:function(e){return function(e,t){e.preventDefault(),e.stopPropagation(),window.electron.openUrl(t)}(e,t.website)},className:a.websiteLink,children:t.website}),Object(E.jsx)(Yt,{address:t.address,isCopyable:!0})]}),children:Object(E.jsx)(Jt.a,{label:t.name,size:"small",className:a.auditorChip})})},e)}))})]},e.key)}))})]})})}),Object(E.jsx)(v.a,{children:Object(E.jsx)(g.a,{autoFocus:!0,variant:"contained",onClick:n,color:"primary",size:"small",children:"Close"})})]})};function Dr(e){var t=e.provider,n=Object(i.useState)(!1),a=Object(d.a)(n,2),r=a[0],c=a[1];return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(St.a,{onClick:function(e){e.preventDefault(),e.stopPropagation(),c(!0)},size:"small",children:Object(E.jsx)(Sr.a,{fontSize:"small",color:"primary"})}),r&&Object(E.jsx)(Lr,{provider:t,onClose:function(e){e.preventDefault(),e.stopPropagation(),c(!1)}})]})}var Ar=Object(j.a)((function(e){return{root:{},secondaryText:{fontSize:".8rem"},chip:{height:".9rem",fontSize:".7rem",lineHeight:".7rem"},priceTooltip:{display:"flex",alignItems:"center",color:e.palette.grey[600]},pricePerMonth:{fontSize:"1.15rem"},bidState:{marginBottom:"4px"},providerOffline:{marginTop:"4px"},stateIcon:{marginRight:".5rem"},stateActive:{color:e.palette.primary.main},stateInactive:{color:e.palette.secondary.main},flexCenter:{display:"flex",alignItems:"center"}}}));function Pr(e){var t=e.bid,n=e.selectedBid,a=e.handleBidSelected,r=e.disabled,c=e.provider,o=Ar(),s=Object(i.useState)(!1),l=Object(d.a)(s,2),j=l[0],b=l[1],p=dt(),m=p.favoriteProviders,O=p.updateFavoriteProviders,x=m.some((function(e){return c.owner===e})),v=Object(pt.m)(null===c||void 0===c?void 0:c.host_uri,{enabled:!1,retry:!1}),g=v.data,w=v.isLoading,k=v.refetch,C=v.error;return Object(i.useEffect)((function(){c&&k()}),[c,k]),Object(E.jsxs)(ee.a,{disabled:"open"!==t.state||r,dense:!0,children:[Object(E.jsx)(hn.a,{children:Object(E.jsx)(or.a,{checked:(null===n||void 0===n?void 0:n.id)===t.id,onChange:function(){return a(t)},value:t.id,name:"radio-button-demo",disabled:"open"!==t.state||r,size:"medium"})}),Object(E.jsx)(ae.a,{id:"checkbox-list-label-".concat(t.id),classes:{secondary:o.secondaryText},primaryTypographyProps:{component:"div"},secondaryTypographyProps:{component:"div"},primary:Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(ur,{perBlockValue:Object(ge.f)(t.price.amount,6),className:o.pricePerMonth}),Object(E.jsxs)("div",{className:Object(Z.a)(o.flexCenter,o.bidState),children:[Object(E.jsx)(Jt.a,{label:t.state,size:"small",color:"open"===t.state||"active"===t.state?"primary":"secondary",classes:{root:o.chip}}),Object(E.jsxs)(f.a,{component:"span",marginLeft:".5rem",fontSize:".75rem",children:[Object(E.jsx)(ye.b,{value:t.price.amount,maximumFractionDigits:18})," uakt / block"]}),Object(E.jsx)(f.a,{className:o.priceTooltip,children:Object(E.jsx)(dr,{value:Object(ge.f)(t.price.amount,6)})})]})]}),secondary:Object(E.jsxs)("div",{children:[w&&Object(E.jsx)(y.a,{size:"1rem"}),g&&Object(E.jsx)(h.a,{variant:"body2",color:"textSecondary",children:null===g||void 0===g?void 0:g.name}),C&&Object(E.jsxs)("div",{className:Object(Z.a)(o.flexCenter,o.providerOffline),children:[Object(E.jsx)(mr.a,{className:Object(Z.a)(o.stateIcon,o.stateInactive),fontSize:"small"}),Object(E.jsx)("strong",{children:"OFFLINE"})]}),g&&Object(E.jsxs)("div",{className:o.flexCenter,children:[Object(E.jsx)(kr,{isFavorite:x,onClick:function(){var e=x?m.filter((function(e){return e!==c.owner})):m.concat([c.owner]);O(e)}}),c.isAudited&&Object(E.jsx)(f.a,{marginLeft:".5rem",children:Object(E.jsx)(Dr,{provider:c})}),Object(E.jsx)(f.a,{marginLeft:".5rem",display:"flex",children:Object(E.jsx)(ft,{onClick:function(){return b(!0)},children:"View details"})})]})]})}),c&&Object(E.jsx)(br,{provider:c}),j&&c&&g&&Object(E.jsx)(xr,{provider:Object(u.a)(Object(u.a)({},c),g),address:t.provider,onClose:function(){return b(!1)}})]})}var zr=Object(j.a)((function(e){return{root:{marginBottom:"1rem"},subHeader:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingBottom:"6px",paddingTop:"6px",zIndex:100,lineHeight:"2rem",backgroundColor:e.palette.grey[100]},secondaryText:{fontSize:".8rem"},attributesContainer:{flexBasis:"45%",margin:"2px 0",backgroundColor:"rgba(0,0,0,0.05)",borderRadius:".5rem",padding:".5rem"},attributeTitle:{marginBottom:"2px"},attributeRow:{display:"flex",alignItems:"center",lineHeight:"1rem"},attributeText:{lineHeight:"1rem",letterSpacing:0},chip:{height:"16px"},priceTooltip:{display:"flex",alignItems:"center",color:e.palette.grey[600]}}}));function Mr(e){var t=e.bids,n=e.gseq,a=e.selectedBid,r=e.handleBidSelected,c=e.disabled,o=e.providers,s=e.filteredBids,l=e.deploymentDetail,u=e.isFilteringFavorites,j=e.isFilteringAudited,b=e.groupIndex,p=e.totalBids,m=zr(),O=Object(i.useState)(),x=Object(d.a)(O,2),v=x[0],g=x[1],y=t.every((function(e){return"closed"===e.state})),w=t.filter((function(e){return s.includes(e.id)}));return Object(i.useEffect)((function(){var e=null===l||void 0===l?void 0:l.groups.find((function(e){return e.group_id.gseq===parseInt(n)}));if(e){var t={cpuAmount:Object(Ya.a)(e,(function(e){return parseInt(e.cpu.units.val)/1e3})),memoryAmount:Object(Ya.a)(e,(function(e){return parseInt(e.memory.quantity.val)})),storageAmount:Object(Ya.a)(e,(function(e){return Object(Ya.c)(e)}))};g(t)}}),[l,n]),Object(E.jsx)(Ga.a,{elevation:4,className:m.root,children:Object(E.jsxs)(W.a,{subheader:Object(E.jsxs)(Ha.a,{component:"div",className:m.subHeader,children:[Object(E.jsxs)(f.a,{display:"flex",alignItems:"center",children:[Object(E.jsx)(h.a,{variant:"h6",children:Object(E.jsx)(ir,{label:"GSEQ:",value:n})}),v&&Object(E.jsx)(f.a,{marginLeft:2,children:Object(E.jsx)(ar,{cpuAmount:v.cpuAmount,memoryAmount:v.memoryAmount,storageAmount:v.storageAmount,color:y?"default":"primary",size:"small"})})]}),Object(E.jsxs)(f.a,{display:"flex",alignItems:"center",children:[!!a&&Object(E.jsx)(xn.a,{color:"primary"}),Object(E.jsxs)(f.a,{marginLeft:"1rem",children:[b+1," of ",p]})]})]}),children:[w.map((function(e){var t=o&&o.find((function(t){return t.owner===e.provider}));return!t||t.isValidVersion?Object(E.jsx)(Pr,{bid:e,provider:t,handleBidSelected:r,disabled:c,selectedBid:a},e.id):null})),u&&0===w.length&&Object(E.jsx)(f.a,{padding:".5rem 1rem",children:Object(E.jsx)(T.a,{severity:"info",variant:"outlined",children:Object(E.jsx)(h.a,{variant:"caption",children:"There are no favorite providers for this group..."})})}),j&&0===w.length&&Object(E.jsx)(f.a,{padding:".5rem 1rem",children:Object(E.jsx)(T.a,{severity:"info",variant:"outlined",children:Object(E.jsx)(h.a,{variant:"caption",children:'There are no audited providers for this group... Try unchecking the "Audited" flag.'})})})]})})}function Br(e,t,n,a){return Fr.apply(this,arguments)}function Fr(){return(Fr=Object(c.a)(r.a.mark((function e(t,n,a,c){var i,o,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Sending manifest to "+(null===t||void 0===t?void 0:t.owner)),i=(i=(i=(i=(i=JSON.stringify(n)).replaceAll('"quantity":{"val','"size":{"val')).replaceAll('"mount":','"readOnlyTmp":')).replaceAll('"readOnly":','"mount":')).replaceAll('"readOnlyTmp":','"readOnly":'),e.next=8,Rr(5e3);case 8:s=1;case 9:if(!(s<=3)){e.next=31;break}if(console.log("Try #"+s),e.prev=11,o){e.next=17;break}return e.next=15,window.electron.queryProvider(t.host_uri+"/deployment/"+a+"/manifest","PUT",i,c.certPem,c.keyPem);case 15:o=e.sent,s=3;case 17:e.next=28;break;case 19:if(e.prev=19,e.t0=e.catch(11),!(e.t0.includes&&e.t0.includes("no lease for deployment")&&s<3)){e.next=27;break}return console.log("Lease not found, retrying..."),e.next=25,Rr(6e3);case 25:e.next=28;break;case 27:throw e.t0;case 28:s++,e.next=9;break;case 31:return e.next=33,Rr(5e3);case 33:return e.abrupt("return",o);case 34:case"end":return e.stop()}}),e,null,[[11,19]])})))).apply(this,arguments)}function Rr(e){return _r.apply(this,arguments)}function _r(){return(_r=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){setTimeout((function(){e()}),t)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var qr=n(307),Wr=n.n(qr),Ur=function(e){var t=e.err;return Object(E.jsx)(C.a,{title:"Error",subTitle:"Error while sending manifest to provider. ".concat(t),iconVariant:"error"})},Vr=n(179),Kr=n(524),Gr=Object(j.a)((function(e){return{tooltip:{fontSize:"1rem",padding:".5rem"},tooltipIcon:{fontSize:"1.5rem",color:e.palette.text.secondary},marginLeft:{marginLeft:"1rem"},nowrap:{whiteSpace:"nowrap"}}})),Hr=7e3,Yr=Math.floor(42.857142857142854),Jr=Math.round(8.571428571428571);function Xr(e){var t=e.dseq,n=Object(i.useState)(!1),a=Object(d.a)(n,2),o=a[0],s=a[1],l=Object(i.useState)(!1),j=Object(d.a)(l,2),b=j[0],p=j[1],m=Object(i.useState)(!0),O=Object(d.a)(m,2),v=O[0],w=O[1],S=Object(i.useState)({}),I=Object(d.a)(S,2),N=I[0],L=I[1],D=Object(i.useState)([]),A=Object(d.a)(D,2),P=A[0],z=A[1],F=Object(i.useState)(""),R=Object(d.a)(F,2),_=R[0],q=R[1],W=Ze().sendTransaction,K=Object($.b)().address,G=Object(M.b)().localCert,H=Object(k.b)(),Y=H.enqueueSnackbar,J=H.closeSnackbar,X=Object(ut.e)(),Q=Object(i.useState)(null),ee=Object(d.a)(Q,2),te=ee[0],ne=ee[1],ae=Gr(),ce=Object(i.useState)(0),ie=Object(d.a)(ce,2),oe=ie[0],se=ie[1],le=Tr(),de=le.providers,ue=le.getProviders,je=oe>Jr,be=oe>Yr,pe=dt().favoriteProviders,me=Object(pt.e)(K,t,{initialData:[],refetchInterval:Hr,onSuccess:function(){se((function(e){return++e}))},enabled:!be}),fe=me.data,he=me.isLoading,Oe=Object(pt.h)(K,t,{refetchOnMount:!1,enabled:!1}),xe=Oe.data,ve=Oe.refetch,ge=fe.sort((function(e,t){return e.price.amount-t.price.amount})).reduce((function(e,t){return e[t.gseq]=[].concat(Object(Ka.a)(e[t.gseq]||[]),[t]),e}),{}),ye=Object.keys(ge),we=fe.length>0&&fe.every((function(e){return"closed"===e.state}));Object(i.useEffect)((function(){ve(),ue(),pe.length>0&&p(!0)}),[]),Object(i.useEffect)((function(){var e=[];(_||b||v)&&de?null===fe||void 0===fe||fe.forEach((function(t){var n=!1;if(_){var a=de.find((function(e){return e.owner===t.provider}));null===a||void 0===a||a.attributes.forEach((function(a){var r;(null===(r=a.value)||void 0===r?void 0:r.toLowerCase().includes(_.toLowerCase()))&&(e.push(t.id),n=!0)}))}!n&&b&&(pe.find((function(e){return e===t.provider}))&&(e.push(t.id),n=!0));!n&&v&&(de.filter((function(e){return e.isAudited})).find((function(e){return e.owner===t.provider}))&&e.push(t.id))})):e=(null===fe||void 0===fe?void 0:fe.map((function(e){return e.id})))||[],z(e)}),[_,fe,de,b,v]);var ke=function(e){L(Object(u.a)(Object(u.a)({},N),{},Object(B.a)({},e.gseq,e)))};function Ce(e,t){return Se.apply(this,arguments)}function Se(){return(Se=Object(c.a)(r.a.mark((function e(n,a){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Br(n,a,t,G);case 3:return c=e.sent,e.abrupt("return",c);case 7:throw e.prev=7,e.t0=e.catch(0),Y(Object(E.jsx)(Ur,{err:e.t0}),{variant:"error",autoHideDuration:null}),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Ie(){return(Ie=Object(c.a)(r.a.mark((function e(){var n,a,c,i,o,l,d,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object.keys(N),e.prev=1,a=n.map((function(e){return N[e]})).map((function(e){return re.a.getCreateLeaseMsg(e)})),e.next=5,W(a);case 5:if(e.sent){e.next=8;break}throw new Error("Rejected transaction");case 8:return e.next=10,Ne.b.event("deploy","create lease");case 10:e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(1),e.abrupt("return");case 15:if(s(!0),!(c=tt(t))||!c.manifest){e.next=35;break}i=Y(Object(E.jsx)(C.a,{title:"Sending Manifest! \ud83d\ude80",subTitle:"Please wait a few seconds...",showLoading:!0}),{variant:"success",autoHideDuration:null}),e.prev=19,o=Kr.load(c.manifest),l=He.a.Manifest(o),d=r.a.mark((function e(t){var a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=N[n[t]],c=de.find((function(e){return e.owner===a.provider})),e.next=4,Ce(c,l);case 4:case"end":return e.stop()}}),e)})),u=0;case 24:if(!(u<n.length)){e.next=29;break}return e.delegateYield(d(u),"t1",26);case 26:u++,e.next=24;break;case 29:e.next=34;break;case 31:e.prev=31,e.t2=e.catch(19),console.error(e.t2);case 34:J(i);case 35:return s(!1),e.next=38,Ne.b.event("deploy","send manifest");case 38:X.replace(Ut.a.deploymentDetails(t,"LOGS","events"));case 39:case"end":return e.stop()}}),e,null,[[1,12],[19,31]])})))).apply(this,arguments)}function Te(){return Ee.apply(this,arguments)}function Ee(){return(Ee=Object(c.a)(r.a.mark((function e(){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=re.a.getCloseDeploymentMsg(K,t),e.next=4,W([n]);case 4:e.sent&&X.replace(Ut.a.deploymentList()),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var Le=function(){ne(null)};return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(bt.a,{title:"Create Deployment - Create Lease"}),Object(E.jsxs)(f.a,{padding:"0 1rem",children:[!he&&fe.length>0&&!we&&Object(E.jsxs)(f.a,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[Object(E.jsx)(f.a,{flexGrow:1,children:Object(E.jsx)(x.a,{label:"Search by attribute...",disabled:0===fe.length||o,value:_,onChange:function(e){var t=e.target.value;q(t)},type:"text",variant:"outlined",autoFocus:!0,fullWidth:!0,size:"medium",InputProps:{endAdornment:_&&Object(E.jsx)(U.a,{position:"end",children:Object(E.jsx)(St.a,{size:"small",onClick:function(){return q("")},children:Object(E.jsx)(Wr.a,{})})})}})}),Object(E.jsxs)(f.a,{display:"flex",alignItems:"center",children:[Object(E.jsx)(V.a,{classes:{tooltip:ae.tooltip},arrow:!0,interactive:!0,title:Object(E.jsx)(T.a,{severity:"info",variant:"standard",children:"Bids automatically close 5 minutes after the deployment is created if none are selected for a lease."}),children:Object(E.jsx)(za.a,{className:Object(Z.a)(ae.tooltipIcon,ae.marginLeft)})}),Object(E.jsx)(f.a,{margin:"0 .5rem",children:Object(E.jsx)(St.a,{"aria-label":"settings","aria-haspopup":"true",onClick:function(e){ne(e.currentTarget)},size:"small",children:Object(E.jsx)(Et.a,{fontSize:"large"})})}),Object(E.jsx)(gt.a,{id:"bid-actions-menu",anchorEl:te,keepMounted:!0,getContentAnchorEl:null,open:Boolean(te),onClose:Le,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},onClick:Le,children:Object(E.jsx)(dn.a,{onClick:function(){return Te()},children:"Close Deployment"})}),Object(E.jsxs)(g.a,{variant:"contained",color:"primary",onClick:function(){return Ie.apply(this,arguments)},classes:{label:ae.nowrap},disabled:ye.some((function(e){return!N[e]}))||o,children:["Accept Bid",ye.length>1?"s":"",Object(E.jsx)(f.a,{component:"span",marginLeft:".5rem",display:"flex",alignItems:"center",children:Object(E.jsx)(Ba.a,{fontSize:"small"})})]})]})]}),Object(E.jsxs)(f.a,{display:"flex",alignItems:"center",children:[!he&&(we||0===fe.length)&&Object(E.jsx)(g.a,{variant:"contained",color:we?"primary":"secondary",onClick:Te,size:"small",children:"Close Deployment"}),!he&&we&&Object(E.jsx)(V.a,{classes:{tooltip:ae.tooltip},arrow:!0,interactive:!0,title:Object(E.jsx)(T.a,{severity:"warning",children:"All bids for this deployment are closed. This can happen if no bids are accepted for more than 5 minutes after the deployment creation. You can close this deployment and create a new one."}),children:Object(E.jsx)(za.a,{className:Object(Z.a)(ae.tooltipIcon,ae.marginLeft),color:"error"})})]}),(he||0===fe.length)&&!be&&Object(E.jsxs)(f.a,{textAlign:"center",paddingTop:"1rem",children:[Object(E.jsx)(y.a,{}),Object(E.jsx)(f.a,{paddingTop:"1rem",children:Object(E.jsx)(h.a,{variant:"body1",children:"Waiting for bids..."})})]}),je&&!be&&0===fe.length&&Object(E.jsx)(f.a,{paddingTop:"1rem",children:Object(E.jsx)(T.a,{variant:"standard",severity:"info",children:"There should be bids by now... You can wait longer in case a bid shows up or close the deployment and try again with a different configuration."})}),be&&0===fe.length&&Object(E.jsx)(f.a,{paddingTop:"1rem",children:Object(E.jsx)(T.a,{variant:"standard",severity:"warning",children:"There's no bid for the current deployment. You can close the deployment and try again with a different configuration."})}),fe.length>0&&Object(E.jsxs)(f.a,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[Object(E.jsxs)(f.a,{children:[Object(E.jsx)(Rt.a,{control:Object(E.jsx)(_t.a,{checked:b,onChange:function(e,t){return p(t)},color:"primary",size:"small"}),label:"Favorites"}),Object(E.jsx)(Rt.a,{control:Object(E.jsx)(_t.a,{checked:v,onChange:function(e,t){return w(t)},color:"primary",size:"small"}),label:"Audited"})]}),!be&&Object(E.jsxs)(f.a,{display:"flex",alignItems:"center",lineHeight:"1rem",fontSize:".7rem",children:[Object(E.jsx)("div",{style:{color:"grey"},children:Object(E.jsx)(h.a,{variant:"caption",children:"Waiting for more bids..."})}),Object(E.jsx)(f.a,{marginLeft:".5rem",children:Object(E.jsx)(y.a,{size:".7rem"})})]})]}),Object(E.jsx)(Vr.a,{isLoading:o})]}),ye.length>0&&Object(E.jsx)(qa.a,{bottomElementId:"footer",overflow:"auto",padding:"0 1rem 2rem",children:ye.map((function(e,t){return Object(E.jsx)(Mr,{gseq:e,bids:ge[e],handleBidSelected:ke,selectedBid:N[e],disabled:o,providers:de,filteredBids:P,deploymentDetail:xe,isFilteringFavorites:b,isFilteringAudited:v,groupIndex:t,totalBids:ye.length},e)}))})]})}var Qr=n(582),$r=n(584),Zr=n.n($r),ec=n(585),tc=n.n(ec);function nc(){var e=Object(ut.f)().search;return o.a.useMemo((function(){return new URLSearchParams(e)}),[e])}var ac=o.a.createContext({}),rc=function(e){var t=e.children,n=Object(pt.o)(),a=n.data,r=n.isFetching,c=a?a.categories:[],i=a?a.templates:[];return Object(E.jsx)(ac.Provider,{value:{isLoading:r,categories:c,templates:i,getTemplateById:function(e){return c.flatMap((function(e){return e.templates})).find((function(t){return t.id===e}))}},children:t})},cc=function(){return Object(u.a)({},o.a.useContext(ac))},ic=Object(j.a)((function(e){return{root:{padding:"1rem",paddingTop:0},list:{paddingBottom:"1rem"}}}));function oc(e){var t=e.selectedTemplate,n=e.setSelectedTemplate,a=ic(),o=Object(i.useState)(!1),s=Object(d.a)(o,2),l=s[0],u=s[1],j=Object(i.useState)(null),b=Object(d.a)(j,2),p=b[0],m=b[1],f=Object(i.useState)(null),h=Object(d.a)(f,2),O=h[0],x=h[1],v=Object(i.useState)(null),w=Object(d.a)(v,2),k=w[0],C=w[1],S=Object($.b)().refreshBalance,I=Object(M.b)(),N=I.loadValidCertificates,T=I.localCert,L=I.isLocalCertMatching,D=Object(ut.e)(),A=nc(),P=dt().getDeploymentData,z=cc().getTemplateById,B=O&&k;Object(i.useEffect)((function(){var e=F(),t=R();e?n(e):t&&n(t)}),[]),Object(i.useEffect)((function(){function e(){return(e=Object(c.a)(r.a.mark((function e(){var t,n,a,c,i,o,s,l,d;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,S();case 3:return n=e.sent,e.next=6,N();case 6:a=e.sent,c=a.find((function(e){return e.parsed===(null===T||void 0===T?void 0:T.certPem)})),i=n>=5e6,o="valid"===(null===c||void 0===c||null===(t=c.certificate)||void 0===t?void 0:t.state),s=!!T&&L,m(i),x(o),C(s),u(!1),l=F(),d=R(),i&&o&&s&&(l||d?D.replace(Ut.a.createDeploymentStepManifest()):D.replace(Ut.a.createDeploymentStepTemplate()));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[S,N,T,L]);var F=function(){var e=null;if(A.get("redeploy")){var t=P(A.get("redeploy"));t&&t.manifest&&(e={name:t.name,code:"empty",content:t.manifest})}return e},R=function(){var e=null;if(A.get("templateId")){var t=z(A.get("templateId"));t&&(e={code:"empty",content:t.deploy,valuesToChange:t.valuesToChange||[]})}return e};return Object(E.jsxs)("div",{className:a.root,children:[Object(E.jsx)(bt.a,{title:"Create Deployment - Prerequisites"}),Object(E.jsxs)(W.a,{className:a.list,children:[Object(E.jsxs)(ee.a,{children:[Object(E.jsxs)(hn.a,{children:[null===p&&Object(E.jsx)(y.a,{}),!0===p&&Object(E.jsx)(Zr.a,{fontSize:"large",style:{color:Qr.a[500]}}),!1===p&&Object(E.jsx)(tc.a,{fontSize:"large",color:"secondary"})]}),Object(E.jsx)(ae.a,{primary:"Wallet Balance",secondary:"The balance of the wallet needs to be of at least 5 AKT. If you do not have 5 AKT, you will need to specify an authorized depositor."})]}),Object(E.jsxs)(ee.a,{children:[Object(E.jsxs)(hn.a,{children:[null===O&&Object(E.jsx)(y.a,{}),!0===O&&Object(E.jsx)(Zr.a,{fontSize:"large",style:{color:Qr.a[500]}}),!1===O&&Object(E.jsx)(tc.a,{fontSize:"large",color:"secondary"})]}),Object(E.jsx)(ae.a,{primary:"Valid certificate on the blockchain",secondary:"A valid certificate must be present on the blockchain"})]}),Object(E.jsxs)(ee.a,{children:[Object(E.jsxs)(hn.a,{children:[null===k&&Object(E.jsx)(y.a,{}),!0===k&&Object(E.jsx)(Zr.a,{fontSize:"large",style:{color:Qr.a[500]}}),!1===k&&Object(E.jsx)(tc.a,{fontSize:"large",color:"secondary"})]}),Object(E.jsx)(ae.a,{primary:"Valid local certificate",secondary:Object(E.jsxs)(E.Fragment,{children:["A local certificate must match the on-chain certificate.",Object(E.jsx)("br",{}),O&&!1===k&&"If you have a valid certificate on the blockchain but not a valid local certificate, you need to revoke your blockchain certificate and create a new one with the tool."]})})]})]}),Object(E.jsx)(g.a,{variant:"contained",color:"primary",disabled:!B,onClick:function(){t?D.replace(Ut.a.createDeploymentStepManifest()):D.replace(Ut.a.createDeploymentStepTemplate())},children:l?Object(E.jsx)(y.a,{size:"1.5rem",color:"primary"}):"Continue"})]})}var sc=n(359),lc=n.n(sc),dc=n(42),uc=n(1948),jc=n(1949),bc=n(1969),pc=n(1796),mc=Object(dc.a)((function(e){return{alternativeLabel:{top:10,left:"calc(-50% + 16px)",right:"calc(50% + 16px)"},active:{"& $line":{borderColor:e.palette.primary.main}},completed:{"& $line":{borderColor:e.palette.primary.main}},line:{borderColor:"#eaeaf0",borderTopWidth:3,borderRadius:1}}}))(pc.a),fc=Object(j.a)((function(e){return{root:{color:"#eaeaf0",display:"flex",height:22,alignItems:"center"},active:{color:e.palette.primary.main},circle:{width:8,height:8,borderRadius:"50%",backgroundColor:"currentColor"},completed:{color:e.palette.primary.main,zIndex:1,fontSize:18}}}));function hc(e){var t=fc(),n=e.active,a=e.completed;return Object(E.jsx)("div",{className:Object(Z.a)(t.root,Object(B.a)({},t.active,n)),children:a?Object(E.jsx)(xn.a,{className:t.completed}):Object(E.jsx)("div",{className:t.circle})})}var Oc=Object(j.a)((function(e){return{root:{padding:"1rem 0",flex:1},label:{"&&":{fontWeight:"normal",marginTop:"0"}},labelCompleted:{"&&":{color:e.palette.text.secondary}},labelActive:{"&&":{fontWeight:"bold"}}}}));function xc(e){var t=e.steps,n=e.activeStep,a=Oc();return Object(E.jsx)(uc.a,{alternativeLabel:!0,activeStep:n,connector:Object(E.jsx)(mc,{}),classes:{root:a.root},children:t.map((function(e){return Object(E.jsx)(jc.a,{children:Object(E.jsx)(bc.a,{StepIconComponent:hc,classes:{label:a.label,completed:a.labelCompleted,active:a.labelActive},children:e})},e)}))})}var vc=["Checking Prerequisites","Choose Template","Create Deployment","Choose providers"],gc=Object(j.a)((function(e){return{root:{height:"100%",background:e.palette.common.white},title:{padding:"4px 1rem"},button:{marginRight:e.spacing(1)},backButton:{marginRight:e.spacing(1)},completed:{display:"inline-block"},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},stepContainer:{width:"100%",display:"flex",alignItems:"center"},stepperRoot:{padding:"1rem 0 1.5rem"},stepLabel:{marginTop:"4px"}}}));function yc(){var e=gc(),t=Object(i.useState)(null),n=Object(d.a)(t,2),a=n[0],r=n[1],c=Object(i.useState)(null),o=Object(d.a)(c,2),s=o[0],l=o[1],u=Object(ut.g)(),j=u.step,b=u.dseq,p=Object(ut.e)();Object(i.useEffect)((function(){l(null===a||void 0===a?void 0:a.content)}),[a]);var m=function(e){switch(e){case"chooseTemplate":return 1;case"editManifest":return 2;case"acceptBids":return 3;default:return 0}}(j);return Object(E.jsxs)("div",{className:e.root,children:[Object(E.jsxs)("div",{className:e.stepContainer,children:[Object(E.jsx)(f.a,{padding:"1rem 0 1rem .5rem",children:Object(E.jsx)(St.a,{"aria-label":"back",onClick:function(){var e="";switch(j){case"editManifest":e=Ut.a.createDeploymentStepTemplate();break;case"acceptBids":e=Ut.a.createDeploymentStepManifest()}e?p.replace(e):p.goBack()},size:"medium",children:Object(E.jsx)(lc.a,{})})}),Object(E.jsx)(xc,{steps:vc,activeStep:m})]}),Object(E.jsxs)("div",{children:[0===m&&Object(E.jsx)(oc,{selectedTemplate:a,setSelectedTemplate:function(e){return r(e)}}),1===m&&Object(E.jsx)(Na,{selectedTemplate:a,setSelectedTemplate:function(e){return r(e)}}),2===m&&Object(E.jsx)(Va,{selectedTemplate:a,editedManifest:s,setEditedManifest:l}),3===m&&Object(E.jsx)(Xr,{dseq:b,editedManifest:s})]})]})}var wc=n(1064),kc=n.n(wc),Cc=n(399),Sc=n.n(Cc),Ic=n(1795),Nc=n(1062),Tc=n.n(Nc),Ec=n(1063),Lc=n.n(Ec),Dc=Object(j.a)((function(e){return{root:{display:"flex",alignItems:"center",flexDirection:"column",borderRadius:0},defaultColor:{color:"rgba(0,0,0,.25)",borderColor:"rgba(0,0,0,.20) !important"},activeColor:{color:e.palette.grey[700],borderColor:"rgba(0,0,0,.25) !important"},serverRow:{width:"110px",border:"1px solid",borderRightWidth:"2px",borderLeftWidth:"2px",textAlign:"center",display:"flex",alignItems:"center",padding:"2px 4px"},serverTop:{width:"100%",display:"flex",borderBottom:"12px solid",height:"16px",borderTop:"2px solid",borderRight:"1px solid",borderLeft:"1px solid",position:"relative"},serverDot:{position:"absolute",width:"4px",height:"4px",borderRadius:"4px",bottom:"-8px",backgroundColor:e.palette.primary.contrastText},serverDotActive:{animation:"$glow 1s ease-in-out infinite alternate",backgroundColor:e.palette.primary.main},progressActive:{height:"2px",width:"50%",opacity:"0.5",borderRight:"10px solid"},statusIcon:{position:"absolute",top:"3px",right:"4px",fontSize:".7rem",color:e.palette.primary.contrastText},activeIcon:{color:e.palette.primary.main},specIcon:{fontSize:"1rem"},specDetail:{marginLeft:"1rem",flexGrow:1,textAlign:"left",fontWeight:"bold",fontSize:".8rem",lineHeight:".8rem"},"@keyframes glow":{"0%":{boxShadow:"0 0 0px ".concat(e.palette.primary.main,", 0 0 2px ").concat(e.palette.primary.main,", 0 0 4px ").concat(e.palette.primary.main)},"100%":{boxShadow:"0 0 4px ".concat(e.palette.primary.main,", 0 0 6px ").concat(e.palette.primary.main,", 0 0 8px ").concat(e.palette.primary.main)}}}}));function Ac(e){var t,n,a,r=e.cpuAmount,c=e.memoryAmount,i=e.storageAmount,o=e.isActive,s=Dc();return Object(E.jsxs)(Ga.a,{className:s.root,elevation:o?2:0,children:[Object(E.jsxs)("div",{className:Object(Z.a)(s.serverTop,s.defaultColor,Object(B.a)({},s.activeColor,o)),children:[o&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Ic.a,{className:Object(Z.a)(s.progressActive,s.activeColor)}),Object(E.jsx)(Tc.a,{className:Object(Z.a)(s.statusIcon,s.activeIcon)})]}),!o&&Object(E.jsx)(Lc.a,{className:s.statusIcon}),Object(E.jsx)(f.a,{className:Object(Z.a)(s.serverDot,Object(B.a)({},s.serverDotActive,o)),left:"6px"}),Object(E.jsx)(f.a,{className:Object(Z.a)(s.serverDot,Object(B.a)({},s.serverDotActive,o)),left:"12px"}),Object(E.jsx)(f.a,{className:Object(Z.a)(s.serverDot,Object(B.a)({},s.serverDotActive,o)),left:"18px"})]}),Object(E.jsxs)("div",{className:Object(Z.a)(s.serverRow,s.defaultColor,Object(B.a)({},s.activeColor,o)),children:[Object(E.jsx)(er.a,{className:Object(Z.a)(s.specIcon,s.defaultColor,(t={},Object(B.a)(t,s.activeColor,o),Object(B.a)(t,s.activeIcon,o),t))}),Object(E.jsx)("div",{className:Object(Z.a)(s.specDetail,s.defaultColor,Object(B.a)({},s.activeColor,o)),children:r+" vcpu"})]}),Object(E.jsxs)("div",{className:Object(Z.a)(s.serverRow,s.defaultColor,Object(B.a)({},s.activeColor,o)),children:[Object(E.jsx)(Xa.a,{className:Object(Z.a)(s.specIcon,s.defaultColor,(n={},Object(B.a)(n,s.activeColor,o),Object(B.a)(n,s.activeIcon,o),n))}),Object(E.jsx)("div",{className:Object(Z.a)(s.specDetail,s.defaultColor,Object(B.a)({},s.activeColor,o)),children:tr(c)})]}),Object(E.jsxs)("div",{className:Object(Z.a)(s.serverRow,s.defaultColor,Object(B.a)({},s.activeColor,o)),children:[Object(E.jsx)($a.a,{className:Object(Z.a)(s.specIcon,s.defaultColor,(a={},Object(B.a)(a,s.activeColor,o),Object(B.a)(a,s.activeIcon,o),a))}),Object(E.jsx)("div",{className:Object(Z.a)(s.specDetail,s.defaultColor,Object(B.a)({},s.activeColor,o)),children:tr(i)})]}),Object(E.jsx)(f.a,{width:"100%",display:"flex",borderBottom:"4px solid",className:Object(Z.a)(s.defaultColor,Object(B.a)({},s.activeColor,o))})]})}var Pc=Object(j.a)((function(e){return{root:{borderRadius:"1rem"},small:{marginLeft:".5rem",width:".5rem",height:".5rem"},medium:{marginLeft:"1rem",width:"1rem",height:"1rem"},statusActive:{backgroundColor:"green"},statusClosed:{backgroundColor:"red"}}}));function zc(e){var t,n=e.state,a=e.style,r=e.size,c=void 0===r?"medium":r,i=Pc();return Object(E.jsx)("div",{style:a,className:Object(Z.a)(i.root,(t={},Object(B.a)(t,i.small,"small"===c),Object(B.a)(t,i.medium,"medium"===c),Object(B.a)(t,i.statusActive,"active"===n),Object(B.a)(t,i.statusClosed,"closed"===n),t))})}var Mc=Object(j.a)((function(e){return{leaseChip:{height:"auto",marginLeft:".5rem",fontSize:".7rem",padding:"1px"},chipLabel:{dispaly:"flex",alignItems:"center",flexWrap:"wrap"}}})),Bc=function(e){var t=e.lease,n=e.providers,a=Mc(),r=Object(i.useState)(null),c=Object(d.a)(r,2),o=c[0],s=c[1];return Object(i.useEffect)((function(){var e=null===n||void 0===n?void 0:n.find((function(e){return e.owner===(null===t||void 0===t?void 0:t.provider)}));if(e){var a=new URL(e.host_uri);s(a.hostname)}}),[n]),Object(E.jsx)(Jt.a,{size:"small",className:a.leaseChip,classes:{label:a.chipLabel},label:Object(E.jsx)(E.Fragment,{children:o&&Object(E.jsx)("strong",{children:o})}),icon:Object(E.jsx)(zc,{state:t.state,size:"small"})},t.id)},Fc=n(579),Rc=n(435),_c=n(1082),qc=n(439),Wc=n.n(qc),Uc=Object(j.a)((function(e){return{root:{display:"flex",alignItems:"center",padding:".5rem 1rem",borderBottom:"1px solid ".concat(e.palette.grey[300]),cursor:"pointer",transition:"background-color .2s ease","&:hover":{backgroundColor:e.palette.grey[300]}},titleContainer:{paddingBottom:"1rem",display:"flex",alignItems:"center",justifyContent:"space-between"},infoContainer:{flexGrow:"1",padding:"0 1rem",flex:1,minWidth:0},deploymentInfo:{display:"flex",alignItems:"center",marginBottom:"2px",fontSize:".875rem",lineHeight:"1rem"},title:{fontSize:"2rem",fontWeight:"bold"},dseq:{display:"inline",fontSize:"12px"},leaseChip:{marginLeft:".5rem"},warningIcon:{fontSize:"1rem",marginLeft:".5rem",color:e.palette.error.main},editButton:{marginLeft:".5rem",color:e.palette.grey[400],transition:"color .3s ease","&:hover":{color:e.palette.text.primary}},editIcon:{fontSize:".9rem"},tooltip:{fontSize:"1rem"},tooltipIcon:{fontSize:"1rem"}}}));function Vc(e){var t=e.deployment,n=e.isSelectable,a=e.onSelectDeployment,o=e.checked,s=e.providers,l=e.refreshDeployments,u=Uc(),j=Object(ut.e)(),b=Ze().sendTransaction,p=Object(i.useState)(!1),m=Object(d.a)(p,2),O=m[0],x=m[1],v=Object(i.useState)(null),g=Object(d.a)(v,2),w=g[0],k=g[1],C=dt().changeDeploymentName,S=Object($.b)().address,I="active"===t.state,N=Object(pt.i)(S,t,{enabled:!!t&&I}),T=N.data,L=N.isLoading,D=T&&!!T.length,A=D&&T.some((function(e){return"active"===e.state})),P=D?T.reduce((function(e,t){return e+t.price.amount}),0):0,z=Object(ge.e)(P,t.escrowBalance),M=Object(ge.g)(P,t.escrowBalance,t.escrowAccount.settled_at,t.createdAt),B=t.name?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(h.a,{variant:"body2",className:"text-truncate",children:Object(E.jsx)("strong",{children:t.name})}),Object(E.jsxs)("span",{className:u.dseq,children:["\xa0-\xa0",t.dseq]})]}):Object(E.jsx)("span",{className:u.dseq,children:t.dseq}),F=Object(_c.a)(z,new Date)<7,R=I&&A?null===M||void 0===M?void 0:M.escrow:t.escrowBalance,_=I&&A?null===M||void 0===M?void 0:M.amountSpent:t.transferred.amount,q=I&&A&&Object(Rc.a)(null===M||void 0===M?void 0:M.timeLeft);var W=function(e){null===e||void 0===e||e.stopPropagation(),k(null)},U=function(){var e=Object(c.a)(r.a.mark((function e(n,a){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!1),e.prev=1,c=re.a.getDepositDeploymentMsg(S,t.dseq,n,a),e.next=5,b([c]);case 5:if(!e.sent){e.next=10;break}return l(),e.next=10,Ne.b.event("deploy","deployment deposit");case 10:e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(1),e.t0;case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,n){return e.apply(this,arguments)}}(),K=function(){var e=Object(c.a)(r.a.mark((function e(){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W(),e.prev=1,n=re.a.getCloseDeploymentMsg(S,t.dseq),e.next=5,b([n]);case 5:if(!e.sent){e.next=10;break}return l(),e.next=10,Ne.b.event("deploy","close deployment");case 10:e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(1),e.t0;case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}();return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("div",{className:u.root,onClick:function(){j.push("/deployment/"+t.dseq)},children:[Object(E.jsx)("div",{children:Object(E.jsx)(Ac,{cpuAmount:t.cpuAmount,memoryAmount:t.memoryAmount,storageAmount:t.storageAmount,isActive:I})}),Object(E.jsxs)("div",{className:u.infoContainer,children:[Object(E.jsx)("div",{className:u.deploymentInfo,children:Object(E.jsx)(f.a,{display:"flex",alignItems:"baseline",flex:1,minWidth:0,children:B})}),I&&Object(E.jsxs)("div",{className:u.deploymentInfo,children:[q&&Object(E.jsxs)(f.a,{component:"span",display:"flex",alignItems:"center",children:["Time left:\xa0",Object(E.jsxs)("strong",{children:["~",Object(Fc.a)(null===M||void 0===M?void 0:M.timeLeft)]}),F&&Object(E.jsx)(_e.a,{fontSize:"small",color:"error",className:u.warningIcon})]}),!!R&&Object(E.jsxs)(f.a,{marginLeft:q?"1rem":0,display:"flex",children:["Balance:\xa0",Object(E.jsxs)("strong",{children:[Object(ge.f)(R,2)," AKT"]}),R<=0&&Object(E.jsx)(V.a,{classes:{tooltip:u.tooltip},arrow:!0,title:"Your deployment is out of funds and can be closed by your provider at any time now. You can add funds to keep active.",children:Object(E.jsx)(_e.a,{color:"error",className:Object(Z.a)(u.tooltipIcon,u.warningIcon)})})]}),!!_&&Object(E.jsxs)(f.a,{marginLeft:"1rem",display:"flex",children:["Spent:\xa0",Object(E.jsxs)("strong",{children:[Object(ge.f)(_,2)," AKT"]})]})]}),D&&Object(E.jsxs)(f.a,{display:"flex",alignItems:"center",flexWrap:"wrap",children:[Object(E.jsx)(h.a,{variant:"caption",children:"Leases"})," ",null===T||void 0===T?void 0:T.map((function(e){return Object(E.jsx)(Bc,{lease:e,providers:s},e.id)}))]}),L&&Object(E.jsx)(y.a,{size:"1rem"})]}),Object(E.jsxs)(f.a,{padding:"0 1rem",display:"flex",alignItems:"center",children:[n&&Object(E.jsx)(_t.a,{checked:o,size:"small",onClick:function(e){e.stopPropagation()},onChange:function(e){a(e.target.checked,t.dseq)}}),Object(E.jsx)(f.a,{marginLeft:".2rem",children:Object(E.jsx)(St.a,{onClick:function(e){e.stopPropagation(),k(e.currentTarget)},size:"small",children:Object(E.jsx)(Et.a,{})})}),Object(E.jsx)(f.a,{marginLeft:".5rem",display:"flex",children:Object(E.jsx)(kc.a,{})})]})]}),Object(E.jsxs)(gt.a,{id:"deployment-list-menu-".concat(t.dseq),anchorEl:w,keepMounted:!0,getContentAnchorEl:null,open:Boolean(w),onClose:W,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},onClick:W,children:[I&&Object(E.jsx)(jn,{onClick:function(){return x(!0)},icon:Object(E.jsx)(Sc.a,{fontSize:"small"}),text:"Deposit"}),Object(E.jsx)(jn,{onClick:function(){return C(t.dseq)},icon:Object(E.jsx)(Ft.a,{fontSize:"small"}),text:"Edit name"}),I&&Object(E.jsx)(jn,{onClick:function(){return K()},icon:Object(E.jsx)(Wc.a,{fontSize:"small"}),text:"Close"})]}),I&&O&&Object(E.jsx)(_a,{handleCancel:function(){return x(!1)},onDeploymentDeposit:U})]})}var Kc=n(1965),Gc=Object(j.a)((function(e){return{root:{"& .MuiPagination-ul":{justifyContent:"center"}},titleContainer:{padding:"0.5rem 1rem",display:"flex",alignItems:"center"},title:{fontSize:"1.5rem",fontWeight:"bold"},createBtn:{marginLeft:"auto"}}}));function Hc(e){var t=e.deployments,n=e.isLoadingDeployments,a=e.refreshDeployments,r=Object(i.useState)(1),c=Object(d.a)(r,2),o=c[0],s=c[1],l=Gc(),j=Object(Ie.b)().settings,b=Object(i.useState)(""),p=Object(d.a)(b,2),m=p[0],O=p[1],v=dt().getDeploymentName,y=Object(i.useState)([]),w=Object(d.a)(y,2),k=w[0],C=w[1],S=j.apiEndpoint,I=k?Object(Ka.a)(k).sort((function(e,t){return e.createdAt<t.createdAt?1:-1})):[],N=10*(o-1),T=N+10,L=I.slice(N,T),D=Math.ceil(I.length/10);Object(i.useEffect)((function(){a()}),[a,S]),Object(i.useEffect)((function(){if(t){var e=t.map((function(e){var t=v(e.dseq);return Object(u.a)(Object(u.a)({},e),{},{name:t})}));m&&(e=e.filter((function(e){var t;return null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(m.toLowerCase())}))),C(e)}}),[t,m,v]);return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(bt.a,{title:"Deployment List"}),Object(E.jsx)(Vr.a,{isLoading:n}),Object(E.jsxs)(f.a,{className:l.root,children:[Object(E.jsxs)(f.a,{className:l.titleContainer,children:[Object(E.jsx)(h.a,{variant:"h3",className:l.title,children:"Deployments"}),Object(E.jsx)(f.a,{marginLeft:"1rem",children:Object(E.jsx)(St.a,{"aria-label":"back",onClick:a,size:"small",children:Object(E.jsx)(Ct.a,{})})}),Object(E.jsxs)(g.a,{className:l.createBtn,variant:"contained",size:"medium",color:"primary",component:ua.a,to:"/createDeployment",children:[Object(E.jsx)(Sc.a,{}),"\xa0Create Deployment"]})]}),Object(E.jsx)(f.a,{padding:".5rem 1rem 1rem",display:"flex",alignItems:"center",children:Object(E.jsx)(x.a,{label:"Search Deployments by name",value:m,onChange:function(e){var t=e.target.value;O(t)},type:"text",variant:"outlined",autoFocus:!0,fullWidth:!0,size:"medium",InputProps:{endAdornment:m&&Object(E.jsx)(U.a,{position:"end",children:Object(E.jsx)(St.a,{size:"small",onClick:function(){return O("")},children:Object(E.jsx)(Wr.a,{})})})}})}),Object(E.jsx)(f.a,{children:L.map((function(e){return Object(E.jsx)(Vc,{deployment:e,refreshDeployments:a},e.dseq)}))}),m&&0===L.length&&Object(E.jsx)(f.a,{padding:"0 1rem",children:Object(E.jsx)(h.a,{children:"No deployment found."})}),Object(E.jsx)(f.a,{padding:"1rem 1rem 2rem",children:Object(E.jsx)(Kc.a,{count:D,onChange:function(e,t){s(t)},page:o,size:"large"})})]})]})}var Yc=n(196),Jc=n(1950),Xc=n(1951),Qc=n(1952),$c=n(798),Zc=n.n($c),ei=n(545),ti=n.n(ei),ni=n(524),ai=Object(j.a)((function(e){return{root:{marginBottom:"1rem"},cardHeader:{borderBottom:"1px solid rgba(0,0,0,0.1)",padding:".5rem 1rem",backgroundColor:e.palette.grey[100]},cardHeaderTitle:{fontSize:"18px"},listItem:{borderBottom:"1px solid ".concat(e.palette.grey[300])},link:{display:"flex",alignItems:"center"},tooltip:{fontSize:"1rem"},tooltipIcon:{fontSize:"1rem",color:e.palette.grey[500]},whiteLink:{fontWeight:"bold",color:e.palette.common.white},marginLeft:{marginLeft:"1rem"},serviceChip:{height:".875rem",lineHeight:".875rem",fontSize:".5rem",fontWeight:"bold"},activeLeaseIcon:{fontSize:"1rem",display:"flex",color:e.palette.success.dark}}})),ri=o.a.forwardRef((function(e,t){var n=e.lease,a=e.setActiveTab,s=e.deploymentManifest,l=e.dseq,j=e.providers,b=e.loadDeploymentDetail,p=Object(k.b)().enqueueSnackbar,m=null===j||void 0===j?void 0:j.find((function(e){return e.owner===(null===n||void 0===n?void 0:n.provider)})),O=Object(M.b)().localCert,x="active"===n.state,v=Object(i.useState)(!1),w=Object(d.a)(v,2),S=w[0],I=w[1],N=dt(),L=N.favoriteProviders,D=N.updateFavoriteProviders,A=Object(i.useState)(!1),P=Object(d.a)(A,2),z=P[0],B=P[1],F=L.some((function(e){return(null===n||void 0===n?void 0:n.provider)===e})),R=Object(pt.k)(null===m||void 0===m?void 0:m.host_uri,n,{enabled:x&&!S&&!!(null===m||void 0===m?void 0:m.host_uri)&&!!O,refetchInterval:1e4,onSuccess:function(e){e&&oe(e)}}),_=R.data,q=R.error,U=R.refetch,K=R.isLoading,G=Object(pt.m)(null===m||void 0===m?void 0:m.host_uri,{enabled:!1,retry:!1}),H=G.data,Y=G.isLoading,J=G.refetch,X=q&&q.includes&&q.includes("lease not found")&&x,Q=_?Object.keys(_.services):[],$=ai(),Z=Object(Yc.a)(),te=Object(i.useState)(!1),ne=Object(d.a)(te,2),re=ne[0],ce=ne[1];o.a.useImperativeHandle(t,(function(){return{getLeaseStatus:ie}}));var ie=Object(i.useCallback)((function(){x&&m&&O&&(U(),J())}),[x,m,O,U,J]),oe=function(e){var t=e?Object.keys(e.services):[],n=t.length>0&&t.map((function(t){return e.services[t]})).every((function(e,t){return e.available>0}));I(n)};function se(e,t){e.preventDefault(),window.electron.openUrl("http://"+t)}function le(){return(le=Object(c.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ce(!0),e.prev=1,t=ni.load(s),n=He.a.Manifest(t),e.next=6,Br(m,n,l,O);case 6:p(Object(E.jsx)(C.a,{title:"Manifest sent!",iconVariant:"success"}),{variant:"success",autoHideDuration:1e4}),b(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),p(Object(E.jsx)(Ur,{err:e.t0,iconVariant:"error"}),{variant:"error",autoHideDuration:null});case 13:ce(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}Object(i.useEffect)((function(){ie()}),[n,m,O,ie]);return Object(E.jsxs)(E.Fragment,{children:[z&&Object(E.jsx)(xr,{provider:Object(u.a)(Object(u.a)({},H),m),onClose:function(){return B(!1)},address:n.provider}),Object(E.jsxs)(Jc.a,{className:$.root,elevation:4,children:[Object(E.jsx)(Xc.a,{classes:{title:$.cardHeaderTitle,root:$.cardHeader},title:Object(E.jsxs)(f.a,{display:"flex",alignItems:"center",children:[Object(E.jsx)(ir,{label:"Status:",value:Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{children:n.state}),Object(E.jsx)(zc,{state:n.state,size:"small"})]})}),Object(E.jsx)(ir,{label:"GSEQ:",value:n.gseq,marginLeft:"1rem",fontSize:"1rem"}),Object(E.jsx)(ir,{label:"OSEQ:",value:n.oseq,marginLeft:"1rem",fontSize:"1rem"}),x&&Object(E.jsx)(f.a,{marginLeft:"1rem",display:"inline-flex",children:Object(E.jsx)(ft,{onClick:function(){return a("LOGS")},children:"View logs"})})]})}),Object(E.jsxs)(Qc.a,{children:[Object(E.jsx)(f.a,{display:"flex",children:Object(E.jsxs)(f.a,{children:[Object(E.jsx)(f.a,{paddingBottom:"1rem",children:Object(E.jsx)(ar,{cpuAmount:n.cpuAmount,memoryAmount:n.memoryAmount,storageAmount:n.storageAmount,color:x?"primary":"default",size:"medium"})}),Object(E.jsx)(ir,{label:"Price:",value:Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(ur,{perBlockValue:Object(ge.f)(n.price.amount,6)}),Object(E.jsx)(dr,{value:Object(ge.f)(n.price.amount,6)}),Object(E.jsxs)(f.a,{component:"span",marginLeft:".5rem",fontSize:".75rem",children:[Object(E.jsx)(ye.b,{value:n.price.amount,maximumSignificantDigits:18}),"uakt (","~".concat(Object(ge.d)(n.price.amount),"akt/month"),")"]})]})}),x&&Object(E.jsx)(ir,{label:"Provider:",value:Object(E.jsxs)(E.Fragment,{children:[Y&&Object(E.jsx)(y.a,{size:"1rem"}),H&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(ua.a,{to:Ut.a.providerDetail(n.provider),children:H.name}),Object(E.jsxs)(f.a,{display:"flex",alignItems:"center",marginLeft:1,children:[Object(E.jsx)(kr,{isFavorite:F,onClick:function(e){e.preventDefault(),e.stopPropagation();var t=F?L.filter((function(e){return e!==n.provider})):L.concat([n.provider]);D(t)}}),m.isAudited&&Object(E.jsx)(f.a,{marginLeft:".5rem",children:Object(E.jsx)(Dr,{provider:m})}),Object(E.jsx)(f.a,{marginLeft:".5rem",display:"flex",children:Object(E.jsx)(ft,{onClick:function(){return B(!0)},children:"View details"})})]})]})]}),marginTop:".25rem",marginBottom:"1rem"})]})}),X&&Object(E.jsxs)(T.a,{severity:"warning",children:["The lease was not found on this provider. This can happen if no manifest was sent to the provider. To send one you can update your deployment in the ",Object(E.jsx)(ft,{onClick:function(e){e.preventDefault(),a("EDIT")},children:"VIEW / EDIT MANIFEST"})," tab.",s&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(f.a,{margin:"1rem 0",children:Object(E.jsx)("strong",{children:"OR"})}),Object(E.jsx)(g.a,{variant:"contained",color:"primary",disabled:re,onClick:function(){return le.apply(this,arguments)},size:"small",children:re?Object(E.jsx)(y.a,{size:"1.5rem"}):Object(E.jsx)("span",{children:"Send manifest manually"})})]})]}),!_&&K&&Object(E.jsx)(y.a,{size:"1rem"}),x&&_&&_.services&&Q.map((function(e){return _.services[e]})).map((function(e,t){var n,r,c,i,o;return Object(E.jsxs)(f.a,{pb:Q.length===t+1?0:2,mb:Q.length===t+1?0:2,borderBottom:Q.length===t+1?0:"1px solid ".concat(Z.palette.grey[300]),children:[Object(E.jsxs)(f.a,{display:"flex",alignItems:"center",children:[Object(E.jsx)(ir,{label:"Group:",value:e.name,fontSize:"1rem"}),K||!S?Object(E.jsx)(f.a,{display:"inline-flex",marginLeft:"1rem",children:Object(E.jsx)(y.a,{size:"1rem"})}):Object(E.jsx)(f.a,{display:"inline-flex",marginLeft:".5rem",children:Object(E.jsx)(V.a,{classes:{tooltip:$.tooltip},arrow:!0,interactive:!0,title:Object(E.jsxs)(E.Fragment,{children:["Workloads can take some time to spin up. If you see an error when browsing the uri, it is recommended to refresh and wait a bit. Check the"," ",Object(E.jsx)(ft,{onClick:function(){return a("LOGS")},className:$.whiteLink,children:"logs"})," ","for more information."]}),children:Object(E.jsx)(za.a,{className:$.tooltipIcon,fontSize:"small"})})}),S&&Object(E.jsx)(f.a,{marginLeft:".5rem",children:Object(E.jsx)(ti.a,{className:$.activeLeaseIcon})})]}),Object(E.jsxs)(f.a,{display:"flex",alignItems:"center",mb:(null===(n=e.uris)||void 0===n?void 0:n.length)>0||_.forwarded_ports&&(null===(r=_.forwarded_ports[e.name])||void 0===r?void 0:r.length)>0?"1rem":0,children:[Object(E.jsxs)(f.a,{display:"flex",alignItems:"center",children:[Object(E.jsx)(h.a,{variant:"caption",children:"Available:\xa0"}),Object(E.jsx)(Jt.a,{label:e.available,size:"small",color:"default",className:$.serviceChip})]}),Object(E.jsxs)(f.a,{display:"flex",alignItems:"center",children:[Object(E.jsx)(h.a,{variant:"caption",className:$.marginLeft,children:"Ready Replicas:\xa0"}),Object(E.jsx)(Jt.a,{label:e.ready_replicas,size:"small",color:"default",className:$.serviceChip})]}),Object(E.jsxs)(f.a,{display:"flex",alignItems:"center",children:[Object(E.jsx)(h.a,{variant:"caption",className:$.marginLeft,children:"Total:\xa0"}),Object(E.jsx)(Jt.a,{label:e.total,size:"small",color:"default",className:$.serviceChip})]})]}),_.forwarded_ports&&(null===(c=_.forwarded_ports[e.name])||void 0===c?void 0:c.length)>0&&Object(E.jsx)(f.a,{marginTop:".5rem",mb:(null===(i=e.uris)||void 0===i?void 0:i.length)>0?"1rem":0,children:Object(E.jsx)(ir,{label:"Forwarded Ports:",value:_.forwarded_ports[e.name].map((function(e){return Object(E.jsx)(f.a,{display:"inline",mr:.5,children:e.host?Object(E.jsxs)(ft,{label:"",disabled:e.available<1,onClick:function(t){return se(t,"".concat(e.host,":").concat(e.externalPort))},children:[e.port,":",e.externalPort]}):Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(Jt.a,{label:"".concat(e.port,":").concat(e.externalPort),size:"small"})})},"port_"+e.externalPort)}))})}),(null===(o=e.uris)||void 0===o?void 0:o.length)>0&&Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(f.a,{marginTop:".5rem",children:[Object(E.jsx)(ir,{label:"URI(s):"}),Object(E.jsx)(W.a,{dense:!0,children:e.uris.map((function(e){return Object(E.jsx)(ee.a,{dense:!0,children:Object(E.jsx)(ae.a,{primary:Object(E.jsxs)(f.a,{display:"flex",alignItems:"center",children:[Object(E.jsxs)(ft,{className:$.link,onClick:function(t){return se(t,e)},children:[e," ",Object(E.jsx)(Zc.a,{fontSize:"small"})]}),"\xa0\xa0",Object(E.jsx)(St.a,{edge:"end","aria-label":"uri",size:"small",onClick:function(t){Gt(e),p(Object(E.jsx)(C.a,{title:"Uri copied to clipboard!",iconVariant:"success"}),{variant:"success",autoHideDuration:2e3})},children:Object(E.jsx)(Kt.a,{fontSize:"small"})})]})})},e)}))})]})})]},"".concat(e.name,"_").concat(t))})),x&&_&&_.ips&&Object(E.jsxs)(f.a,{marginTop:".5rem",children:[Object(E.jsx)(ir,{label:"IP(s):"}),Object(E.jsx)(W.a,{dense:!0,children:Q.map((function(e){return _.ips[e]})).map((function(e,t){return null===e||void 0===e?void 0:e.map((function(e,t){return Object(E.jsx)(ee.a,{children:Object(E.jsx)(ae.a,{primary:Object(E.jsxs)(f.a,{display:"flex",alignItems:"center",children:[Object(E.jsxs)(ft,{className:$.link,onClick:function(t){return se(t,e.IP)},children:[e.IP,":",e.ExternalPort," ",Object(E.jsx)(Zc.a,{fontSize:"small"})]}),"\xa0\xa0",Object(E.jsx)(V.a,{classes:{tooltip:$.tooltip},arrow:!0,interactive:!0,title:Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("div",{children:["IP:\xa0",e.IP]}),Object(E.jsxs)("div",{children:["External Port:\xa0",e.ExternalPort]}),Object(E.jsxs)("div",{children:["Port:\xa0",e.Port]}),Object(E.jsxs)("div",{children:["Protocol:\xa0",e.Protocol]})]}),children:Object(E.jsx)(za.a,{className:$.tooltipIcon,fontSize:"small"})}),"\xa0\xa0",Object(E.jsx)(St.a,{edge:"end",size:"small",onClick:function(t){Gt(e.IP),p(Object(E.jsx)(C.a,{title:"Ip copied to clipboard!",iconVariant:"success"}),{variant:"success",autoHideDuration:2e3})},children:Object(E.jsx)(Kt.a,{fontSize:"small"})})]})})},"".concat(e.IP).concat(e.ExternalPort))}))}))})]})]})]})]})})),ci=Object(j.a)((function(e){return{root:{height:"100%","& .MuiListItemText-secondary .MuiSvgIcon-root:not(:first-child)":{marginLeft:"5px"},"& .MuiListItemText-secondary .MuiSvgIcon-root":{fontSize:"20px"}},cardTitle:{display:"flex"},tabsRoot:{minHeight:"36px",borderBottom:"1px solid ".concat(e.palette.grey[300]),backgroundColor:e.palette.grey[200],"& button":{minHeight:"36px"}},selectedTab:{fontWeight:"bold"}}})),ii=Object(j.a)((function(e){return{root:{height:"77px",borderBottom:"1px solid ".concat(e.palette.grey[300])},tooltip:{fontSize:"1rem"},tooltipIcon:{fontSize:"1rem",color:e.palette.text.secondary},warningIcon:{color:e.palette.error.main},grid:{padding:".5rem 0",maxWidth:"800px",display:"flex"},gridItem:{padding:"0 1rem",lineHeight:"1.5rem"},costPanel:{padding:".5rem 1rem",fontSize:".875rem",borderRight:"1px solid ".concat(e.palette.grey[300]),whiteSpace:"nowrap",display:"flex",height:"100%"}}}));function oi(e){var t=e.deployment,n=e.leases,a=ii(),r=n&&n.length>0,c=r?n.reduce((function(e,t){return e+t.price.amount}),0):0,i=Object(ge.g)(c,t.escrowBalance,t.escrowAccount.settled_at,t.createdAt),o=Object(ge.d)(c),s="active"===t.state,l=r&&n.some((function(e){return"active"===e.state}));return Object(E.jsx)("div",{className:a.root,children:Object(E.jsxs)(f.a,{display:"flex",alignItems:"center",children:[Object(E.jsxs)(f.a,{className:a.costPanel,children:[Object(E.jsxs)("div",{children:[Object(E.jsx)("div",{children:"Balance:"}),Object(E.jsx)("div",{children:"Spent:"}),!!c&&Object(E.jsxs)(f.a,{display:"flex",alignItems:"center",children:["Cost:",Object(E.jsx)(dr,{value:Object(ge.f)(c,6)})]})]}),Object(E.jsxs)(f.a,{paddingLeft:"1rem",children:[Object(E.jsx)("div",{children:Object(E.jsx)("strong",{children:Object(E.jsx)(Ge,{value:Object(ge.f)(s&&l?null===i||void 0===i?void 0:i.escrow:t.escrowBalance,6)})})}),Object(E.jsx)("div",{children:Object(E.jsx)("strong",{children:Object(E.jsx)(Ge,{value:Object(ge.f)(s&&l?null===i||void 0===i?void 0:i.amountSpent:t.transferred.amount,6)})})}),!!c&&Object(E.jsx)(f.a,{display:"flex",alignItems:"center",children:Object(E.jsx)(ur,{perBlockValue:Object(ge.f)(c,6),typoVariant:"body2"})})]})]}),Object(E.jsxs)("div",{className:a.grid,children:[Object(E.jsxs)("div",{className:a.gridItem,children:[Object(E.jsx)(ir,{label:"Status:",value:Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{children:t.state}),Object(E.jsx)(zc,{state:t.state,style:{marginLeft:".5rem"}})]})}),Object(E.jsx)(ir,{label:"DSEQ:",value:t.dseq})]}),Object(E.jsxs)("div",{className:a.gridItem,children:[Object(E.jsx)(f.a,{display:"flex",alignItems:"center",children:Object(E.jsx)(ir,{label:"Balance:",value:Object(E.jsxs)(E.Fragment,{children:[Object(ge.f)(s&&l?null===i||void 0===i?void 0:i.escrow:t.escrowBalance,6),"\xa0AKT",Object(E.jsxs)(f.a,{component:"span",display:"inline-flex",marginLeft:".5rem",children:[Object(E.jsx)(V.a,{classes:{tooltip:a.tooltip},arrow:!0,title:"The escrow account balance will be fully returned to your wallet balance when the deployment is closed.",children:Object(E.jsx)(za.a,{className:a.tooltipIcon})}),s&&l&&!!i&&i.escrow<=0&&Object(E.jsx)(V.a,{classes:{tooltip:a.tooltip},arrow:!0,title:"Your deployment is out of funds and can be closed by your provider at any time now. You can add funds to keep active.",children:Object(E.jsx)(_e.a,{color:"error",className:Object(Z.a)(a.tooltipIcon,a.warningIcon)})})]})]})})}),Object(E.jsx)(ir,{label:"Spent:",value:"".concat(Object(ge.f)(s&&l?null===i||void 0===i?void 0:i.amountSpent:t.transferred.amount,6)," AKT")})]}),Object(E.jsxs)("div",{className:a.gridItem,children:[s&&l&&Object(E.jsx)(ir,{label:"Time left:",value:Object(Rc.a)(null===i||void 0===i?void 0:i.timeLeft)&&"~".concat(Object(Fc.a)(null===i||void 0===i?void 0:i.timeLeft))}),Object(E.jsx)(ir,{label:"Cost/Month:",value:"".concat(o," AKT")})]})]})]})})}var si=Object(j.a)((function(e){return{root:{flexBasis:"50%",overflow:"auto"},rawJson:{border:"1px solid #f3f3f3",padding:"1rem","& .string":{color:"green"},"& .number":{color:"darkorange"},"& .boolean":{color:"blue"},"& .null":{color:"magenta"},"& .key":{color:"red"}},title:{fontWeight:"bold",marginLeft:".5rem"}}}));function li(e){var t=e.jsonObj,n=e.title,a=si(),r=JSON.stringify(t,null,2);return Object(E.jsxs)("div",{className:a.root,children:[Object(E.jsx)(f.a,{display:"flex",children:Object(E.jsx)(h.a,{variant:"h6",className:a.title,children:n})}),Object(E.jsx)(qa.a,{bottomElementId:"footer",overflow:"auto",children:Object(E.jsx)("pre",{className:a.rawJson,children:Object(E.jsx)("code",{dangerouslySetInnerHTML:{__html:Object(Dn.d)(r)}})})})]})}var di=n(401),ui=n(524),ji=Object(j.a)((function(e){return{title:{fontWeight:"bold",marginLeft:".5rem"},tooltip:{fontSize:"1rem",padding:".5rem"},tooltipIcon:{fontSize:"1.5rem",marginLeft:"1rem",color:e.palette.text.secondary},warningIcon:{color:e.palette.warning.main}}}));function bi(e){var t=e.deployment,n=e.leases,a=e.closeManifestEditor,o=Object(i.useState)(null),s=Object(d.a)(o,2),l=s[0],u=s[1],j=Object(i.useState)(null),b=Object(d.a)(j,2),p=b[0],m=b[1],O=Object(i.useState)(""),x=Object(d.a)(O,2),v=x[0],y=x[1],w=Object(i.useState)(!1),S=Object(d.a)(w,2),I=S[0],N=S[1],L=Object(i.useState)(!1),D=Object(d.a)(L,2),A=D[0],P=D[1],z=Object(Ie.b)().settings,B=ji(),F=Object($.b)().address,R=Object(M.b)(),_=R.localCert,q=R.isLocalCertMatching,W=Ze().sendTransaction,U=Object(k.b)(),K=U.enqueueSnackbar,G=U.closeSnackbar,H=Object(pt.n)().data;function Y(e,t){return J.apply(this,arguments)}function J(){return(J=Object(c.a)(r.a.mark((function e(n,a){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Br(n,a,t.dseq,_);case 3:return c=e.sent,e.abrupt("return",c);case 7:throw e.prev=7,e.t0=e.catch(0),K(Object(E.jsx)(Ur,{err:e.t0,iconVariant:"error"}),{variant:"error",autoHideDuration:null}),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function X(){return(X=Object(c.a)(r.a.mark((function e(){var c,i,o,s,l,d,u,j,b,p;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=ui.load(v),e.next=4,He.a.NewDeploymentData(z.apiEndpoint,o,parseInt(t.dseq),F);case 4:if(s=e.sent,l=He.a.Manifest(o),s.version===t.version){e.next=13;break}return d=re.a.getUpdateDeploymentMsg(s),e.next=10,W([d]);case 10:c=e.sent,e.next=14;break;case 13:c=!0;case 14:if(!c){e.next=40;break}N(!0),at(s.deploymentId.dseq,v,s.version,F),i=Q(),u=n.map((function(e){return e.provider})).filter((function(e,t,n){return n.indexOf(e)===t})),j=Object(Da.a)(u),e.prev=20,p=r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=b.value,n=H.find((function(e){return e.owner===t})),e.next=4,Y(n,l);case 4:case"end":return e.stop()}}),e)})),j.s();case 23:if((b=j.n()).done){e.next=27;break}return e.delegateYield(p(),"t0",25);case 25:e.next=23;break;case 27:e.next=32;break;case 29:e.prev=29,e.t1=e.catch(20),j.e(e.t1);case 32:return e.prev=32,j.f(),e.finish(32);case 35:return e.next=37,Ne.b.event("deploy","update deployment");case 37:N(!1),G(i),a();case 40:e.next=47;break;case 42:throw e.prev=42,e.t2=e.catch(0),N(!1),G(i),e.t2;case 47:case"end":return e.stop()}}),e,null,[[0,42],[20,29,32,35]])})))).apply(this,arguments)}Object(i.useEffect)((function(){(function(){var e=Object(c.a)(r.a.mark((function e(){var n,a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=tt(t.dseq))||!n.manifest){e.next=10;break}return y(null===n||void 0===n?void 0:n.manifest),a=ui.load(null===n||void 0===n?void 0:n.manifest),e.next=6,Object(di.getManifestVersion)(a);case 6:c=e.sent,m(c),e.next=11;break;case 10:P(!0);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(i.useEffect)((function(){function e(e,t){return n.apply(this,arguments)}function n(){return(n=Object(c.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,v){e.next=3;break}return e.abrupt("return",null);case 3:return a=ui.load(t),e.next=6,He.a.NewDeploymentData(z.apiEndpoint,a,n,F);case 6:u(null),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),"YAMLException"===e.t0.name||"CustomValidationError"===e.t0.name?u(e.t0.message):(u("Error while parsing SDL file"),console.error(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}var a=setTimeout(Object(c.a)(r.a.mark((function n(){return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e(v,t.dseq);case 2:case"end":return n.stop()}}),n)}))),500);return function(){a&&clearTimeout(a)}}),[v,t.dseq,z.apiEndpoint,F]);var Q=function(){return K(Object(E.jsx)(C.a,{title:"Sending Manifest! \ud83d\ude80",subTitle:"Please wait a few seconds...",showLoading:!0}),{variant:"success",autoHideDuration:null})};return Object(E.jsx)(E.Fragment,{children:A?Object(E.jsx)(f.a,{padding:".5rem",children:Object(E.jsxs)(T.a,{severity:"info",children:["It looks like this deployment was created using another deploy tool. We can't show you the configuration file that was used initially, but you can still update it. Simply continue and enter the configuration you want to use.",Object(E.jsx)(f.a,{mt:1,children:Object(E.jsx)(g.a,{variant:"contained",color:"primary",onClick:function(){return P(!1)},size:"small",children:"Continue"})})]})}):Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("div",{children:[Object(E.jsxs)(f.a,{display:"flex",alignItems:"center",justifyContent:"space-between",padding:".2rem .5rem",height:"45px",children:[Object(E.jsxs)(f.a,{display:"flex",alignItems:"center",children:[Object(E.jsx)(h.a,{variant:"h6",className:B.title,children:"Update Manifest"}),Object(E.jsx)(V.a,{classes:{tooltip:B.tooltip},arrow:!0,interactive:!0,title:Object(E.jsxs)(T.a,{severity:"info",children:["Akash Groups are translated into Kubernetes Deployments, this means that only a few fields from the Akash SDL are mutable. For example image, command, args, env and exposed ports can be modified, but compute resources and placement criteria cannot. (",Object(E.jsx)(ft,{onClick:function(e){e.preventDefault(),window.electron.openUrl("https://docs.akash.network/guides/cli/part-11.-update-the-deployment")},children:"View doc"}),")"]}),children:Object(E.jsx)(za.a,{className:B.tooltipIcon})}),!!p&&p!==t.version&&Object(E.jsx)(V.a,{classes:{tooltip:B.tooltip},arrow:!0,interactive:!0,title:Object(E.jsx)(T.a,{severity:"warning",children:"Your local deployment file version doesn't match the one on-chain. If you click update, you will override the deployed version."}),children:Object(E.jsx)(_e.a,{className:Object(Z.a)(B.tooltipIcon,B.warningIcon)})})]}),Object(E.jsx)(f.a,{children:_&&q?Object(E.jsx)(g.a,{variant:"contained",color:"primary",size:"small",disabled:!!l||!v||!H||I||"active"!==t.state,onClick:function(){return function(){return X.apply(this,arguments)}()},children:"Update Deployment"}):Object(E.jsx)(T.a,{severity:"warning",children:"You do not have a valid certificate. You need to create a new one to update an existing deployment."})})]}),l&&Object(E.jsx)(T.a,{severity:"warning",children:l}),Object(E.jsx)(Vr.a,{isLoading:I}),Object(E.jsx)(qa.a,{bottomElementId:"footer",overflow:"hidden",children:Object(E.jsx)(Aa.a,{language:"yaml",theme:"vs-dark",value:v,onChange:function(e){y(e),p&&m(null)},options:Te.h})})]})})})}var pi,mi=n(1975),fi=n(1953),hi=n(573),Oi=n(574),xi=n(444),vi=n(1086),gi=n(1088),yi={PaperProps:{style:{maxHeight:224,width:250}},getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},variant:"menu"},wi=Object(j.a)((function(e){return{formControl:{minWidth:"150px",width:"auto"},indeterminateColor:{color:"#f50057"},selectAllText:{fontWeight:500},selectedAll:{backgroundColor:"rgba(0, 0, 0, 0.08)","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.08)"}},menuRoot:{paddingTop:"17px",paddingBottom:"2px"},selectLabel:{top:"2px",left:"4px",transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left"},checkboxRoot:{padding:"4px"}}})),ki=function(e){var t=e.defaultValue,n=e.options,a=e.onSelectedChange,r=e.label,c=e.disabled,o=wi(),s=Object(i.useState)(t),l=Object(d.a)(s,2),u=l[0],j=l[1],b=n.length>0&&u.length===n.length;return Object(E.jsxs)(O.a,{className:o.formControl,children:[Object(E.jsx)(vi.a,{id:"mutiple-select-label",className:o.selectLabel,children:r}),Object(E.jsxs)(gi.a,{labelId:"mutiple-select-label",multiple:!0,value:u,onChange:function(e){var t=e.target.value,r=t;"all"===t[t.length-1]&&(r=u.length===n.length?[]:n),j(r),a(r)},renderValue:function(e){return e.join(", ")},MenuProps:yi,disabled:c,variant:"outlined",classes:{selectMenu:o.menuRoot},children:[Object(E.jsxs)(dn.a,{value:"all",classes:{root:b?o.selectedAll:""},children:[Object(E.jsx)(hn.a,{children:Object(E.jsx)(_t.a,{classes:{root:o.checkboxRoot,indeterminate:o.indeterminateColor},checked:b,indeterminate:u.length>0&&u.length<n.length,size:"small"})}),Object(E.jsx)(ae.a,{classes:{primary:o.selectAllText},primary:"Select All"})]}),n.map((function(e){return Object(E.jsxs)(dn.a,{value:e,children:[Object(E.jsx)(hn.a,{children:Object(E.jsx)(_t.a,{checked:u.indexOf(e)>-1,size:"small",classes:{root:o.checkboxRoot}})}),Object(E.jsx)(ae.a,{primary:e})]},e)}))]})]})},Ci=n(575),Si=n(576),Ii=Object(j.a)((function(e){return{root:{"& .MuiToggleButton-root":{color:e.palette.primary.main,fontWeight:"bold","&.Mui-selected":{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main}}}}}));function Ni(e){var t=e.leases,n=e.selectedLogsMode,a=e.setSelectedLogsMode,o=Object(i.useState)(!0),s=Object(d.a)(o,2),l=s[0],j=s[1],b=Object(i.useState)(!1),p=Object(d.a)(b,2),m=p[0],h=p[1],O=Object(i.useState)(!1),x=Object(d.a)(O,2),v=x[0],w=x[1],k=Object(i.useRef)([]),C=Object(i.useState)(""),S=Object(d.a)(C,2),I=S[0],N=S[1],L=Object(i.useState)(!1),D=Object(d.a)(L,2),A=D[0],P=D[1],z=Object(i.useState)([]),B=Object(d.a)(z,2),F=B[0],R=B[1],_=Object(i.useState)([]),q=Object(d.a)(_,2),W=q[0],U=q[1],V=Object(i.useState)(!0),K=Object(d.a)(V,2),G=K[0],H=K[1],Y=Object(i.useState)(null),J=Object(d.a)(Y,2),X=J[0],Q=J[1],$=Ii(),Z=Object(pt.n)().data,ee=Object(M.b)(),te=ee.localCert,ne=ee.isLocalCertMatching,ae=Object(i.useRef)(),re=Object(xi.b)().launchAsyncTask,ce=null===Z||void 0===Z?void 0:Z.find((function(e){return e.owner===(null===X||void 0===X?void 0:X.provider)})),ie=Object(pt.k)(null===ce||void 0===ce?void 0:ce.host_uri,X||{},{enabled:!1}),oe=ie.data,se=ie.refetch,le=ie.isFetching,de=Object(u.a)(Object(u.a)({},Te.h),{},{readOnly:!0});Object(i.useEffect)((function(){return function(){var e;null===(e=pi)||void 0===e||e.close()}}),[]),Object(i.useEffect)((function(){ae.current&&ae.current.editor.onDidScrollChange((function(e){e.scrollTop<e._oldScrollTop&&H(!1)}))}),[ae.current]),Object(i.useEffect)((function(){oe&&(R(Object.keys(oe.services)),U(Object.keys(oe.services)),h(!0))}),[oe]);var ue=Object(Oi.a)((function(){var e=k.current.map((function(e){return e.message})).join("\n");N(e),j(!1)}),[],1e3);Object(i.useEffect)((function(){t&&0!==t.length&&Q(t[0])}),[t]),Object(i.useEffect)((function(){X&&ce&&se()}),[X,ce,se]),Object(i.useEffect)((function(){var e;if(m&&ce&&ne&&X&&!v){k.current=[];var t=null;"logs"===n?(t="".concat(ce.host_uri,"/lease/").concat(X.dseq,"/").concat(X.gseq,"/").concat(X.oseq,"/logs?follow=true&tail=100"),W.length<F.length&&(t+="&service="+W.join(","))):t="".concat(ce.host_uri,"/lease/").concat(X.dseq,"/").concat(X.gseq,"/").concat(X.oseq,"/kubeevents?follow=true"),j(!0),null===(e=pi)||void 0===e||e.close(),pi=window.electron.openWebSocket(t,te.certPem,te.keyPem,(function(e){j(!0),0===k.current.length&&H(!0);var t=null;"logs"===n?((t=JSON.parse(e)).service=t.name.split("-")[0],t.message=t.service+": "+t.message):((t=JSON.parse(e)).service=t.object.name.split("-")[0],t.message="".concat(t.service,": [").concat(t.type,"] [").concat(t.reason,"] [").concat(t.object.kind,"] ").concat(t.note)),k.current=k.current.concat([t]),ue(),w(!0)}))}}),[ne,n,X,W,te.certPem,te.keyPem,null===F||void 0===F?void 0:F.length,ue,m,v,ce]),Object(i.useEffect)((function(){if(G&&ae.current){var e=ae.current.editor;e.revealLine(e.getModel().getLineCount(),1),e.setSelection(new hi.Selection(0,0,0,0))}}),[I,G]);var je=function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),e.next=3,re(Object(c.a)(r.a.mark((function e(){var t,n,a,c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(ce.host_uri,"/lease/").concat(X.dseq,"/").concat(X.gseq,"/").concat(X.oseq,"/logs?follow=false&tail=10000000"),e.next=3,window.electron.appPath("temp");case 3:return n=e.sent,e.next=6,window.electron.downloadLogs(n,t,te.certPem,te.keyPem,"".concat(X.dseq,"_").concat(X.gseq,"_").concat(X.oseq));case 6:return a=e.sent,e.next=9,window.electron.appPath("downloads");case 9:return c=e.sent,i="".concat(c,"/").concat(X.dseq,"_").concat(X.gseq,"_").concat(X.oseq),e.next=13,window.electron.saveFileFromTemp(a,i,{dialogTitle:"Save log file"});case 13:case"end":return e.stop()}}),e)}))),(function(){window.electron.cancelSaveLogs(),P(!1)}),"Downloading logs...");case 3:return e.next=5,Ne.b.event("deploy","downloaded logs");case 5:P(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsx)("div",{className:$.root,children:ne?Object(E.jsx)(E.Fragment,{children:X&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(f.a,{display:"flex",alignItems:"center",justifyContent:"space-between",padding:".2rem .5rem",height:"45px",children:[Object(E.jsxs)(f.a,{display:"flex",alignItems:"center",children:[Object(E.jsxs)(mi.a,{color:"primary",value:n,exclusive:!0,onChange:function(e,t){t&&(a(t),n!==t&&(N(""),j(!0),w(!1)))},size:"small",children:[Object(E.jsx)(fi.a,{value:"logs",size:"small",children:"Logs"}),Object(E.jsx)(fi.a,{value:"events",size:"small",children:"Events"})]}),(null===t||void 0===t?void 0:t.length)>1&&Object(E.jsx)(f.a,{marginLeft:".5rem",children:Object(E.jsx)(Ci.a,{leases:t,defaultValue:X.id,onSelectedChange:function(e){Q(t.find((function(t){return t.id===e}))),e!==X.id&&(N(""),R([]),U([]),j(!0),h(!1),w(!1))}})}),(null===F||void 0===F?void 0:F.length)>0&&m&&Object(E.jsx)(f.a,{marginLeft:".5rem",children:Object(E.jsx)(ki,{options:F,onSelectedChange:function(e){U(e),N(""),j(!0),w(!1)},label:"Services",disabled:"logs"!==n,defaultValue:W})}),le&&Object(E.jsx)(f.a,{marginLeft:"1rem",children:Object(E.jsx)(y.a,{size:"1rem"})})]}),Object(E.jsxs)(f.a,{display:"flex",alignItems:"center",children:[te&&Object(E.jsx)(f.a,{marginRight:"1rem",children:Object(E.jsx)(g.a,{onClick:je,variant:"contained",size:"small",color:"primary",disabled:A,children:A?Object(E.jsx)(y.a,{size:"1.5rem",color:"primary"}):"Download logs"})}),Object(E.jsx)(Rt.a,{control:Object(E.jsx)(_t.a,{color:"primary",checked:G,onChange:function(e){return H(e.target.checked)},size:"small"}),label:"Stick to bottom"})]})]}),Object(E.jsx)(Vr.a,{isLoading:l}),Object(E.jsx)(qa.a,{bottomElementId:"footer",overflow:"hidden",children:Object(E.jsx)(Si.a,{monacoRef:ae,value:I,options:de})})]})}):Object(E.jsx)(f.a,{mt:1,children:Object(E.jsx)(T.a,{severity:"info",children:"You need a valid certificate to view deployment logs."})})})}var Ti=Object(j.a)((function(e){return{root:{display:"flex",alignItems:"center",padding:".5rem",marginTop:"-4px",borderBottom:"1px solid ".concat(e.palette.grey[300])},title:{fontWeight:"bold",marginLeft:".5rem",fontSize:"1.5rem"},actionContainer:{marginLeft:".5rem",display:"flex",alignItems:"center","& .MuiButtonBase-root:first-child":{marginLeft:0}},actionButton:{marginLeft:".5rem",whiteSpace:"nowrap"}}}));function Ei(e){var t=e.address,n=e.loadDeploymentDetail,a=e.removeLeases,o=e.setActiveTab,s=e.deployment,l=Ti(),u=Object(i.useState)(null),j=Object(d.a)(u,2),b=j[0],p=j[1],m=Ze().sendTransaction,O=dt(),x=O.changeDeploymentName,v=O.getDeploymentData,y=O.getDeploymentName,w=Object(ut.e)(),k=Object(i.useState)(!1),C=Object(d.a)(k,2),S=C[0],I=C[1],N=v(null===s||void 0===s?void 0:s.dseq),T=y(null===s||void 0===s?void 0:s.dseq);var L=function(){var e=Object(c.a)(r.a.mark((function e(){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(),e.prev=1,c=re.a.getCloseDeploymentMsg(t,s.dseq),e.next=5,m([c]);case 5:if(!e.sent){e.next=12;break}return o("LEASES"),a(),n(),e.next=12,Ne.b.event("deploy","close deployment");case 12:e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(1),e.t0;case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(){return e.apply(this,arguments)}}();function D(){A(),x(s.dseq)}var A=function(){p(null)},P=function(){var e=Ut.a.createDeployment(s.dseq);w.push(e)},z=function(){var e=Object(c.a)(r.a.mark((function e(a,c){var i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!1),e.prev=1,i=re.a.getDepositDeploymentMsg(t,s.dseq,a,c),e.next=5,m([i]);case 5:if(!e.sent){e.next=10;break}return n(),e.next=10,Ne.b.event("deploy","deployment deposit");case 10:e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(1),e.t0;case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("div",{className:l.root,children:[Object(E.jsx)(St.a,{"aria-label":"back",onClick:function(){w.goBack()},size:"small",children:Object(E.jsx)(lc.a,{})}),Object(E.jsxs)(h.a,{variant:"h3",className:Object(Z.a)(l.title,"text-truncate"),children:["Deployment detail",T&&Object(E.jsxs)(f.a,{component:"span",fontWeight:"normal",children:[" ","- ",T]})]}),Object(E.jsx)(f.a,{marginLeft:".5rem",children:Object(E.jsx)(St.a,{"aria-label":"back",onClick:function(){return n()},size:"small",children:Object(E.jsx)(Ct.a,{})})}),"active"===(null===s||void 0===s?void 0:s.state)&&Object(E.jsxs)(f.a,{className:l.actionContainer,children:[Object(E.jsx)(St.a,{"aria-label":"settings","aria-haspopup":"true",onClick:function(e){p(e.currentTarget)},className:l.actionButton,size:"small",children:Object(E.jsx)(Et.a,{fontSize:"default"})}),Object(E.jsx)(g.a,{variant:"contained",color:"primary",className:l.actionButton,onClick:function(){return I(!0)},size:"small",children:"Add funds"}),Object(E.jsxs)(gt.a,{id:"long-menu",anchorEl:b,keepMounted:!0,getContentAnchorEl:null,open:Boolean(b),onClose:A,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[Object(E.jsx)(jn,{onClick:function(){return D()},icon:Object(E.jsx)(Ft.a,{fontSize:"small"}),text:"Edit Name"}),(null===N||void 0===N?void 0:N.manifest)&&Object(E.jsx)(jn,{onClick:function(){return P()},icon:Object(E.jsx)(je.a,{fontSize:"small"}),text:"Redeploy"}),Object(E.jsx)(jn,{onClick:function(){return L()},icon:Object(E.jsx)(Wc.a,{fontSize:"small"}),text:"Close"})]})]}),"closed"===(null===s||void 0===s?void 0:s.state)&&Object(E.jsxs)(f.a,{className:l.actionContainer,children:[Object(E.jsxs)(g.a,{onClick:function(){return D()},variant:"contained",color:"default",className:l.actionButton,size:"small",children:[Object(E.jsx)(Ft.a,{fontSize:"small"}),"\xa0Edit Name"]}),(null===N||void 0===N?void 0:N.manifest)&&Object(E.jsxs)(g.a,{onClick:function(){return P()},variant:"contained",color:"default",className:l.actionButton,size:"small",children:[Object(E.jsx)(je.a,{fontSize:"small"}),"\xa0Redeploy"]})]})]}),S&&Object(E.jsx)(_a,{handleCancel:function(){return I(!1)},onDeploymentDeposit:z})]})}var Li=n(1066);function Di(e){var t=e.deployments,n=Object(i.useState)(null),a=Object(d.a)(n,2),o=a[0],s=a[1],l=nc(),u=Object(ut.g)().dseq,j=Object(i.useState)("LEASES"),b=Object(d.a)(j,2),p=b[0],m=b[1],h=Object(i.useState)("logs"),O=Object(d.a)(h,2),x=O[0],v=O[1],g=ci(),w=Object(ut.e)(),k=Object($.b)().address,C=Object(pt.h)(k,u,{refetchOnMount:!1,enabled:!1}),S=C.data,I=C.isFetching,N=C.refetch,L=Object(pt.i)(k,o,{enabled:!!o}),D=L.data,A=L.isLoading,P=L.refetch,z=L.remove,B=D&&D.length>0,F=Object(i.useState)([]),q=Object(d.a)(F,2),W=q[0],U=q[1],V=Object(M.b)(),K=V.isLocalCertMatching,G=V.localCert,H=Object(i.useState)(null),Y=Object(d.a)(H,2),J=Y[0],X=Y[1],Q=Tr(),Z=Q.providers,ee=Q.getProviders,te=Q.isLoadingProviders;Object(i.useEffect)((function(){if(D&&D.some((function(e){return"active"===e.state}))){var e=l.get("tab"),t=l.get("logsMode");e&&m(e),t&&v(t)}}),[l,D]);var ne=Object(i.useCallback)(Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:P(),"active"!==o.state||B||A||w.push("/createDeployment/acceptBids/"+u),B&&D.length!==W&&U((function(e){return Array(D.length).fill().map((function(t,n){return e[n]||Object(i.createRef)()}))}));case 3:case"end":return e.stop()}}),e)}))),[o,B,A,D,u]);function ae(){I||(N(),P(),W.forEach((function(e){var t;return null===(t=e.current)||void 0===t?void 0:t.getLeaseStatus()})))}Object(i.useEffect)((function(){if(o){ne(),ee();var e=tt(u);X(null===e||void 0===e?void 0:e.manifest)}}),[o,ne,u,G]),Object(i.useEffect)((function(){S&&s(S)}),[S]),Object(i.useEffect)((function(){var e=null===t||void 0===t?void 0:t.find((function(e){return e.dseq===u}));e?s(e):ae()}),[]);var re=function(){var e=Object(c.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(n),e.next=3,Ne.b.event("deploy","navigate tab ".concat(n));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(E.jsxs)("div",{className:g.root,children:[Object(E.jsx)(bt.a,{title:"Deployment Detail"}),Object(E.jsx)(Vr.a,{isLoading:A||I||te}),Object(E.jsx)(Ei,{address:k,loadDeploymentDetail:ae,removeLeases:z,setActiveTab:m,deployment:o}),o&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(oi,{deployment:o,leases:D}),Object(E.jsxs)(R.a,{value:p,onChange:re,indicatorColor:"primary",textColor:"primary",classes:{root:g.tabsRoot},children:[Object(E.jsx)(_.a,{value:"LEASES",label:"Leases",classes:{selected:g.selectedTab}}),"active"===(null===o||void 0===o?void 0:o.state)&&(null===D||void 0===D?void 0:D.some((function(e){return"active"===e.state})))&&Object(E.jsx)(_.a,{value:"LOGS",label:"Logs",classes:{selected:g.selectedTab}}),"active"===(null===o||void 0===o?void 0:o.state)&&(null===D||void 0===D?void 0:D.some((function(e){return"active"===e.state})))&&Object(E.jsx)(_.a,{value:"SHELL",label:"Shell",classes:{selected:g.selectedTab}}),Object(E.jsx)(_.a,{value:"EDIT",label:"Update",classes:{selected:g.selectedTab}}),Object(E.jsx)(_.a,{value:"RAW_DATA",label:"Raw Data",classes:{selected:g.selectedTab}})]}),"EDIT"===p&&o&&D&&Object(E.jsx)(bi,{deployment:o,leases:D,closeManifestEditor:function(){m("LOGS"),v("events"),ae()}}),"LOGS"===p&&Object(E.jsx)(Ni,{leases:D,selectedLogsMode:x,setSelectedLogsMode:v}),"SHELL"===p&&Object(E.jsx)(Li.a,{leases:D}),"RAW_DATA"===p&&o&&Object(E.jsxs)(f.a,{display:"flex",children:[Object(E.jsx)(li,{jsonObj:o,title:"Deployment JSON"}),Object(E.jsx)(li,{jsonObj:D,title:"Leases JSON"})]}),"LEASES"===p&&Object(E.jsxs)(f.a,{padding:"1rem",children:[D&&(!G||!K)&&Object(E.jsx)(f.a,{marginBottom:"1rem",children:Object(E.jsx)(T.a,{severity:"warning",children:"You do not have a valid local certificate. You need to create a new one to view lease status and details."})}),D&&D.map((function(e,t){return Object(E.jsx)(ri,{lease:e,setActiveTab:m,ref:W[t],deploymentManifest:J,dseq:u,providers:Z,loadDeploymentDetail:ae},e.id)})),!B&&!A&&!I&&Object(E.jsx)(E.Fragment,{children:"This deployment doesn't have any leases"}),(A||I)&&!B&&Object(E.jsx)(f.a,{textAlign:"center",padding:"2rem",children:Object(E.jsx)(y.a,{})})]})]})]})}var Ai=n(799),Pi=n.n(Ai),zi=Object(j.a)((function(e){return{gallery:{display:"flex"},title:{fontSize:"1.5rem",fontWeight:"bold"},categoryList:{flexBasis:"280px"},templateList:{flexBasis:0,flexGrow:999,"& .MuiAvatar-img":{objectFit:"contain"}},logoPlaceholder:{width:"2.7rem",height:"2.7rem",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e.palette.grey[300],borderRadius:"50%"}}})),Mi=null;function Bi(e){var t=Object(i.useState)(null),n=Object(d.a)(t,2),a=n[0],r=n[1],c=Object(i.useState)(""),o=Object(d.a)(c,2),s=o[0],l=o[1],u=Object(i.useState)(null),j=Object(d.a)(u,2),b=j[0],p=j[1],m=cc(),O=m.isLoading,v=m.categories,g=m.templates,y=nc(),w=Object(ut.e)(),k=a&&v.find((function(e){return e.title===a})),C=zi(),S=null===b||void 0===b?void 0:b.split().map((function(e){return e.toLowerCase()})),I=S&&g.filter((function(e){return S.some((function(t){return e.name.toLowerCase().includes(t)||e.readme.toLowerCase().includes(t)}))}));Object(i.useEffect)((function(){var e=y.get("category"),t=y.get("search");return e&&r(e),t&&(l(t),p(t)),function(){clearTimeout(Mi)}}),[]),Object(i.useEffect)((function(){var e=y.get("category");(null===v||void 0===v?void 0:v.length)>0&&!e&&r(v[0].title)}),[v]);return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(bt.a,{title:"Template Gallery"}),Object(E.jsx)(Vr.a,{isLoading:O}),Object(E.jsxs)(f.a,{padding:"1rem",children:[Object(E.jsx)(h.a,{variant:"h3",className:C.title,children:"Template Gallery"}),Object(E.jsxs)(f.a,{paddingTop:2,children:["These templates come from the"," ",Object(E.jsx)("a",{href:"https://github.com/ovrclk/awesome-akash",target:"_blank",rel:"noreferrer",children:"Awesome Akash"})," ","repository."]}),Object(E.jsx)(x.a,{fullWidth:!0,label:"Search",disabled:O,value:s,onChange:function(e){var t=e.target.value;l(t),t?(clearTimeout(Mi),Mi=setTimeout((function(){p(t),w.replace(Ut.a.templates(a,t))}),300)):(p(t),w.replace(Ut.a.templates(a,t)))},InputProps:{endAdornment:s&&Object(E.jsx)(St.a,{onClick:function(){l(""),p("")},size:"small",children:Object(E.jsx)(Wr.a,{fontSize:"small"})})}})]}),b||s?Object(E.jsx)(qa.a,{bottomElementId:"footer",overflow:"auto",className:C.templateList,children:Object(E.jsx)(W.a,{className:C.templateList,children:null===I||void 0===I?void 0:I.map((function(e){return Object(E.jsxs)(ee.a,{button:!0,component:ua.a,to:Ut.a.templateDetails(e.id),children:[Object(E.jsx)(te.a,{children:e.logoUrl?Object(E.jsx)(ne.a,{src:e.logoUrl,variant:"square"}):Object(E.jsx)("div",{className:C.logoPlaceholder,children:Object(E.jsx)(Pi.a,{})})}),Object(E.jsx)(ae.a,{primary:Object(E.jsxs)(E.Fragment,{children:[e.name," - ",Object(E.jsx)("strong",{children:e.category})]}),secondary:e.summary})]},e.id)}))})}):Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(f.a,{className:C.gallery,children:[Object(E.jsx)(qa.a,{bottomElementId:"footer",overflow:"auto",className:C.categoryList,children:Object(E.jsx)(W.a,{children:v.sort((function(e,t){return e.title<t.title?-1:1})).map((function(e){return Object(E.jsx)(ee.a,{button:!0,onClick:function(){return t=e.title,r(t),void w.replace(Ut.a.templates(t,s));var t},selected:e.title===a,children:Object(E.jsx)(ae.a,{primary:"".concat(e.title," (").concat(e.templates.length,")")})},e.title)}))})}),k&&k.templates&&Object(E.jsx)(qa.a,{bottomElementId:"footer",overflow:"auto",className:C.templateList,children:Object(E.jsx)(W.a,{children:k.templates.map((function(e){return Object(E.jsxs)(ee.a,{button:!0,component:ua.a,to:Ut.a.templateDetails(e.id),children:[Object(E.jsx)(te.a,{children:e.logoUrl?Object(E.jsx)(ne.a,{src:e.logoUrl,variant:"square"}):Object(E.jsx)("div",{className:C.logoPlaceholder,children:Object(E.jsx)(Pi.a,{})})}),Object(E.jsx)(ae.a,{primary:e.name,secondary:e.summary})]},e.id)}))})})]})})]})}var Fi=n(1079),Ri=n(1080),_i="#F5F5F5",qi=Object(Ri.a)({palette:{background:{default:_i}},overrides:{MuiCssBaseline:{"@global":{html:{WebkitFontSmoothing:"auto"}}},MuiInputBase:{input:{padding:"10px 14px"}},MuiOutlinedInput:{input:{padding:"10px 14px"}},MuiInputLabel:{outlined:{transform:"translate(14px, 12px) scale(1)"}},MuiTooltip:{arrow:{color:"rgba(0,0,0,.85)"},tooltip:{backgroundColor:"rgba(0,0,0,.85)"}}}}),Wi=Object(j.a)((function(e){return{networkCapacityContainer:{padding:"1rem"},networkCapacityBar:{height:"10px",width:"100%",border:"1px solid ".concat(e.palette.grey[300]),borderRadius:"10px",overflow:"hidden"},networkCapacityIndicator:{backgroundColor:e.palette.primary.main,height:"100%"},networkCapacityDesc:{paddingTop:"2px",fontSize:".6rem",lineHeight:".6rem",display:"flex",alignItems:"center",justifyContent:"space-between"}}})),Ui=function(e){var t=e.activeCPU,n=e.pendingCPU,a=e.totalCPU,r=e.activeMemory,c=e.pendingMemory,i=e.totalMemory,o=e.activeStorage,s=e.pendingStorage,l=e.totalStorage,d=Wi();return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(f.a,{marginBottom:".5rem",children:[Object(E.jsx)("div",{className:d.networkCapacityBar,children:Object(E.jsx)("div",{className:d.networkCapacityIndicator,style:{width:"".concat(Math.round((t+n)/a*100),"%")}})}),Object(E.jsxs)("div",{className:d.networkCapacityDesc,children:[Object(E.jsx)("div",{children:Object(E.jsx)("strong",{children:"CPU"})}),Object(E.jsxs)("div",{children:[Math.round(t+n),"\xa0CPU\xa0/\xa0",Math.round(a),"\xa0CPU"]})]})]}),Object(E.jsxs)(f.a,{marginBottom:".5rem",children:[Object(E.jsx)("div",{className:d.networkCapacityBar,children:Object(E.jsx)("div",{className:d.networkCapacityIndicator,style:{width:"".concat(Math.round((r+c)/i*100),"%")}})}),Object(E.jsxs)("div",{className:d.networkCapacityDesc,children:[Object(E.jsx)("div",{children:Object(E.jsx)("strong",{children:"RAM"})}),Object(E.jsxs)("div",{children:[tr(r+c),"\xa0/\xa0",tr(i)]})]})]}),Object(E.jsxs)(f.a,{marginBottom:".5rem",children:[Object(E.jsx)("div",{className:d.networkCapacityBar,children:Object(E.jsx)("div",{className:d.networkCapacityIndicator,style:{width:"".concat(Math.round((o+s)/l*100),"%")}})}),Object(E.jsxs)("div",{className:d.networkCapacityDesc,children:[Object(E.jsx)("div",{children:Object(E.jsx)("strong",{children:"STORAGE"})}),Object(E.jsxs)("div",{children:[tr(o+s),"\xa0/\xa0",tr(l)]})]})]})]})},Vi=Object(j.a)((function(e){return{legendRow:{display:"flex",alignItems:"center",fontSize:".75rem",lineHeight:"1.25rem",transition:"opacity .2s ease"},legendColor:{width:"1rem",height:"1rem",borderRadius:"1rem"},legendLabel:{marginLeft:"1rem",fontWeight:"bold",width:"90px"},legendValue:{marginLeft:"1rem",width:"90px"},title:{fontSize:"1rem",fontWeight:"bold",marginBottom:".5rem"}}})),Ki=function(e){var t=e.balances,n=e.isLoadingBalances,a=e.escrowSum,r=e.networkCapacity,c=e.isLoadingNetworkCapacity,o=Vi(),s=Object(i.useState)(null),l=Object(d.a)(s,2),u=l[0],j=l[1],b=t?Ji(t,a):[],p=b.filter((function(e){return e.value})),m=t?t.balance+t.rewards+t.delegations+t.unbondings+a:0,O=t&&0!==m;return Object(E.jsxs)(f.a,{display:"flex",alignItems:"center",marginBottom:"1rem",padding:"0 1rem",justifyContent:"space-between",children:[n&&!t&&Object(E.jsx)(f.a,{flexBasis:"220px",height:"200px",display:"flex",alignItems:"center",justifyContent:"center",children:Object(E.jsx)(y.a,{size:"3rem"})}),Object(E.jsxs)(f.a,{display:"flex",alignItems:"center",children:[O&&Object(E.jsx)(f.a,{height:"200px",width:"220px",display:"flex",alignItems:"center",justifyContent:"center",children:Object(E.jsx)(Fi.a,{data:p,margin:{top:15,right:15,bottom:15,left:0},innerRadius:.4,padAngle:2,cornerRadius:4,activeOuterRadiusOffset:8,colors:function(e){return Hi(e.id,u)},borderWidth:0,borderColor:{from:"color",modifiers:[["darker",.2]]},valueFormat:function(e){return"".concat(Object(ge.f)(e,2)," AKT")},enableArcLinkLabels:!1,arcLabelsSkipAngle:10,theme:Gi})}),t&&Object(E.jsxs)(f.a,{padding:O?0:"1rem",onMouseLeave:function(){return j(null)},children:[b.map((function(e,t){return Object(E.jsxs)("div",{className:o.legendRow,onMouseEnter:function(){return j(e.id)},style:{opacity:u&&e.id!==u?.3:1},children:[Object(E.jsx)("div",{className:o.legendColor,style:{backgroundColor:e.color}}),Object(E.jsxs)("div",{className:o.legendLabel,children:[e.label,":"]}),Object(E.jsxs)("div",{className:o.legendValue,children:[Object(ge.f)(e.value,2)," AKT"]}),!!e.value&&Object(E.jsx)("div",{children:Object(E.jsx)(Ge,{value:Object(ge.f)(e.value,6)})})]},t)})),Object(E.jsxs)("div",{className:o.legendRow,children:[Object(E.jsx)("div",{className:o.legendColor}),Object(E.jsx)("div",{className:o.legendLabel,children:"Total:"}),Object(E.jsx)("div",{className:o.legendValue,children:Object(E.jsxs)("strong",{children:[Object(ge.f)(m,2)," AKT"]})}),!!m&&Object(E.jsx)("div",{children:Object(E.jsx)("strong",{children:Object(E.jsx)(Ge,{value:Object(ge.f)(m,6)})})})]})]})]}),c&&!r&&Object(E.jsx)(f.a,{flexBasis:"40%",height:"200px",display:"flex",alignItems:"center",justifyContent:"center",children:Object(E.jsx)(y.a,{size:"3rem"})}),r&&Object(E.jsxs)(f.a,{padding:"1rem 2rem",flexBasis:"40%",justifySelf:"flex-end",children:[Object(E.jsx)(h.a,{variant:"h1",className:o.title,children:"Network Capacity"}),Object(E.jsx)(Ui,{activeCPU:r.activeCPU,pendingCPU:r.pendingCPU,totalCPU:r.totalCPU,activeMemory:r.activeMemory,pendingMemory:r.pendingMemory,totalMemory:r.totalMemory,activeStorage:r.activeStorage,pendingStorage:r.pendingStorage,totalStorage:r.totalStorage})]})]})},Gi={background:_i,textColor:"#fff",fontSize:12},Hi=function(e,t){return t&&e!==t?"#e0e0e0":Yi[e]},Yi={balance:"#1B224B",escrow:"#263069",rewards:"#313E87",delegations:"#3B4BA5",unbondings:"#6977C9"},Ji=function(e,t){return[{id:"balance",label:"Balance",value:e.balance,color:Yi.balance},{id:"escrow",label:"Escrow",value:t,color:Yi.escrow},{id:"rewards",label:"Rewards",value:e.rewards,color:Yi.rewards},{id:"delegations",label:"Staked",value:e.delegations,color:Yi.delegations},{id:"unbondings",label:"Unbondings",value:e.unbondings,color:Yi.unbondings}]},Xi=Object(j.a)((function(e){return{titleContainer:{padding:"0 1rem 1rem",display:"flex",alignItems:"center"},title:{fontSize:"1.5rem",fontWeight:"bold"},noActiveDeployments:{marginBottom:"1rem"},createBtn:{marginLeft:"auto"}}}));function Qi(e){var t=e.deployments,n=e.isLoadingDeployments,a=e.refreshDeployments,o=Xi(),s=dt().getDeploymentName,l=t?Object(Ka.a)(t).sort((function(e,t){return e.createdAt<t.createdAt?1:-1})).filter((function(e){return"active"===e.state})).map((function(e){var t=s(e.dseq);return Object(u.a)(Object(u.a)({},e),{},{name:t})})):[],j=Object(i.useState)([]),b=Object(d.a)(j,2),p=b[0],m=b[1],O=Object($.b)().address,x=Ze().sendTransaction,v=Object(Ie.b)().settings.apiEndpoint,w=Object(pt.d)(O,{enabled:!1}),k=w.data,C=w.isFetching,S=w.refetch,I=Object(pt.l)({enabled:!1}),N=I.data,T=I.isFetching,L=I.refetch,D=l.map((function(e){return e.escrowBalance})).reduce((function(e,t){return e+t}),0),A=Object(pt.n)().data;Object(i.useEffect)((function(){S(),L()}),[O]),Object(i.useEffect)((function(){a()}),[a,v,O]);var P=function(e,t){m((function(n){return e?n.concat([t]):n.filter((function(e){return e!==t}))}))},z=function(){var e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=p.map((function(e){return re.a.getCloseDeploymentMsg(O,e)})),e.next=4,x(t);case 4:e.sent&&(S(),a(),m([])),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(bt.a,{title:"Dashboard"}),Object(E.jsx)(Vr.a,{isLoading:n||C||T}),Object(E.jsxs)("div",{children:[Object(E.jsx)(Ki,{isLoadingBalances:C,balances:k,escrowSum:D,networkCapacity:N,isLoadingNetworkCapacity:T}),Object(E.jsxs)(f.a,{className:o.titleContainer,children:[Object(E.jsx)(h.a,{variant:"h3",className:o.title,children:"Active Deployments"}),Object(E.jsx)(f.a,{marginLeft:"1rem",children:Object(E.jsx)(St.a,{onClick:a,size:"small",children:Object(E.jsx)(Ct.a,{})})}),Object(E.jsx)(f.a,{marginLeft:"1rem",children:Object(E.jsx)(St.a,{disabled:0===p.length,onClick:z,size:"small",children:Object(E.jsx)(Wc.a,{})})}),Object(E.jsx)(f.a,{marginLeft:"1rem",children:p.length>0&&Object(E.jsx)(ft,{onClick:function(){m([])},size:"small",children:"Clear"})}),l.length>0&&Object(E.jsxs)(g.a,{className:o.createBtn,variant:"contained",size:"medium",color:"primary",component:ua.a,to:"/createDeployment",children:[Object(E.jsx)(Sc.a,{}),"\xa0Create Deployment"]})]}),Object(E.jsx)("div",{children:l.length>0?l.map((function(e){return Object(E.jsx)(Vc,{deployment:e,isSelectable:!0,onSelectDeployment:P,checked:p.some((function(t){return t===e.dseq})),providers:A,refreshDeployments:a},e.dseq)})):Object(E.jsxs)(f.a,{textAlign:"center",padding:"4rem",children:[n?Object(E.jsx)(f.a,{paddingBottom:"1rem",children:Object(E.jsx)(y.a,{size:"2rem"})}):Object(E.jsx)(h.a,{variant:"h5",className:o.noActiveDeployments,children:"No active deployments"}),Object(E.jsxs)(g.a,{variant:"contained",size:"medium",color:"primary",component:ua.a,to:Ut.a.createDeployment(),children:[Object(E.jsx)(Sc.a,{}),"\xa0Create Deployment"]})]})})]})]})}var $i=n(1954),Zi=n(1924),eo=n(1955),to=n(1071),no=n.n(to),ao=n(1971),ro=function(e){var t=e.latency,n=e.status,a=e.variant,r=void 0===a?"regular":a;return Object(E.jsxs)(f.a,{display:"flex",alignItems:"center",children:[Object(E.jsx)("div",{children:Object(E.jsxs)(h.a,{variant:"caption",children:[t,"ms",t>=1e4&&"+"]})}),Object(E.jsx)("div",{children:Object(E.jsx)(zc,{state:"active"===n?"active":"closed",size:"regular"===r?"medium":"small"})})]})},co=Object(j.a)((function(e){return{root:{padding:"1rem"},title:{fontSize:"1.5rem",fontWeight:"bold"},form:{padding:"1rem 0"},fieldRow:{display:"flex",alignItems:"center",marginBottom:".5rem"},formLabel:{fontWeight:"bold",flexBasis:"20%",minWidth:150,paddingRight:"1rem"},formControl:{width:"100%"},formValue:{flexGrow:1},submitButton:{marginLeft:"1rem"},switch:{width:"fit-content"},nodeInput:{paddingRight:"1rem !important"},inputClickable:{cursor:"pointer"}}}));function io(e){var t=Object(i.useState)(!1),n=Object(d.a)(t,2),a=n[0],o=n[1],s=Object(i.useState)(!1),l=Object(d.a)(s,2),j=l[0],b=l[1],p=co(),m=Object(Ie.b)(),v=m.settings,w=m.setSettings,k=m.refreshNodeStatuses,C=m.isRefreshingNodeStatus,I=Object(S.b)(),N=I.handleSubmit,T=I.control,L=I.reset,D=I.formState.errors,A=Object(i.useRef)(),P=v.selectedNode,z=v.nodes,M=function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsxs)(f.a,{className:p.root,children:[Object(E.jsx)(bt.a,{title:"Settings"}),Object(E.jsx)(f.a,{className:p.titleContainer,children:Object(E.jsx)(h.a,{variant:"h3",className:p.title,children:"Settings"})}),Object(E.jsx)(f.a,{marginTop:"1rem",children:Object(E.jsxs)($i.a,{children:[!v.isCustomNode&&Object(E.jsxs)(f.a,{display:"flex",alignItems:"center",children:[Object(E.jsx)(O.a,{children:Object(E.jsx)(ao.a,{disableClearable:!0,open:j,options:z.map((function(e){return e.id})),style:{width:300},value:v.selectedNode.id,defaultValue:v.selectedNode.id,getOptionSelected:function(e,t){return e===t},onChange:function(e,t){var n=z.find((function(e){return e.id===t})),a=n.api,r=n.rpc;w(Object(u.a)(Object(u.a)({},v),{},{apiEndpoint:a,rpcEndpoint:r,selectedNode:n}))},renderInput:function(e){return Object(E.jsx)(Zi.a,{onClickAway:function(){return b(!1)},children:Object(E.jsx)(x.a,Object(u.a)(Object(u.a)({},e),{},{label:"Node",variant:"outlined",onClick:function(){return b((function(e){return!e}))},InputProps:Object(u.a)(Object(u.a)({},e.InputProps),{},{classes:{root:Object(Z.a)(p.nodeInput,p.inputClickable),input:p.inputClickable},endAdornment:Object(E.jsxs)(U.a,{position:"end",children:[Object(E.jsx)(f.a,{marginRight:".5rem",display:"inline-flex",children:Object(E.jsx)(no.a,{fontSize:"small"})}),Object(E.jsx)(ro,{latency:Math.floor(P.latency),status:P.status})]})})}))})},renderOption:function(e){var t=z.find((function(t){return t.id===e}));return Object(E.jsxs)(f.a,{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",children:[Object(E.jsx)("div",{children:e}),Object(E.jsx)(ro,{latency:Math.floor(t.latency),status:t.status})]})},disabled:v.isCustomNode})}),Object(E.jsx)(f.a,{marginLeft:"1rem",children:Object(E.jsx)(St.a,{onClick:function(){return M()},"aria-label":"refresh",disabled:C,children:C?Object(E.jsx)(y.a,{size:"1.5rem"}):Object(E.jsx)(Ct.a,{})})})]}),Object(E.jsx)(Rt.a,{className:p.switch,control:Object(E.jsx)(eo.a,{checked:!!v.isCustomNode,onChange:function(e){var t=e.target.checked,n=t?v.apiEndpoint:P.api,a=t?v.rpcEndpoint:P.rpc;L(),w(Object(u.a)(Object(u.a)({},v),{},{isCustomNode:t,apiEndpoint:n,rpcEndpoint:a}),(function(e){k(e)}))},color:"primary"}),label:"Custom node"})]})}),v.isCustomNode&&Object(E.jsxs)("form",{className:p.form,onSubmit:N((function(e){var t=new URL(e.apiEndpoint);o(!1),w(Object(u.a)(Object(u.a)(Object(u.a)({},v),e),{},{customNode:Object(u.a)(Object(u.a)({},v.customNode),{},{id:t.hostname})}),(function(e){k(e)}))})),ref:A,children:[Object(E.jsxs)("div",{className:p.fieldRow,children:[Object(E.jsx)(rr.a,{className:p.formLabel,children:"Api Endpoint:"}),a?Object(E.jsx)(O.a,{error:!D.apiEndpoint,className:p.formControl,children:Object(E.jsx)(S.a,{control:T,name:"apiEndpoint",rules:{required:!0,validate:function(e){return Object(Dn.a)(e)}},defaultValue:v.apiEndpoint,render:function(e){var t,n=e.fieldState,a=e.field,r="validate"===(null===(t=n.error)||void 0===t?void 0:t.type)?"Url is invalid.":"Api endpoint is required.";return Object(E.jsx)(x.a,Object(u.a)(Object(u.a)({},a),{},{type:"text",variant:"outlined",error:!!n.invalid,helperText:n.invalid&&r,className:p.formValue}))}})}):Object(E.jsx)(h.a,{variant:"body1",className:p.formValue,children:v.apiEndpoint})]}),Object(E.jsxs)("div",{className:p.fieldRow,children:[Object(E.jsx)(rr.a,{className:p.formLabel,children:"Rpc Endpoint:"}),a?Object(E.jsx)(O.a,{error:!D.apiEndpoint,className:p.formControl,children:Object(E.jsx)(S.a,{control:T,name:"rpcEndpoint",rules:{required:!0,validate:function(e){return Object(Dn.a)(e)}},defaultValue:v.rpcEndpoint,render:function(e){var t,n=e.fieldState,a=e.field,r="validate"===(null===(t=n.error)||void 0===t?void 0:t.type)?"Url is invalid.":"Rpc endpoint is required.";return Object(E.jsx)(x.a,Object(u.a)(Object(u.a)({},a),{},{type:"text",variant:"outlined",error:!!n.invalid,helperText:n.invalid&&r,className:p.formValue}))}})}):Object(E.jsx)(h.a,{variant:"body1",className:p.formValue,children:v.rpcEndpoint})]}),Object(E.jsxs)(f.a,{paddingTop:"1rem",children:[!a&&Object(E.jsx)(g.a,{variant:"contained",color:"primary",onClick:function(){return o(!a)},children:"Edit"}),a&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(g.a,{variant:"contained",onClick:function(){L(null,{keepDefaultValues:!0}),o(!1)},children:"Cancel"}),Object(E.jsx)(g.a,{variant:"contained",color:"primary",type:"submit",className:p.submitButton,onClick:function(){return A.current.dispatchEvent(new Event("submit"))},children:"Submit"})]})]})]})]})}var oo=n(1961),so=n(805),lo=Object(j.a)((function(e){return{root:{"& img":{maxWidth:"100%"}},title:{fontSize:"2rem",fontWeight:"bold",marginLeft:".5rem"},titleContainer:{display:"flex",padding:"0.5rem 1rem"},deployBtn:{marginLeft:"2rem"}}}));function uo(){var e=Object(i.useState)("README"),t=Object(d.a)(e,2),n=t[0],a=t[1],r=Object(ut.g)().templateId,c=cc().getTemplateById,o=Object(ut.e)(),s=lo(),l=c(r);return Object(E.jsxs)("div",{className:s.root,children:[Object(E.jsx)(bt.a,{title:"Deployment Detail"}),Object(E.jsxs)("div",{className:s.titleContainer,children:[Object(E.jsxs)(f.a,{display:"flex",alignItems:"center",children:[Object(E.jsx)(St.a,{"aria-label":"back",onClick:function(){o.goBack()},children:Object(E.jsx)(lc.a,{})}),Object(E.jsx)(h.a,{variant:"h3",className:s.title,children:l.name}),Object(E.jsx)(f.a,{marginLeft:"1rem",children:Object(E.jsx)(St.a,{"aria-label":"View on github",title:"View on Github",onClick:function(){window.electron.openUrl(l.githubUrl)},size:"small",children:Object(E.jsx)(Oa.a,{fontSize:"small"})})})]}),Object(E.jsxs)(g.a,{className:s.deployBtn,variant:"contained",size:"medium",color:"primary",component:ua.a,to:Ut.a.createDeploymentFromTemplate(l.id),children:[Object(E.jsx)(je.a,{}),"\xa0Deploy"]})]}),Object(E.jsxs)(R.a,{value:n,onChange:function(e,t){return a(t)},indicatorColor:"primary",textColor:"primary",children:[Object(E.jsx)(_.a,{value:"README",label:"README"}),Object(E.jsx)(_.a,{value:"SDL",label:"SDL"}),l.guide&&Object(E.jsx)(_.a,{value:"GUIDE",label:"GUIDE"})]}),"README"===n&&Object(E.jsx)(qa.a,{bottomElementId:"footer",overflow:"auto",padding:"1rem",children:Object(E.jsx)(oo.a,{linkTarget:"_blank",remarkPlugins:[so.a],className:"markdownContainer",children:l.readme})}),"SDL"===n&&Object(E.jsx)(qa.a,{bottomElementId:"footer",overflow:"hidden",children:Object(E.jsx)(Aa.a,{height:"100%",language:"yaml",theme:"vs-dark",value:l.deploy,options:Object(u.a)(Object(u.a)({},Te.h),{},{readOnly:!0})})}),"GUIDE"===n&&Object(E.jsx)(qa.a,{bottomElementId:"footer",overflow:"auto",padding:"1rem",children:Object(E.jsx)(oo.a,{linkTarget:"_blank",remarkPlugins:[so.a],className:"markdownContainer",children:l.guide})})]})}var jo=n(1956),bo=Object(j.a)((function(e){return{content:{padding:"1rem"}}})),po=function(e){var t=e.provider,n=e.address,a=e.onClose,r=bo(),c=Object(pt.m)(t.host_uri,{enabled:!1,retry:!1}),o=c.data,s=c.isLoading,l=c.refetch,d=c.isError;return Object(i.useEffect)((function(){l()}),[]),Object(E.jsxs)(b.a,{maxWidth:"xs","aria-labelledby":"provider-detail-dialog-title",open:!0,onClose:a,fullWidth:!0,children:[Object(E.jsx)(p.a,{id:"provider-detail-dialog-title",children:"Provider Details"}),Object(E.jsx)(m.a,{dividers:!0,className:r.content,children:d?Object(E.jsx)(T.a,{variant:"outlined",severity:"warning",children:"Provider details not available for this provider... :("}):s||!o?Object(E.jsx)(f.a,{display:"flex",alignItems:"center",justifyContent:"center",children:Object(E.jsx)(y.a,{size:"3rem"})}):Object(E.jsx)(hr,{provider:Object(u.a)(Object(u.a)({},t),o),address:n})}),Object(E.jsx)(v.a,{children:Object(E.jsx)(g.a,{autoFocus:!0,variant:"contained",onClick:a,color:"primary",size:"small",children:"Close"})})]})},mo=Object(j.a)((function(e){return{root:{height:"100%",padding:".5rem",borderRadius:".3rem"},rootClickable:{cursor:"pointer",transition:"background-color .2s ease","&:hover":{backgroundColor:e.palette.grey[200]}},dataRow:{lineHeight:"1rem",marginBottom:".5rem",display:"flex",alignItems:"center"},summaryRow:{display:"flex",marginBottom:".3rem"},buttonRow:{display:"flex",alignItems:"center",justifyContent:"space-between"},summaryLabelValues:{display:"flex",flexGrow:1},summaryLabels:{flexBasis:"150px",fontWeight:"bold"},summaryValues:{flexBasis:"75%"}}}));function fo(e){var t=e.provider,n=(e.leases,e.canViewDetail),a=void 0!==n&&n,r=mo(),c=Object(ut.e)(),o=Object(i.useState)(!1),s=Object(d.a)(o,2),l=s[0],u=s[1],j=dt(),b=j.favoriteProviders,p=j.updateFavoriteProviders,m=b.some((function(e){return t.owner===e}));return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(Ga.a,{elevation:1,className:Object(Z.a)(r.root,Object(B.a)({},r.rootClickable,a)),onClick:function(){a&&c.push(Ut.a.providerDetail(t.owner))},children:[Object(E.jsxs)("div",{className:r.summaryRow,children:[Object(E.jsxs)("div",{className:r.summaryLabelValues,children:[Object(E.jsxs)("div",{className:r.summaryLabels,children:[Object(E.jsx)("div",{className:r.dataRow,children:"Owner"}),Object(E.jsx)("div",{className:r.dataRow,children:"Uri"}),t.isActive&&Object(E.jsx)("div",{className:r.dataRow,children:"Active leases"}),Object(E.jsx)("div",{className:r.dataRow,children:"Your leases"}),Object(E.jsx)("div",{className:r.dataRow,children:"Your Active leases"})]}),Object(E.jsxs)("div",{className:Object(Z.a)("text-truncate",r.summaryValues),children:[Object(E.jsx)("div",{className:r.dataRow,children:Object(E.jsx)(Yt,{address:t.owner,isCopyable:!0})}),Object(E.jsx)("div",{className:Object(Z.a)("text-truncate",r.dataRow),children:t.host_uri}),t.isActive&&Object(E.jsx)("div",{className:r.dataRow,children:t.leaseCount}),Object(E.jsx)("div",{className:r.dataRow,children:t.userLeases}),Object(E.jsxs)("div",{className:r.dataRow,children:[t.userActiveLeases," ",t.userActiveLeases>0&&Object(E.jsx)(zc,{state:"active",size:"small"})]})]})]}),t.isActive&&Object(E.jsx)(f.a,{flexBasis:"50%",children:Object(E.jsx)(Ui,{activeCPU:t.activeStats.cpu/1e3,activeMemory:t.activeStats.memory,activeStorage:t.activeStats.storage,pendingCPU:t.pendingStats.cpu/1e3,pendingMemory:t.pendingStats.memory,pendingStorage:t.pendingStats.storage,totalCPU:(t.availableStats.cpu+t.pendingStats.cpu+t.activeStats.cpu)/1e3,totalMemory:t.availableStats.memory+t.pendingStats.memory+t.activeStats.memory,totalStorage:t.availableStats.storage+t.pendingStats.storage+t.activeStats.storage})})]}),Object(E.jsxs)("div",{className:r.buttonRow,children:[Object(E.jsxs)(f.a,{display:"flex",alignItems:"center",children:[Object(E.jsx)(kr,{isFavorite:m,onClick:function(e){e.preventDefault(),e.stopPropagation();var n=m?b.filter((function(e){return e!==t.owner})):b.concat([t.owner]);p(n)}}),t.isAudited&&Object(E.jsx)(f.a,{marginLeft:".5rem",children:Object(E.jsx)(Dr,{provider:t})})]}),Object(E.jsx)("div",{children:Object(E.jsx)(ft,{onClick:function(e){e.preventDefault(),e.stopPropagation(),u(!0)},children:"View details"})})]})]}),l&&Object(E.jsx)(po,{provider:t,address:t.owner,onClose:function(e){e.preventDefault(),e.stopPropagation(),u(!1)}})]})}var ho=Object(j.a)((function(e){return{root:{"& .MuiPagination-ul":{justifyContent:"center"}},titleContainer:{padding:"0.5rem 1rem",display:"flex",alignItems:"center"},title:{fontSize:"1.5rem",fontWeight:"bold"},checkbox:{padding:"4px"},selectLabel:{top:"-6px",left:"14px"},selectFormControl:{flexBasis:"150px",marginLeft:"1rem"}}})),Oo=[{id:1,title:"Active Leases (desc)"},{id:2,title:"Active Leases (asc)"},{id:3,title:"Your Leases (desc)"},{id:4,title:"Your Active Leases (desc)"}];function xo(e){var t=e.leases,n=e.isLoadingLeases,a=e.getLeases,r=ho(),c=Object(i.useState)(1),o=Object(d.a)(c,2),s=o[0],l=o[1],j=Object(i.useState)(!0),b=Object(d.a)(j,2),p=b[0],m=b[1],v=Object(i.useState)(!1),g=Object(d.a)(v,2),y=g[0],w=g[1],k=Object(i.useState)(!1),C=Object(d.a)(k,2),S=C[0],I=C[1],N=Object(i.useState)([]),T=Object(d.a)(N,2),L=T[0],D=T[1],A=Object(i.useState)(1),P=Object(d.a)(A,2),z=P[0],M=P[1],B=Object(i.useState)(""),F=Object(d.a)(B,2),R=F[0],_=F[1],q=Object(Ie.b)().settings,W=dt().favoriteProviders,V=q.apiEndpoint,K=Tr(),G=K.providers,H=K.isLoadingProviders,Y=K.getProviders,J=12*(s-1),X=J+12,Q=L.slice(J,X),$=Math.ceil(L.length/12);Object(i.useEffect)((function(){Y(),a(),W.length>0&&w(!0)}),[V]),Object(i.useEffect)((function(){if(G){var e=Object(Ka.a)(G).map((function(e){var n=(null===t||void 0===t?void 0:t.filter((function(t){return t.provider===e.owner})).length)||0,a=(null===t||void 0===t?void 0:t.filter((function(t){return t.provider===e.owner&&"active"===t.state})).length)||0;return Object(u.a)(Object(u.a)({},e),{},{userLeases:n,userActiveLeases:a})}));R&&(e=e.filter((function(e){var t;return null===(t=e.hostUri)||void 0===t?void 0:t.includes(R.toLowerCase())}))),p&&(e=e.filter((function(e){return e.isActive}))),y&&(e=e.filter((function(e){return W.some((function(t){return t===e.owner}))}))),S&&(e=e.filter((function(e){return e.isAudited}))),e=e.sort((function(e,t){return 1===z?t.leaseCount-e.leaseCount:2===z?e.leaseCount-t.leaseCount:3===z?t.userLeases-e.userLeases:4!==z||t.userActiveLeases-e.userActiveLeases})),D(e)}}),[G,p,y,S,W,R,z,t]);return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(bt.a,{title:"Providers"}),Object(E.jsx)(Vr.a,{isLoading:H||n}),Object(E.jsxs)(f.a,{className:r.root,children:[Object(E.jsxs)(f.a,{className:r.titleContainer,children:[Object(E.jsx)(h.a,{variant:"h3",className:r.title,children:"Providers"}),G&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(f.a,{marginLeft:"1rem",children:Object(E.jsx)(St.a,{"aria-label":"back",onClick:function(){Y()},size:"small",children:Object(E.jsx)(Ct.a,{})})}),Object(E.jsx)(f.a,{marginLeft:"2rem",children:Object(E.jsx)(Rt.a,{control:Object(E.jsx)(_t.a,{checked:p,onChange:function(e,t){l(1),m(t)},color:"primary",size:"small",classes:{root:r.checkbox}}),label:"Active"})}),Object(E.jsx)(f.a,{marginLeft:"1rem",children:Object(E.jsx)(Rt.a,{control:Object(E.jsx)(_t.a,{checked:y,onChange:function(e,t){l(1),w(t)},color:"primary",size:"small",classes:{root:r.checkbox}}),label:"Favorites"})}),Object(E.jsx)(f.a,{marginLeft:"1rem",children:Object(E.jsx)(Rt.a,{control:Object(E.jsx)(_t.a,{checked:S,onChange:function(e,t){l(1),I(t)},color:"primary",size:"small",classes:{root:r.checkbox}}),label:"Audited"})})]})]}),Object(E.jsxs)(f.a,{padding:".5rem 1rem 1rem",display:"flex",alignItems:"center",children:[Object(E.jsx)(x.a,{label:"Search Providers",value:R,onChange:function(e){var t=e.target.value;_(t)},type:"text",variant:"outlined",autoFocus:!0,fullWidth:!0,size:"medium",InputProps:{endAdornment:R&&Object(E.jsx)(U.a,{position:"end",children:Object(E.jsx)(St.a,{size:"small",onClick:function(){return _("")},children:Object(E.jsx)(Wr.a,{})})})}}),Object(E.jsxs)(O.a,{className:r.selectFormControl,children:[Object(E.jsx)(vi.a,{id:"sort-select-label",className:r.selectLabel,children:"Sort by"}),Object(E.jsx)(gi.a,{labelId:"sort-select-label",label:"Sort by",value:z,onChange:function(e){var t=e.target.value;M(t)},variant:"outlined",classes:{selectMenu:r.menuRoot},children:Oo.map((function(e){return Object(E.jsx)(dn.a,{value:e.id,size:"small",children:Object(E.jsx)(h.a,{variant:"caption",className:r.selectItem,children:e.title})},e.id)}))})]})]}),Object(E.jsx)(f.a,{padding:"0 1rem",children:Object(E.jsx)(jo.a,{container:!0,spacing:2,children:Q.map((function(e){return Object(E.jsx)(jo.a,{item:!0,xs:12,children:Object(E.jsx)(fo,{provider:e,leases:t,canViewDetail:!0})},e.owner)}))})}),R&&0===Q.length&&Object(E.jsx)(f.a,{padding:"1rem",children:Object(E.jsx)(h.a,{children:"No provider found."})}),Object(E.jsx)(f.a,{padding:"1rem 1rem 2rem",children:Object(E.jsx)(Kc.a,{count:$,onChange:function(e,t){l(t)},page:s,size:"large"})})]})]})}var vo=n(295),go=n.n(vo),yo=Object(j.a)((function(e){return{flexCenter:{display:"flex",alignItems:"center"}}})),wo=o.a.memo((function(e){var t=e.lease,n=yo();return Object(E.jsxs)(Wn.a,{children:[Object(E.jsx)(Un.a,{component:"th",scope:"row",children:Object(E.jsx)(zc,{state:t.state,size:"small"})}),Object(E.jsx)(Un.a,{children:Object(E.jsx)(ua.a,{to:Ut.a.deploymentDetails(t.dseq),children:t.dseq})}),Object(E.jsx)(Un.a,{children:Object(E.jsxs)("div",{className:n.flexCenter,children:[Object(E.jsx)(ur,{perBlockValue:Object(ge.f)(t.price.amount,6)}),Object(E.jsx)(dr,{value:Object(ge.f)(t.price.amount,6)}),Object(E.jsxs)("span",{className:n.monthlyCost,children:[Object(E.jsx)(ye.b,{value:t.price.amount,maximumSignificantDigits:18}),"uakt (","~".concat(Object(ge.d)(t.price.amount),"akt/month"),")"]})]})})]})}),(function(e,t){return go()(e,t)})),ko=Object(j.a)((function(e){return{title:{fontSize:"1.5rem"},flexCenter:{display:"flex",alignItems:"center"},monthlyCost:{marginLeft:".5rem"}}})),Co=o.a.memo((function(e){var t=e.leases,n=e.isLoadingLeases,a=Object(i.useState)(1),r=Object(d.a)(a,2),c=r[0],o=r[1],s=ko(),l=Object(i.useState)(t||[]),u=Object(d.a)(l,2),j=u[0],b=u[1],p=Object(i.useState)(!1),m=Object(d.a)(p,2),O=m[0],x=m[1],v=12*(c-1),g=v+12,w=j.slice(v,g),k=Math.ceil(j.length/12);Object(i.useEffect)((function(){if(t){var e=Object(Ka.a)(t).sort((function(e,t){return"active"===e.state?-1:1}));O&&(e=e.filter((function(e){return"active"===e.state}))),b(e)}}),[t,O]);return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(f.a,{paddingTop:"1rem",paddingBottom:".5rem",display:"flex",alignItems:"center",children:[Object(E.jsx)(h.a,{variant:"h5",className:s.title,children:"Your leases"}),Object(E.jsx)(f.a,{marginLeft:"1rem",children:Object(E.jsx)(Rt.a,{control:Object(E.jsx)(_t.a,{checked:O,onChange:function(e,t){o(1),x(t)},color:"primary"}),label:"Active"})})]}),0===(null===w||void 0===w?void 0:w.length)&&n&&Object(E.jsx)(y.a,{}),0===(null===w||void 0===w?void 0:w.length)&&!n&&Object(E.jsxs)(h.a,{variant:"body2",children:["You have 0 ",O?"active":""," lease for this provider."]}),(null===w||void 0===w?void 0:w.length)>0&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Rn.a,{component:Ga.a,children:Object(E.jsxs)(_n.a,{size:"small",children:[Object(E.jsx)(qn.a,{children:Object(E.jsxs)(Wn.a,{children:[Object(E.jsx)(Un.a,{children:"State"}),Object(E.jsx)(Un.a,{children:"Dseq"}),Object(E.jsx)(Un.a,{children:"Price"})]})}),Object(E.jsx)(Vn.a,{children:w.map((function(e,t){return Object(E.jsx)(wo,{lease:e},e.id)}))})]})}),Object(E.jsx)(f.a,{padding:"1rem 1rem 2rem",children:Object(E.jsx)(Kc.a,{count:k,onChange:function(e,t){o(t)},page:c,size:"large"})})]})]})}),(function(e,t){return go()(e,t)})),So=Object(j.a)((function(e){return{root:{"& .MuiPagination-ul":{justifyContent:"center"}},titleContainer:{padding:".5rem 1rem",display:"flex",alignItems:"center"},title:{fontSize:"1.5rem",fontWeight:"bold",marginLeft:".5rem"},content:{padding:"0 1rem"}}}));function Io(e){var t=e.leases,n=e.getLeases,a=e.isLoadingLeases,r=So(),c=Object(i.useState)(null),o=Object(d.a)(c,2),s=o[0],l=o[1],j=Object(i.useState)(null),b=Object(d.a)(j,2),p=b[0],m=b[1],O=Object(ut.e)(),x=Object(ut.g)().owner,v=Tr(),g=v.providers,y=v.getProviders;Object(i.useEffect)((function(){var e=null===g||void 0===g?void 0:g.find((function(e){return e.owner===x})),r=(null===t||void 0===t?void 0:t.filter((function(t){return t.provider===e.owner})).length)||0,c=(null===t||void 0===t?void 0:t.filter((function(t){return t.provider===e.owner&&"active"===t.state})).length)||0;l(Object(u.a)(Object(u.a)({},e),{},{userLeases:r,userActiveLeases:c})),a||n()}),[]);return Object(i.useEffect)((function(){if(s&&t&&t.length>0){var e=null===t||void 0===t?void 0:t.filter((function(e){return e.provider===s.owner}));m(e)}}),[t,s]),Object(E.jsxs)("div",{className:r.root,children:[Object(E.jsx)(bt.a,{title:"Provider Detail"}),Object(E.jsx)(Vr.a,{isLoading:a}),Object(E.jsx)("div",{className:r.titleContainer,children:Object(E.jsxs)(f.a,{display:"flex",alignItems:"center",children:[Object(E.jsx)(St.a,{"aria-label":"back",onClick:function(){O.goBack()},size:"small",children:Object(E.jsx)(lc.a,{})}),Object(E.jsx)(h.a,{variant:"h3",className:r.title,children:"Provider detail"}),Object(E.jsx)(f.a,{marginLeft:"1rem",children:Object(E.jsx)(St.a,{"aria-label":"back",onClick:function(){return y(),void n()},size:"small",children:Object(E.jsx)(Ct.a,{})})})]})}),s&&Object(E.jsxs)("div",{className:r.content,children:[Object(E.jsx)(fo,{provider:s,leases:t}),Object(E.jsx)(Co,{isLoadingLeases:a,leases:p})]})]})}function No(){var e=Object($.b)().address,t=Object(pt.j)(e,{enabled:!1}),n=t.data,a=t.isFetching,r=t.refetch,c=Object(pt.b)(e,{enabled:!1}),o=c.data,s=c.isFetching,l=c.refetch;return Object(i.useEffect)((function(){r()}),[r,e]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(ut.a,{exact:!0,path:"/createDeployment/:step?/:dseq?",children:Object(E.jsx)(yc,{})}),Object(E.jsx)(ut.a,{path:"/deployment/:dseq",children:Object(E.jsx)(Di,{deployments:n})}),Object(E.jsx)(ut.a,{exact:!0,path:"/deployments",children:Object(E.jsx)(Hc,{deployments:n,refreshDeployments:r,isLoadingDeployments:a})}),Object(E.jsx)(ut.a,{path:"/templates/:templateId",children:Object(E.jsx)(uo,{})}),Object(E.jsx)(ut.a,{exact:!0,path:"/templates",children:Object(E.jsx)(Bi,{})}),Object(E.jsx)(ut.a,{exact:!0,path:"/providers",children:Object(E.jsx)(xo,{leases:o,isLoadingLeases:s,getLeases:l})}),Object(E.jsx)(ut.a,{exact:!0,path:"/providers/:owner",children:Object(E.jsx)(Io,{leases:o,getLeases:l,isLoadingLeases:s})}),Object(E.jsx)(ut.a,{exact:!0,path:"/settings",children:Object(E.jsx)(io,{})}),Object(E.jsx)(ut.a,{exact:!0,path:"/",children:Object(E.jsx)(Qi,{deployments:n,refreshDeployments:r,isLoadingDeployments:a})})]})}var To=Object(j.a)((function(e){return{dialogContent:{padding:"1rem"},subTitle:{lineHeight:"1.5rem",marginBottom:"1rem"},ul:{"& li":{listStyle:"square"}}}})),Eo=function(e){var t=e.open,n=e.onClose,a=To(),r=Object($.b)().address;return Object(E.jsxs)(b.a,{open:t,maxWidth:"xs",fullWidth:!0,children:[Object(E.jsxs)(m.a,{className:a.dialogContent,children:[Object(E.jsx)(h.a,{variant:"h3",children:Object(E.jsx)("strong",{children:"Welcome!"})}),Object(E.jsxs)(h.a,{variant:"h6",className:a.subTitle,color:"textSecondary",children:["You need to get some ",Object(E.jsx)(ft,{onClick:function(){return window.electron.openUrl("https://coinmarketcap.com/currencies/akash-network/")},children:"$AKT"})," in order to deploy the Akash Network."]}),Object(E.jsx)(h.a,{variant:"caption",children:"Here are some places to acquire some:"}),Object(E.jsxs)("ul",{className:a.ul,children:[Object(E.jsx)("li",{children:Object(E.jsx)(ft,{onClick:function(){return window.electron.openUrl("https://docs.akash.network/token/buy")},children:"Buy tokens"})}),Object(E.jsx)(f.a,{marginTop:"1rem",children:Object(E.jsx)("hr",{})}),Object(E.jsx)(h.a,{variant:"caption",children:Object(E.jsx)("strong",{children:"Exchanges"})}),Object(E.jsx)("li",{children:Object(E.jsx)(ft,{onClick:function(){return window.electron.openUrl("https://app.osmosis.zone/")},children:"Osmosis (DEX)"})}),Object(E.jsx)("li",{children:Object(E.jsx)(ft,{onClick:function(){return window.electron.openUrl("https://emeris.com/")},children:"Emeris (DEX)"})}),Object(E.jsx)("li",{children:Object(E.jsx)(ft,{onClick:function(){return window.electron.openUrl("https://dex.sifchain.finance/")},children:"Sifchain (DEX)"})}),Object(E.jsx)("li",{children:Object(E.jsx)(ft,{onClick:function(){return window.electron.openUrl("https://www.kraken.com/")},children:"Kraken (CEX)"})}),Object(E.jsx)("li",{children:Object(E.jsx)(ft,{onClick:function(){return window.electron.openUrl("https://ascendex.com/")},children:"Ascendex (CEX)"})}),Object(E.jsx)("li",{children:Object(E.jsx)(ft,{onClick:function(){return window.electron.openUrl("https://global.bittrex.com/")},children:"Bittrex (CEX)"})}),Object(E.jsx)("li",{children:Object(E.jsx)(ft,{onClick:function(){return window.electron.openUrl("https://www.bitmart.com/")},children:"Bitmart (CEX)"})}),Object(E.jsx)("li",{children:Object(E.jsx)(ft,{onClick:function(){return window.electron.openUrl("https://www.digifinex.com/")},children:"Digifinex (CEX)"})}),Object(E.jsx)("li",{children:Object(E.jsx)(ft,{onClick:function(){return window.electron.openUrl("https://www.bitglobal.com/")},children:"Bitglobal (CEX)"})})]}),Object(E.jsx)(f.a,{marginBottom:".5rem",children:Object(E.jsx)(h.a,{variant:"caption",children:"Once you have $AKT, you can send it to your address:"})}),Object(E.jsx)(T.a,{icon:!1,variant:"outlined",children:Object(E.jsx)(Yt,{address:r,isCopyable:!0})})]}),Object(E.jsx)(v.a,{children:Object(E.jsx)(g.a,{variant:"contained",onClick:n,type:"button",color:"primary",children:"Got it!"})})]})},Lo=Object(j.a)((function(e){return{root:{height:"100%",overflowY:"auto"}}})),Do=function(e){var t=e.children,n=Object(Y.a)(e,["children"]),a=Lo();return Object(E.jsx)(f.a,Object(u.a)(Object(u.a)({className:a.root},n),{},{children:t}))},Ao=Object(j.a)((function(e){return{root:{display:"flex",flexDirection:"column",height:"100%"},accountAppBar:{top:"30px",backgroundColor:e.palette.grey[300]},accountBar:{height:"".concat(Te.a,"px"),display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},viewContainer:{display:"flex",width:"100%",borderRadius:0,flexGrow:1,height:"100%"},viewContentContainer:{flexGrow:1,overflowX:"hidden",transition:"margin-left .3s ease"}}}));function Po(){var e=Ao(),t=Object(i.useState)(!1),n=Object(d.a)(t,2),a=n[0],r=n[1],c=Object(i.useState)(!1),o=Object(d.a)(c,2),s=o[0],l=o[1],u=Object(i.useState)(!0),j=Object(d.a)(u,2),b=j[0],p=j[1],m=Object($.b)(),h=m.balance,O=m.isRefreshingBalance;Object(i.useEffect)((function(){O||"number"!==typeof h||0!==h||a||s||r(!0)}),[O,h,s,a]);return Object(E.jsxs)(Do,{marginTop:"".concat(Te.a,"px"),height:"calc(100% - ".concat(Te.a,"px) !important"),children:[a&&Object(E.jsx)(Eo,{open:a,onClose:function(){l(!0),r(!1)}}),Object(E.jsxs)(f.a,{height:"100%",children:[Object(E.jsx)(F.a,{position:"fixed",color:"default",elevation:0,component:"header",className:e.accountAppBar,children:Object(E.jsx)(vt.a,{variant:"dense",className:e.accountBar,children:Object(E.jsxs)(Jn.ErrorBoundary,{FallbackComponent:$n,children:[Object(E.jsx)(Cn,{}),Object(E.jsx)(Yn,{})]})})}),Object(E.jsxs)("div",{className:e.viewContainer,children:[Object(E.jsx)(ma,{onOpenMenuClick:function(){p((function(e){return!e}))},isNavOpen:b}),Object(E.jsx)(f.a,{className:e.viewContentContainer,style:{marginLeft:"".concat(b?200:58,"px")},children:Object(E.jsx)(Jn.ErrorBoundary,{FallbackComponent:$n,children:Object(E.jsx)(No,{})})})]})]})]})}var zo=Object(j.a)((function(e){return{grow:{flexGrow:1},betaChip:{fontWeight:"bold",width:"100%"},betaText:{padding:"0 1rem"},appBar:{top:"30px"}}})),Mo=function(){var e=Object(i.useState)(!0),t=Object(d.a)(e,2),n=t[0],a=t[1],r=zo();return Object(E.jsx)(E.Fragment,{children:n&&Object(E.jsxs)(b.a,{open:!0,maxWidth:"xs",fullWidth:!0,children:[Object(E.jsxs)(m.a,{className:r.dialogContent,children:[Object(E.jsx)(h.a,{variant:"h3",children:Object(E.jsx)("strong",{children:"Welcome!"})}),Object(E.jsx)(f.a,{padding:"1rem 0",children:Object(E.jsx)(Jt.a,{label:"BETA",color:"secondary",className:r.betaChip,size:"small"})}),Object(E.jsx)("div",{className:r.betaText,children:Object(E.jsxs)(h.a,{variant:"body1",children:[Object(E.jsx)("strong",{children:"Cloudmos Deploy"})," is currently in ",Object(E.jsx)("strong",{children:"BETA"}),". We strongly suggest you start with a new wallet and a small amount of AKT until we further stabilize the product. Enjoy!"]})})]}),Object(E.jsx)(v.a,{children:Object(E.jsx)(g.a,{variant:"contained",onClick:function(){localStorage.setItem("isBetaBannerSeen",!0),a(!1)},type:"button",color:"primary",children:"Got it!"})})]})})},Bo=n(1958),Fo=Object(j.a)((function(e){return{root:{display:"flex",alignItem:"center",fontWeight:"bold",fontSize:"3rem",textAlign:"center",justifyContent:"center","& img":{width:"3rem",height:"3rem",marginRight:"1rem"}}}})),Ro=function(){var e=Fo();return Object(E.jsxs)(h.a,{variant:"h1",className:e.root,children:[Object(E.jsx)("img",{src:"./icon.png",alt:"Cloudmos Logo"}),"Cloudmos Deploy"]})},_o=Object(j.a)((function(e){return{root:{padding:"5% 0"},container:{paddingTop:"2rem",display:"flex",flexDirection:"column"},walletAddress:{display:"block",marginBottom:"1rem"},formControl:{marginBottom:"1rem"},alertRoot:{border:"none",padding:0},alertIcon:{"&&":{color:e.palette.primary.main,alignItems:"center"}},alertMessage:{padding:0}}}));function qo(){var e=Object(i.useState)(!1),t=Object(d.a)(e,2),n=t[0],a=t[1],o=Object(i.useState)(!1),s=Object(d.a)(o,2),l=s[0],j=s[1],b=_o(),p=Object(i.useState)(),m=Object(d.a)(p,2),v=m[0],I=m[1],N=Object($.b)(),T=N.setSelectedWallet,L=N.deleteWallet,D=N.setWallets,A=Object(M.b)().loadLocalCert,P=Object(k.b)().enqueueSnackbar,z=Object(w.d)(),B=Object(w.c)(),F=Object(ut.e)(),R=Object(S.b)({defaultValues:{password:""}}),_=R.handleSubmit,q=R.control,W=R.formState.errors,U=R.clearErrors,V=(0,R.watch)().password;Object(i.useEffect)((function(){B&&!v&&I(B.address)}),[B,v]);function K(){return(K=Object(c.a)(r.a.mark((function e(t){var n,a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.password,U(),j(!0),e.prev=3,e.next=6,Object(w.l)(n);case 6:return a=e.sent,c=a.find((function(e){return e.selected}))||a[0],D(a),T(c),A(n),e.next=13,Ne.b.event("deploy","open wallet");case 13:F.push(Ut.a.dashboard()),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(3),"ciphertext cannot be decrypted using that key"===e.t0.message?P(Object(E.jsx)(C.a,{title:"Invalid password",iconVariant:"error"}),{variant:"error"}):(console.error(e.t0),P(Object(E.jsx)(C.a,{title:"Error while decrypting wallet",iconVariant:"error"}),{variant:"error"})),j(!1);case 20:case"end":return e.stop()}}),e,null,[[3,16]])})))).apply(this,arguments)}return Object(E.jsx)(Do,{children:Object(E.jsxs)("div",{className:b.root,children:[Object(E.jsx)(Ro,{}),Object(E.jsxs)(Bo.a,{maxWidth:"xs",className:b.container,children:[Object(E.jsxs)(f.a,{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem",children:[Object(E.jsx)(h.a,{variant:"h6",color:"textPrimary",children:"Open account"}),Object(E.jsx)(g.a,{variant:"contained",size:"small",color:"primary",component:ua.a,to:Ut.a.register(!0),children:"Add account"})]}),Object(E.jsx)(f.a,{marginBottom:"1rem",children:Object(E.jsx)(O.a,{variant:"outlined",className:b.formControl,fullWidth:!0,children:Object(E.jsx)(gi.a,{fullWidth:!0,value:v||"",onChange:function(e){var t=e.target.value,n=Object(w.d)();n=n.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{selected:e.address===t})})),Object(w.h)(n),I(t)},renderValue:function(e){var t=z.find((function(t){return t.address===e}));return Object(E.jsx)(Wo,{wallet:t})},children:z.map((function(e){return Object(E.jsx)(dn.a,{value:e.address,children:Object(E.jsx)(Wo,{wallet:e})},e.address)}))})})}),Object(E.jsxs)("form",{autoComplete:"false",onSubmit:_((function(e){return K.apply(this,arguments)})),children:[Object(E.jsx)(O.a,{error:!W.password,className:b.formControl,fullWidth:!0,children:Object(E.jsx)(S.a,{control:q,name:"password",rules:{required:!0},render:function(e){var t=e.fieldState,n=e.field;return Object(E.jsx)(x.a,Object(u.a)(Object(u.a)({},n),{},{type:"password",variant:"outlined",label:"Password",autoFocus:!0,error:!!t.invalid,helperText:t.invalid&&"Password is required."}))}})}),l&&Object(E.jsx)(f.a,{textAlign:"center",children:Object(E.jsx)(y.a,{})}),!l&&Object(E.jsxs)(f.a,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[Object(E.jsx)(g.a,{color:"secondary",onClick:function(){return a(!0)},children:"Delete wallet"}),Object(E.jsx)(g.a,{type:"submit",variant:"contained",color:"primary",disabled:!V,children:"Open"})]})]}),Object(E.jsx)(Wt,{isOpen:n,address:v,handleCancel:function(){a(!1)},handleConfirmDelete:function(e){var t=L(null===B||void 0===B?void 0:B.address,e);a(!1);var n=t.find((function(e){return e.selected}));n&&I(n.address)}})]})]})})}var Wo=function(e){var t=e.wallet,n=_o();return Object(E.jsxs)(T.a,{icon:Object(E.jsx)(wt.a,{}),variant:"outlined",classes:{root:n.alertRoot,icon:n.alertIcon,message:n.alertMessage},children:[Object(E.jsx)(h.a,{variant:"body1",children:Object(E.jsx)("strong",{children:t.name})}),Object(E.jsx)(h.a,{variant:"caption",children:Object(E.jsx)(Yt,{address:t.address})})]})},Uo=Object(j.a)((function(e){return{root:{},label:{display:"block",marginBottom:".5rem"},inputRoot:{width:"100px",margin:"0 4px"},input:{textAlign:"right"}}})),Vo=function(e){var t=e.onChange,n=Object(i.useState)(!1),a=Object(d.a)(n,2),r=a[0],c=a[1],o=Object(i.useState)(0),s=Object(d.a)(o,2),l=s[0],u=s[1],j=Object(i.useState)(0),b=Object(d.a)(j,2),p=b[0],m=b[1],O=Object(i.useState)(0),v=Object(d.a)(O,2),y=v[0],w=v[1],k=Uo();return Object(E.jsxs)("div",{className:k.root,children:[Object(E.jsx)(f.a,{textAlign:"center",marginBottom:"1rem",children:Object(E.jsx)(g.a,{onClick:function(){c((function(e){var n=!e;return n||(u(0),m(0),w(0),t(0,0,0)),n}))},size:"small",color:"primary",children:"Advanced"})}),r&&Object(E.jsxs)(f.a,{children:[Object(E.jsx)(rr.a,{children:"HD Derivation Path"}),Object(E.jsxs)(f.a,{display:"flex",alignItems:"baseline",children:[Object(E.jsx)("div",{children:Object(E.jsx)(h.a,{variant:"body2",children:"m/44'/\xb7\xb7\xb7'/"})}),Object(E.jsx)(x.a,{value:l,onChange:function(e){var n=e.target.value;u(n),t(n,p,y)},type:"number",variant:"outlined",classes:{root:k.inputRoot},InputProps:{classes:{input:k.input}},inputProps:{min:0,step:1},size:"medium"}),Object(E.jsx)("div",{children:Object(E.jsx)(h.a,{variant:"body2",children:"'/"})}),Object(E.jsx)(x.a,{value:p,onChange:function(e){var n=e.target.value;m(n),t(l,n,y)},type:"number",variant:"outlined",classes:{root:k.inputRoot},InputProps:{classes:{input:k.input}},inputProps:{min:0,max:1,step:1},size:"medium"}),Object(E.jsx)("div",{children:Object(E.jsx)(h.a,{variant:"body2",children:"/"})}),Object(E.jsx)(x.a,{value:y,onChange:function(e){var n=e.target.value;w(n),t(l,p,n)},type:"number",variant:"outlined",classes:{root:k.inputRoot},InputProps:{classes:{input:k.input}},inputProps:{min:0,step:1},size:"medium"})]})]})]})},Ko=Object(j.a)((function(e){return{root:{padding:"5% 0"},container:{paddingTop:"2rem",display:"flex",flexDirection:"column"},title:{marginBottom:"1rem",fontWeight:"bold"},alert:{marginBottom:"1rem"},formControl:{marginBottom:"1rem"}}}));function Go(){var e=Ko(),t=Object(k.b)().enqueueSnackbar,n=Object($.b)(),a=n.setSelectedWallet,o=n.setWallets,s=Object(i.useState)(!1),l=Object(d.a)(s,2),j=l[0],b=l[1],p=Object(ut.e)(),m=!!nc().get("add"),v=Object(i.useState)({account:0,change:0,addressIndex:0}),I=Object(d.a)(v,2),N=I[0],T=I[1],L=Object(M.b)(),D=L.setLocalCert,A=L.setValidCertificates,P=L.setSelectedCertificate,z=L.loadLocalCert,B=Object(S.b)({defaultValues:{mnemonic:"",name:"",password:"",confirmPassword:""}}),F=B.handleSubmit,R=B.control,_=B.formState.errors,q=B.watch,W=B.clearErrors,U=q().password;function V(){return(V=Object(c.a)(r.a.mark((function e(n){var c,i,s,l,d,u,j,m,f,h,O;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.mnemonic,i=n.name,s=n.password,W(),e.prev=2,b(!0),e.next=6,Object(w.l)(s);case 6:return l=e.sent,d=c.trim(),u=N.account,j=N.change,m=N.addressIndex,e.next=11,Object(w.e)(d,i,s,u,j,m);case 11:for(f=e.sent,h=l.concat([f]),O=0;O<h.length;O++)h[O].selected=h[O].address===f.address;return o(h),a(f),A([]),P(null),D(null),z(s),e.next=22,Ne.b.event("deploy","import wallet");case 22:p.replace(Ut.a.dashboard()),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(2),"ciphertext cannot be decrypted using that key"===e.t0.message?t(Object(E.jsx)(C.a,{title:"Invalid password",iconVariant:"error"}),{variant:"error"}):(console.error(e.t0),t(Object(E.jsx)(C.a,{title:"An error has occured",subTitle:e.t0.message,iconVariant:"error"}),{variant:"error"}));case 28:return e.prev=28,b(!1),e.finish(28);case 31:case"end":return e.stop()}}),e,null,[[2,25,28,31]])})))).apply(this,arguments)}return Object(E.jsx)(Do,{children:Object(E.jsxs)("div",{className:e.root,children:[Object(E.jsx)(Ro,{}),Object(E.jsxs)(Bo.a,{maxWidth:"xs",className:e.container,children:[Object(E.jsx)(h.a,{variant:"h6",color:"textSecondary",className:e.title,children:"Import your seed"}),Object(E.jsxs)("form",{onSubmit:F((function(e){return V.apply(this,arguments)})),children:[Object(E.jsx)(O.a,{error:!_.name,className:e.formControl,fullWidth:!0,children:Object(E.jsx)(S.a,{control:R,name:"mnemonic",rules:{required:!0},render:function(e){var t=e.fieldState,n=e.field;return Object(E.jsx)(x.a,Object(u.a)(Object(u.a)({},n),{},{type:"text",variant:"outlined",label:"Type your mnemonic",multiline:!0,autoFocus:!0,rows:4,error:!!t.invalid,helperText:t.invalid&&"Mnemonic is required."}))}})}),Object(E.jsx)(O.a,{error:!_.name,className:e.formControl,fullWidth:!0,children:Object(E.jsx)(S.a,{control:R,name:"name",rules:{required:!0},render:function(e){var t=e.fieldState,n=e.field;return Object(E.jsx)(x.a,Object(u.a)(Object(u.a)({},n),{},{type:"text",variant:"outlined",label:"Account name",error:!!t.invalid,helperText:t.invalid&&"Account name is required."}))}})}),Object(E.jsx)(O.a,{error:!_.password,className:e.formControl,fullWidth:!0,children:Object(E.jsx)(S.a,{control:R,name:"password",rules:{required:!0},render:function(e){var t=e.fieldState,n=e.field;return Object(E.jsx)(x.a,Object(u.a)(Object(u.a)({},n),{},{type:"password",variant:"outlined",label:"Password",error:!!t.invalid,helperText:t.invalid&&"Password is required."}))}})}),!m&&Object(E.jsx)(O.a,{error:!_.confirmPassword,className:e.formControl,fullWidth:!0,children:Object(E.jsx)(S.a,{control:R,name:"confirmPassword",rules:{required:!0,validate:function(e){return!!e&&e===U}},render:function(e){var t,n=e.fieldState,a=e.field,r="validate"===(null===(t=n.error)||void 0===t?void 0:t.type)?"Password doesn't match.":"Confirm password is required.";return Object(E.jsx)(x.a,Object(u.a)(Object(u.a)({},a),{},{type:"password",variant:"outlined",label:"Confirm password",error:!!n.invalid,helperText:n.invalid&&r}))}})}),Object(E.jsx)(Vo,{onChange:function(e,t,n){T({account:e,change:t,addressIndex:n})}}),Object(E.jsxs)(f.a,{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"1rem",children:[Object(E.jsx)(g.a,{onClick:function(){return p.goBack()},children:"Back"}),Object(E.jsx)(g.a,{type:"submit",variant:"contained",color:"primary",disabled:j,children:j?Object(E.jsx)(y.a,{size:"1.5rem",color:"primary"}):Object(E.jsx)(E.Fragment,{children:"Import"})})]})]})]})]})})}var Ho=Object(j.a)((function(e){return{dialogContent:{padding:"0"}}})),Yo=function(e){var t=e.onClose,n=Ho();return Object(E.jsxs)(b.a,{open:!0,onClose:t,children:[Object(E.jsx)(p.a,{children:"Edit settings"}),Object(E.jsx)(m.a,{dividers:!0,className:n.dialogContent,children:Object(E.jsx)(io,{})}),Object(E.jsx)(v.a,{children:Object(E.jsx)(g.a,{variant:"contained",onClick:t,type:"button",color:"primary",children:"Close"})})]})},Jo=n(325),Xo=n(803),Qo=n.n(Xo),$o=window.electron.api,Zo=Object(j.a)((function(e){return{list:{},dialogContent:{padding:"0 .5rem"},experimentalChip:{height:"16px",marginLeft:"1rem",fontSize:".7rem",fontWeight:"bold"},version:{fontWeight:"bold"},alert:{marginBottom:"1rem"},dialogActions:{display:"flex",alignItems:"center",justifyContent:"space-between"}}})),es=function(e){var t=e.onClose,n=Zo(),a=Object(Ie.b)().selectedNetworkId,r=Object(i.useState)(a),c=Object(d.a)(r,2),o=c[0],s=c[1];return Object(E.jsxs)(b.a,{open:!0,onClose:t,maxWidth:"xs",fullWidth:!0,children:[Object(E.jsx)(p.a,{children:"Select Network"}),Object(E.jsxs)(m.a,{dividers:!0,className:n.dialogContent,children:[Object(E.jsx)(W.a,{className:n.list,children:Jo.b.map((function(e){return Object(E.jsxs)(ee.a,{dense:!0,button:!0,onClick:function(){return function(e){s(e.id)}(e)},children:[Object(E.jsx)(hn.a,{children:Object(E.jsx)(or.a,{checked:o===e.id,value:e.id})}),Object(E.jsx)(ae.a,{classes:{secondary:n.secondaryText},primary:Object(E.jsxs)(f.a,{display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:"1rem",children:[Object(E.jsxs)("span",{children:[e.title," - ",Object(E.jsx)(h.a,{variant:"caption",className:n.version,children:e.version})]}),e.id!==Te.f&&Object(E.jsx)(Jt.a,{label:"Experimental",size:"small",color:"secondary",className:n.experimentalChip})]}),secondary:e.description})]},e.id)}))}),o!==Te.f&&Object(E.jsxs)(T.a,{variant:"outlined",severity:"warning",className:n.alert,children:[Object(E.jsx)(h.a,{variant:"body1",children:Object(E.jsx)("strong",{children:"Warning"})}),Object(E.jsx)(h.a,{variant:"body2",children:"Changing networks will restart the app and some features are experimental."})]})]}),Object(E.jsxs)(v.a,{className:n.dialogActions,children:[Object(E.jsx)(g.a,{onClick:t,type:"button",autoFocus:!0,children:"Close"}),Object(E.jsx)(g.a,{variant:"contained",onClick:function(){a!==o?(localStorage.setItem("selectedNetworkId",o),$o.send("relaunch")):t()},color:"primary",type:"button",children:"Save"})]})]})},ts=n(1076),ns=Object(j.a)((function(e){return{toolbar:{minHeight:"30px",maxHeight:"30px",display:"flex",alignItems:"center",justifyContent:"space-between"},link:{"&&":{textDecoration:"none",color:"inherit",display:"inline-flex",fontSize:".75rem",alignItems:"center",padding:"1px 2px",borderRadius:"4px",height:"20px",transition:"all .3s ease","&:hover":{backgroundColor:e.palette.grey[300]}}},icon:{fontSize:"1rem"},caption:{color:e.palette.grey[600],fontWeight:"bold",fontSize:".7rem"},button:{textTransform:"initial"},flexAlign:{display:"flex",alignItems:"center"},stars:{marginRight:"1rem","& span":{display:"flex"}}}})),as=function(){var e=ns(),t=Object(i.useState)(!1),n=Object(d.a)(t,2),a=n[0],o=n[1],s=Object(i.useState)(!1),l=Object(d.a)(s,2),u=l[0],j=l[1],b=Object(Ie.b)(),p=b.settings,m=b.isRefreshingNodeStatus,O=b.refreshNodeStatuses,x=b.selectedNetworkId,v=p.selectedNode,w=p.isCustomNode,k=p.customNode,C=w?k:v,S=Jo.b.find((function(e){return e.id===x}));Object(i.useEffect)((function(){var e=setInterval(Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:case"end":return e.stop()}}),e)}))),6e4);return function(){clearInterval(e)}}),[O]);return Object(E.jsxs)(F.a,{position:"fixed",color:"default",elevation:0,children:[a&&Object(E.jsx)(Yo,{onClose:function(){O(),o(!1)}}),u&&Object(E.jsx)(es,{onClose:function(){j(!1)}}),Object(E.jsxs)(vt.a,{variant:"dense",className:e.toolbar,children:[Object(E.jsxs)(f.a,{className:e.flexAlign,children:[Object(E.jsx)(f.a,{className:e.flexAlign,children:Object(E.jsxs)(ft,{onClick:function(){return j(!0)},className:e.link,children:[Object(E.jsx)(f.a,{component:"span",fontWeight:"bold",children:"Network:"}),Object(E.jsx)(f.a,{component:"span",marginLeft:".5rem",children:null===S||void 0===S?void 0:S.title}),Object(E.jsx)(Qo.a,{className:e.icon})]})}),Object(E.jsxs)(f.a,{marginLeft:"1rem",className:e.flexAlign,children:[C&&Object(E.jsxs)(ft,{onClick:function(){return o(!0)},className:e.link,children:[Object(E.jsx)(f.a,{component:"span",fontWeight:"bold",children:"Node:"}),Object(E.jsx)(f.a,{marginLeft:".5rem",children:null===C||void 0===C?void 0:C.id}),Object(E.jsx)(Qo.a,{className:e.icon}),Object(E.jsx)(f.a,{marginLeft:".5rem",children:Object(E.jsx)(ro,{latency:Math.floor(null===C||void 0===C?void 0:C.latency),status:null===C||void 0===C?void 0:C.status,variant:"dense"})})]}),!C&&w&&Object(E.jsx)(ft,{onClick:function(){return o(!0)},className:e.link,children:"Custom node..."}),m&&Object(E.jsx)(f.a,{marginLeft:"1rem",children:Object(E.jsx)(y.a,{size:".75rem"})})]})]}),Object(E.jsxs)(f.a,{display:"flex",alignItems:"center",whiteSpace:"nowrap",children:[Object(E.jsx)("div",{className:e.stars,children:Object(E.jsx)(ts.a,{href:"https://github.com/maxmaxlabs/cloudmos-deploy","data-icon":"octicon-star","data-show-count":"true","aria-label":"Star maxmaxlabs/cloudmos-deploy on GitHub",children:"Star"})}),Object(E.jsx)(g.a,{onClick:function(){return window.electron.openUrl("https://github.com/maxmaxlabs/cloudmos-deploy/issues")},size:"small",children:Object(E.jsx)(h.a,{variant:"caption",className:e.caption,children:"Submit an issue"})}),Object(E.jsx)(f.a,{children:"|"}),Object(E.jsxs)(g.a,{onClick:function(){return window.electron.openUrl("https://github.com/maxmaxlabs/cloudmos-deploy")},size:"small",children:[Object(E.jsx)(h.a,{variant:"caption",className:e.caption,children:"Fork me!"}),Object(E.jsx)(f.a,{component:"span",display:"inline-flex",marginLeft:".5rem",children:Object(E.jsx)(Oa.a,{className:e.icon})})]})]})]})]})},rs=Object(j.a)((function(e){return{root:{padding:"5% 0"},title:{fontWeight:"bold",fontSize:"3rem",textAlign:"center"},spacing:{marginBottom:"1rem"},container:{paddingTop:"5rem",display:"flex",flexDirection:"column"}}}));function cs(){var e=rs(),t=!!nc().get("add"),n=Object(ut.e)();return Object(E.jsx)(Do,{children:Object(E.jsxs)("div",{className:e.root,children:[Object(E.jsx)(Ro,{}),Object(E.jsxs)(Bo.a,{maxWidth:"xs",className:e.container,children:[t&&Object(E.jsxs)(f.a,{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem",children:[Object(E.jsx)(ft,{onClick:function(){return n.goBack()},children:"Back"}),Object(E.jsx)(h.a,{variant:"h6",children:"Add account"})]}),Object(E.jsx)(g.a,{className:e.spacing,variant:"outlined",component:ua.a,to:Ut.a.newWallet(t),color:"primary",children:"Create new account"}),Object(E.jsx)(g.a,{className:e.spacing,variant:"outlined",component:ua.a,to:Ut.a.walletImport(t),color:"primary",children:"Import existing account"}),Object(E.jsx)(f.a,{marginTop:"1rem",textAlign:"center",children:Object(E.jsx)(h.a,{variant:"caption",color:"textSecondary",children:"All sensitive information is stored only on your device."})})]})]})})}var is=Object(j.a)((function(e){return{root:{padding:"5% 0"},container:{paddingTop:"2rem",display:"flex",flexDirection:"column"},alert:{marginBottom:"1.5rem"},alertTitle:{fontSize:"1rem"},alertList:{paddingLeft:"1.5rem","& li":{listStyle:"disc"}},wordButton:{margin:"2px"},formControl:{marginBottom:"1rem"},loading:{color:"#fff"},wordBox:{minHeight:100,border:"1px dashed ".concat(e.palette.grey[400]),padding:"4px"}}}));function os(){var e=is(),t=Object(i.useRef)(),n=Object(k.b)().enqueueSnackbar,a=Object(i.useState)(12),o=Object(d.a)(a,2),s=o[0],l=o[1],j=Object(i.useState)(""),b=Object(d.a)(j,2),p=b[0],m=b[1],v=Object(i.useState)(null),I=Object(d.a)(v,2),N=I[0],L=I[1],D=Object(i.useState)([]),A=Object(d.a)(D,2),P=A[0],z=A[1],B=Object(i.useState)(!1),F=Object(d.a)(B,2),R=F[0],_=F[1],q=Object(i.useState)(!1),W=Object(d.a)(q,2),U=W[0],V=W[1],G=Object(i.useState)(!1),H=Object(d.a)(G,2),Y=H[0],J=H[1],X=Object(i.useState)(!1),Q=Object(d.a)(X,2),Z=Q[0],ee=Q[1],te=Object(i.useState)([]),ne=Object(d.a)(te,2),ae=ne[0],re=ne[1],ce=!!nc().get("add"),ie=Object(i.useState)({account:0,change:0,addressIndex:0}),oe=Object(d.a)(ie,2),se=oe[0],le=oe[1],de=Object(ut.e)(),ue=Object(S.b)({defaultValues:{name:"",password:"",confirmPassword:""}}),je=ue.handleSubmit,be=ue.control,pe=ue.formState.errors,me=ue.watch,fe=ue.clearErrors,he=me().password,Oe=Object($.b)(),xe=Oe.setSelectedWallet,ve=Oe.setWallets,ge=Object(M.b)(),ye=ge.setLocalCert,we=ge.setValidCertificates,ke=ge.setSelectedCertificate,Ce=ge.loadLocalCert;Object(i.useEffect)((function(){U||function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se(s);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]);var Se=function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),e.next=3,Object(w.b)(t);case 3:n=e.sent,L(n),a=n.mnemonic.split(" ").map((function(e,t){return{value:e,sort:Math.random(),originalIndex:t}})).sort((function(e,t){return e.sort-t.sort})),z(a),_(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(t),e.next=3,Se(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Te=function(e,t){re((function(n){var a;a=t?n.concat([e]):n.filter((function(t){return t.originalIndex!==e.originalIndex}));var r=N.mnemonic.split(" ");return a.length===r.length?go()(a.map((function(e){return e.value})),r)?(J(!0),m("")):m("The sequence of words is incorrect."):m(""),a}))},Ee=function(){var e=Object(c.a)(r.a.mark((function e(a){var c,i,o,s,l,d,u,j;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=a.name,i=a.password,fe(),e.prev=2,!Y){e.next=22;break}return ee(!0),o=se.account,s=se.change,l=se.addressIndex,e.next=8,Object(w.e)(N.mnemonic,c,i,o,s,l);case 8:for(d=e.sent,u=t.current.concat([d]),j=0;j<u.length;j++)u[j].selected=u[j].address===d.address;return ve(u),xe(d),we([]),ke(null),ye(null),Ce(i),e.next=19,Ne.b.event("deploy","create wallet");case 19:de.replace(Ut.a.dashboard()),e.next=28;break;case 22:return ee(!0),e.next=25,Object(w.l)(i);case 25:t.current=e.sent,V(!0),ee(!1);case 28:e.next=34;break;case 30:e.prev=30,e.t0=e.catch(2),"ciphertext cannot be decrypted using that key"===e.t0.message?n(Object(E.jsx)(C.a,{title:"Invalid password",iconVariant:"error"}),{variant:"error"}):(console.error(e.t0),n(Object(E.jsx)(C.a,{title:"An error has occured",subTitle:e.t0.message,iconVariant:"error"}),{variant:"error"})),ee(!1);case 34:case"end":return e.stop()}}),e,null,[[2,30]])})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsx)(Do,{children:Object(E.jsxs)("div",{className:e.root,children:[Object(E.jsx)(Ro,{}),Object(E.jsx)(Bo.a,{maxWidth:"xs",className:e.container,children:Object(E.jsxs)("form",{onSubmit:je(Ee),children:[U?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(h.a,{variant:"h6",color:"textSecondary",children:"Click your mnemonic seed in the right order"}),Object(E.jsx)("div",{className:e.wordBox,children:ae.map((function(t,n){return Object(E.jsx)(g.a,{onClick:function(){return Te(t,!1)},variant:"contained",color:"primary",className:e.wordButton,size:"small",children:t.value},"selected_word_".concat(n))}))}),Object(E.jsx)("hr",{}),Object(E.jsx)("div",{children:P.filter((function(e){return!ae.some((function(t){return t.value===e.value&&t.originalIndex===e.originalIndex}))})).map((function(t,n){return Object(E.jsx)(g.a,{onClick:function(){return Te(t,!0)},className:e.wordButton,variant:"outlined",size:"small",children:t.value},"word_".concat(n))}))}),Object(E.jsx)(f.a,{marginTop:"1rem",children:p&&Object(E.jsx)(T.a,{severity:"error",variant:"filled",children:p})})]}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(T.a,{variant:"outlined",color:"warning",className:e.alert,icon:!1,children:[Object(E.jsx)(h.a,{variant:"h6",className:e.alertTitle,children:Object(E.jsx)("strong",{children:"Backup your mnemonic seed securely"})}),Object(E.jsxs)("ul",{className:e.alertList,children:[Object(E.jsx)("li",{children:"Anyone with your mnemonic seed can take your assets."}),Object(E.jsx)("li",{children:"Lost mnemonic seed can't be recovered."}),Object(E.jsx)("li",{children:"Make sure to write it down somewhere secure."}),Object(E.jsx)("li",{children:"Never share the mnemonic with others or enter it in unverified sites."})]})]}),Object(E.jsxs)(f.a,{display:"flex",justifyContent:"space-between",marginBottom:"1rem",children:[Object(E.jsx)(h.a,{variant:"h5",children:"Mnemonic Seed"}),Object(E.jsxs)(K.a,{variant:"contained",size:"small",children:[Object(E.jsx)(g.a,{onClick:function(){return Ie(12)},size:"small",color:12===s?"primary":"default",children:"12 words"}),Object(E.jsx)(g.a,{onClick:function(){return Ie(24)},size:"small",color:24===s?"primary":"default",children:"24 words"})]})]}),Object(E.jsx)(f.a,{marginBottom:"1rem",children:Object(E.jsx)(rn,{mnemonic:null===N||void 0===N?void 0:N.mnemonic})}),Object(E.jsx)(O.a,{error:!pe.name,className:e.formControl,fullWidth:!0,children:Object(E.jsx)(S.a,{control:be,name:"name",rules:{required:!0},render:function(e){var t=e.fieldState,n=e.field;return Object(E.jsx)(x.a,Object(u.a)(Object(u.a)({},n),{},{type:"text",variant:"outlined",label:"Account name",autoFocus:!0,error:!!t.invalid,helperText:t.invalid&&"Account name is required."}))}})}),Object(E.jsx)(O.a,{error:!pe.password,className:e.formControl,fullWidth:!0,children:Object(E.jsx)(S.a,{control:be,name:"password",rules:{required:!0},render:function(e){var t=e.fieldState,n=e.field;return Object(E.jsx)(x.a,Object(u.a)(Object(u.a)({},n),{},{type:"password",variant:"outlined",label:"Password",error:!!t.invalid,helperText:t.invalid&&"Password is required."}))}})}),!ce&&Object(E.jsx)(O.a,{error:!pe.confirmPassword,className:e.formControl,fullWidth:!0,children:Object(E.jsx)(S.a,{control:be,name:"confirmPassword",rules:{required:!0,validate:function(e){return!!e&&e===he}},render:function(e){var t,n=e.fieldState,a=e.field,r="validate"===(null===(t=n.error)||void 0===t?void 0:t.type)?"Password doesn't match.":"Confirm password is required.";return Object(E.jsx)(x.a,Object(u.a)(Object(u.a)({},a),{},{type:"password",variant:"outlined",label:"Confirm password",error:!!n.invalid,helperText:n.invalid&&r}))}})}),Object(E.jsx)(Vo,{onChange:function(e,t,n){le({account:e,change:t,addressIndex:n})}})]}),Object(E.jsxs)(f.a,{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"1rem",children:[Object(E.jsx)(f.a,{children:Object(E.jsx)(g.a,{onClick:function(){U?(V(!1),J(!1),re([])):de.goBack()},children:"Back"})}),Object(E.jsxs)(f.a,{display:"flex",alignItems:"center",children:[U&&ae.length>0&&Object(E.jsx)(f.a,{marginRight:".5rem",display:"flex",justifyContent:"flex-end",children:Object(E.jsx)(g.a,{size:"small",color:"primary",variant:"contained",onClick:function(){return re([])},children:"Reset"})}),Object(E.jsx)(g.a,{variant:"contained",color:"primary",disabled:R||Z||U&&!Y,type:"submit",children:R||Z?Object(E.jsx)(y.a,{size:"1.5rem",color:"primary"}):Object(E.jsx)(E.Fragment,{children:"Next"})})]})]})]})})]})})}var ss=n(1077),ls=n.n(ss),ds=n(1078),us=n.n(ds),js=function(e){return Object(E.jsxs)("svg",Object(u.a)(Object(u.a)({width:"71",height:"55",viewBox:"0 0 71 55",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:[Object(E.jsx)("g",{clipPath:"url(#clip0)",children:Object(E.jsx)("path",{d:"M60.1045 4.8978C55.5792 2.8214 50.7265 1.2916 45.6527 0.41542C45.5603 0.39851 45.468 0.440769 45.4204 0.525289C44.7963 1.6353 44.105 3.0834 43.6209 4.2216C38.1637 3.4046 32.7345 3.4046 27.3892 4.2216C26.905 3.0581 26.1886 1.6353 25.5617 0.525289C25.5141 0.443589 25.4218 0.40133 25.3294 0.41542C20.2584 1.2888 15.4057 2.8186 10.8776 4.8978C10.8384 4.9147 10.8048 4.9429 10.7825 4.9795C1.57795 18.7309 -0.943561 32.1443 0.293408 45.3914C0.299005 45.4562 0.335386 45.5182 0.385761 45.5576C6.45866 50.0174 12.3413 52.7249 18.1147 54.5195C18.2071 54.5477 18.305 54.5139 18.3638 54.4378C19.7295 52.5728 20.9469 50.6063 21.9907 48.5383C22.0523 48.4172 21.9935 48.2735 21.8676 48.2256C19.9366 47.4931 18.0979 46.6 16.3292 45.5858C16.1893 45.5041 16.1781 45.304 16.3068 45.2082C16.679 44.9293 17.0513 44.6391 17.4067 44.3461C17.471 44.2926 17.5606 44.2813 17.6362 44.3151C29.2558 49.6202 41.8354 49.6202 53.3179 44.3151C53.3935 44.2785 53.4831 44.2898 53.5502 44.3433C53.9057 44.6363 54.2779 44.9293 54.6529 45.2082C54.7816 45.304 54.7732 45.5041 54.6333 45.5858C52.8646 46.6197 51.0259 47.4931 49.0921 48.2228C48.9662 48.2707 48.9102 48.4172 48.9718 48.5383C50.038 50.6034 51.2554 52.5699 52.5959 54.435C52.6519 54.5139 52.7526 54.5477 52.845 54.5195C58.6464 52.7249 64.529 50.0174 70.6019 45.5576C70.6551 45.5182 70.6887 45.459 70.6943 45.3942C72.1747 30.0791 68.2147 16.7757 60.1968 4.9823C60.1772 4.9429 60.1437 4.9147 60.1045 4.8978ZM23.7259 37.3253C20.2276 37.3253 17.3451 34.1136 17.3451 30.1693C17.3451 26.225 20.1717 23.0133 23.7259 23.0133C27.308 23.0133 30.1626 26.2532 30.1066 30.1693C30.1066 34.1136 27.28 37.3253 23.7259 37.3253ZM47.3178 37.3253C43.8196 37.3253 40.9371 34.1136 40.9371 30.1693C40.9371 26.225 43.7636 23.0133 47.3178 23.0133C50.9 23.0133 53.7545 26.2532 53.6986 30.1693C53.6986 34.1136 50.9 37.3253 47.3178 37.3253Z"})}),Object(E.jsx)("defs",{children:Object(E.jsx)("clipPath",{id:"clip0",children:Object(E.jsx)("rect",{width:"71",height:"55"})})})]}))},bs=Object(j.a)((function(e){return{root:{top:"auto",bottom:0,borderTop:"1px solid ".concat(e.palette.grey[300]),overflow:"hidden"},toolbar:{minHeight:"30px",maxHeight:"30px",display:"flex",alignItems:"center",justifyContent:"space-between"},socialLinks:{display:"flex",transition:".3s all ease",margin:0,padding:0,"& li":{margin:"0 .5rem",display:"flex",alignItems:"center"},"& path":{fill:e.palette.common.black,transition:".3s all ease"}},socialIcon:{height:"1rem",width:"1rem",display:"block",margin:"0 auto","&:hover":{color:e.palette.primary.main,"& path":{fill:e.palette.primary.main}}},caption:{color:e.palette.grey[600],fontWeight:"bold",fontSize:".6rem"},betaChip:{height:"12px",fontSize:"10px",fontWeight:"bold",marginLeft:".5rem"},akashLink:{marginLeft:"1rem"},akashImage:{height:"20px"}}})),ps=function(){var e=bs(),t=function(){var e=Object(i.useState)(null),t=Object(d.a)(e,2),n=t[0],a=t[1];return Object(i.useEffect)((function(){a(window.electron.getAppVersion())}),[]),{appVersion:n}}().appVersion;return Object(E.jsx)(F.a,{position:"fixed",color:"default",elevation:0,component:"footer",className:e.root,id:"footer",children:Object(E.jsxs)(vt.a,{variant:"dense",className:e.toolbar,children:[Object(E.jsxs)(f.a,{display:"flex",alignItems:"center",children:[t&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(h.a,{variant:"caption",className:e.caption,children:Object(E.jsxs)("strong",{children:["v",t]})}),Object(E.jsx)(Jt.a,{label:"beta",color:"secondary",size:"small",className:e.betaChip})]}),Object(E.jsx)(ft,{onClick:function(){return window.electron.openUrl("https://akash.network")},className:e.akashLink,children:Object(E.jsx)("img",{src:"./images/powered-by-akash.svg",alt:"Akash Logo",className:e.akashImage})})]}),Object(E.jsxs)(f.a,{display:"flex",alignItems:"center",children:[Object(E.jsx)(f.a,{marginRight:"1rem",children:Object(E.jsx)(g.a,{onClick:function(){return window.electron.openUrl("https://cloudmos.io/validators/akashvaloper14mt78hz73d9tdwpdvkd59ne9509kxw8yj7qy8f")},size:"small",children:Object(E.jsx)(h.a,{variant:"caption",className:e.caption,children:"Validator"})})}),Object(E.jsxs)("ul",{className:e.socialLinks,children:[Object(E.jsx)("li",{children:Object(E.jsx)(ft,{onClick:function(){return window.electron.openUrl("https://discord.gg/rXDFNYnFwv")},className:e.socialLink,children:Object(E.jsx)(js,{className:e.socialIcon})})}),Object(E.jsx)("li",{children:Object(E.jsx)(ft,{onClick:function(){return window.electron.openUrl("https://www.youtube.com/channel/UC1rgl1y8mtcQoa9R_RWO0UA?sub_confirmation=1")},className:e.socialLink,children:Object(E.jsx)(ls.a,{className:e.socialIcon})})}),Object(E.jsx)("li",{children:Object(E.jsx)(ft,{onClick:function(){return window.electron.openUrl("https://twitter.com/cloudmosio")},className:e.socialLink,children:Object(E.jsx)(us.a,{className:e.socialIcon})})}),Object(E.jsx)("li",{children:Object(E.jsx)(ft,{onClick:function(){return window.electron.openUrl("https://github.com/maxmaxlabs/cloudmos-deploy")},className:e.socialLink,children:Object(E.jsx)(Oa.a,{className:e.socialIcon})})})]})]})]})})},ms=Object(j.a)((function(e){return{body:{paddingTop:"30px",height:"calc(100% - 30px)"}}})),fs=function(){var e=ms(),t=Object(i.useState)(!1),n=Object(d.a)(t,2),a=n[0],r=n[1],c=Object($.b)(),o=c.address,s=c.selectedWallet,l=Object(w.k)().wallets,u=Object(i.useState)(!1),j=Object(d.a)(u,2),b=j[0],p=j[1],m=Object(ut.e)(),f=l.length>0;return Object(i.useEffect)((function(){s&&o||(f?m.replace(Ut.a.walletOpen()):m.replace(Ut.a.register()));var e=localStorage.getItem("isBetaBannerSeen");p(!(e=!(!e||"true"!==e))),r(!0)}),[]),Object(E.jsxs)(E.Fragment,{children:[b&&Object(E.jsx)(Mo,{}),Object(E.jsx)(as,{}),Object(E.jsxs)("div",{className:e.body,children:[Object(E.jsxs)(Jn.ErrorBoundary,{FallbackComponent:$n,children:[Object(E.jsx)(ut.a,{exact:!0,path:"/register",children:Object(E.jsx)(cs,{})}),Object(E.jsx)(ut.a,{exact:!0,path:"/new-wallet",children:Object(E.jsx)(os,{})}),Object(E.jsx)(ut.a,{exact:!0,path:"/wallet-import",children:Object(E.jsx)(Go,{})}),Object(E.jsx)(ut.a,{exact:!0,path:"/wallet-open",children:Object(E.jsx)(qo,{})})]}),a&&s&&o&&Object(E.jsx)(Po,{})]}),Object(E.jsx)(ps,{})]})},hs=function(){var e=Object(Ie.b)().isLoadingSettings;return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(xt,{}),e?Object(E.jsxs)(f.a,{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",width:"100%",flexDirection:"column",children:[Object(E.jsx)(f.a,{paddingBottom:"1rem",children:Object(E.jsx)(y.a,{size:"3rem"})}),Object(E.jsx)("div",{children:Object(E.jsx)(h.a,{variant:"h5",children:"Loading settings..."})})]}):Object(E.jsx)(fs,{})]})},Os=n(773),xs=Object(j.a)((function(e){return{root:{padding:"1rem",width:"360px !important","& #notistack-snackbar":{paddingRight:"1rem"},"& .MuiCollapse-container":{width:"100%"}},success:{backgroundColor:""},error:{backgroundColor:""},warning:{backgroundColor:""},info:{backgroundColor:""},action:{position:"absolute",top:"4px",right:"4px",color:e.palette.info.contrastText}}})),vs=function(e){var t=e.children,n=Object(i.useRef)(),a=xs(),r=function(e){return function(){n.current.closeSnackbar(e)}};return Object(E.jsx)(k.a,{maxSnack:3,anchorOrigin:{vertical:"bottom",horizontal:"right"},ref:n,classes:{containerRoot:a.root,variantSuccess:a.success,variantError:a.error,variantWarning:a.warning,variantInfo:a.info},hideIconVariant:!0,action:function(e){return Object(E.jsx)(f.a,{width:"2rem",children:Object(E.jsx)(St.a,{onClick:r(e),size:"small",className:a.action,children:Object(E.jsx)(Wr.a,{fontSize:"small"})})})},children:t})},gs=Object(jt.d)({initialEntries:["/"],initialIndex:1});var ys=function(){Object(i.useEffect)((function(){var t=function(){var t=Object(c.a)(r.a.mark((function t(){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e(window.location.pathname),t.t0=n,!t.t0){t.next=5;break}return t.next=5,Ne.b.pageview(Ne.a,window.location.pathname+window.location.search,document.title);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();gs.listen(function(){var t=Object(c.a)(r.a.mark((function t(n,a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{setTimeout(Object(c.a)(r.a.mark((function t(){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e(n.pathname),t.t0=a,!t.t0){t.next=5;break}return t.next=5,Ne.b.pageview(Ne.a,n.pathname+n.search,document.title);case 5:case"end":return t.stop()}}),t)}))),100)}catch(a){console.log(a)}case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),t()}),[]);var e=function(e){var t=e.split("/")[1];return Ut.b.includes(t)||""===t};return Object(E.jsx)(Os.a,{locale:"en",children:Object(E.jsx)(ut.b,{history:gs,children:Object(E.jsx)(bt.b,{children:Object(E.jsx)(et.a,{client:pt.a,children:Object(E.jsx)(vs,{children:Object(E.jsx)(xi.a,{children:Object(E.jsx)(Ve,{children:Object(E.jsx)(Ie.a,{children:Object(E.jsx)($.a,{children:Object(E.jsx)($e,{children:Object(E.jsx)(P,{children:Object(E.jsx)(M.a,{children:Object(E.jsx)(lt,{children:Object(E.jsx)(Nr,{children:Object(E.jsxs)(rc,{children:[Object(E.jsx)(bt.a,{defaultTitle:"Cloudmos Deploy",titleTemplate:"Cloudmos Deploy - %s"}),Object(E.jsx)(hs,{})]})})})})})})})})})})})})})})})},ws=function(e){e&&e instanceof Function&&n.e(80).then(n.bind(null,1980)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))},ks=n(1959),Cs=n(1960);Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.electron.isDev();case 2:t=e.sent,console.log("isDev: ".concat(t)),Object(Ne.c)(t),l.a.render(Object(E.jsx)(o.a.StrictMode,{children:Object(E.jsx)(Jn.ErrorBoundary,{FallbackComponent:$n,children:Object(E.jsxs)(ks.a,{theme:qi,children:[Object(E.jsx)(Cs.a,{}),Object(E.jsx)(ys,{})]})})}),document.getElementById("root"));case 6:case"end":return e.stop()}}),e)})))(),ws()},179:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(455),r=n(1795),c=n(317),i=n(0),o=Object(a.a)((function(e){return{loadingSkeleton:{height:"4px",width:"100%"}}}));function s(e){var t=e.isLoading,n=o();return Object(i.jsx)(i.Fragment,{children:t?Object(i.jsx)(r.a,{}):Object(i.jsx)(c.a,{className:n.loadingSkeleton})})}},184:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(28),r=n(14),c=n(215),i=n(2);var o=n(317),s=n(0),l=function(e){var t=e.children,n=e.bottomElementId,l=e.offset,d=Object(c.a)(e,["children","bottomElementId","offset"]),u=function(){var e=Object(i.useState)({width:void 0,height:void 0}),t=Object(r.a)(e,2),n=t[0],a=t[1];return Object(i.useEffect)((function(){function e(){a({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n}(),j=Object(i.useState)(0),b=Object(r.a)(j,2),p=b[0],m=b[1],f=Object(i.useRef)();return Object(i.useLayoutEffect)((function(){if(u.height)try{var e=f.current.getBoundingClientRect(),t=document.getElementById(n).getBoundingClientRect(),a=Math.round(Math.abs(e.top-t.top));l&&(a-=l),m(a)}catch(r){m("auto")}}),[u,n,l]),Object(s.jsx)(o.a,Object(a.a)(Object(a.a)({ref:f,style:{height:p}},d),{},{children:t}))}},212:function(e,t,n){"use strict";n.d(t,"b",(function(){return z})),n.d(t,"a",(function(){return B}));var a={};n.r(a),n.d(a,"MsgCloseDeployment",(function(){return v})),n.d(a,"MsgCreateDeployment",(function(){return g})),n.d(a,"MsgUpdateDeployment",(function(){return y})),n.d(a,"MsgDepositDeployment",(function(){return w})),n.d(a,"MsgRevokeCertificate",(function(){return C})),n.d(a,"MsgCreateCertificate",(function(){return S})),n.d(a,"BidID",(function(){return I})),n.d(a,"MsgCreateLease",(function(){return N})),n.d(a,"MsgGrant",(function(){return A}));var r=n(51),c=new r.Type("DecCoin");c.ctor=function(){},c.encode=function(e,t){if(t||(t=r.Writer.create()),""!==e.denom&&t.uint32(10).string(e.denom),""!==e.amount){var n=e.amount;if(e.amount.includes(".")){var a=n.split(".");n=a[0]+a[1].padEnd(18,"0")}else n=e.amount.padEnd(e.amount.length+18,"0");t.uint32(18).string(n)}return t},c.decode=function(e,t){for(var n=e instanceof r.Reader?e:new r.Reader(e),a=void 0===t?n.len:n.pos+t,c={denom:"",amount:""};n.pos<a;){var i=n.uint32();switch(i>>>3){case 1:c.denom=n.string();break;case 2:c.amount=n.string();break;default:n.skipType(7&i)}}return c};var i=new r.Type("DeploymentID").add(new r.Field("owner",1,"string")).add(new r.Field("dseq",2,"uint64")),o=new r.Type("Coin").add(new r.Field("denom",1,"string")).add(new r.Field("amount",2,"string")),s=new r.Enum("Kind",{SHARED_HTTP:0,RANDOM_PORT:1}),l=new r.Type("Endpoint").add(new r.Field("kind",1,"Kind")).add(s).add(new r.Field("sequence_number",2,"uint32")),d=new r.Type("Attribute").add(new r.Field("key",1,"string")).add(new r.Field("value",2,"string")),u=new r.Type("ResourceValue").add(new r.Field("val",1,"string")),j=new r.Type("CPU").add(new r.Field("units",1,"ResourceValue")).add(u).add(new r.Field("attributes",2,"Attribute","repeated")).add(d),b=new r.Type("Memory").add(new r.Field("quantity",1,"ResourceValue")).add(u).add(new r.Field("attributes",2,"Attribute","repeated")).add(d),p=new r.Type("Storage").add(new r.Field("name",1,"string")).add(new r.Field("quantity",2,"ResourceValue")).add(u).add(new r.Field("attributes",3,"Attribute","repeated")).add(d),m=new r.Type("ResourceUnits").add(new r.Field("cpu",1,"CPU")).add(j).add(new r.Field("memory",2,"Memory")).add(b).add(new r.Field("storage",3,"Storage","repeated")).add(p).add(new r.Field("endpoints",4,"Endpoint","repeated")).add(l),f=new r.Type("Resource").add(new r.Field("resources",1,"ResourceUnits")).add(m).add(new r.Field("count",2,"uint32")).add(new r.Field("price",3,"DecCoin")).add(c),h=new r.Type("SignedBy").add(new r.Field("all_of",1,"string","repeated")).add(new r.Field("any_of",2,"string","repeated")),O=new r.Type("PlacementRequirements").add(new r.Field("signed_by",1,"SignedBy")).add(h).add(new r.Field("attributes",2,"Attribute","repeated")).add(d),x=new r.Type("GroupSpec").add(new r.Field("name",1,"string")).add(new r.Field("requirements",2,"PlacementRequirements")).add(O).add(new r.Field("resources",3,"Resource","repeated")).add(f),v=new r.Type("MsgCloseDeployment").add(new r.Field("id",1,"DeploymentID")),g=new r.Type("MsgCreateDeployment").add(new r.Field("id",1,"DeploymentID")).add(new r.Field("groups",2,"GroupSpec","repeated")).add(new r.Field("version",3,"bytes")).add(new r.Field("deposit",4,"Coin")).add(o).add(new r.Field("depositor",5,"string")),y=new r.Type("MsgUpdateDeployment").add(new r.Field("id",1,"DeploymentID")).add(i).add(new r.Field("version",3,"bytes")),w=new r.Type("MsgDepositDeployment").add(new r.Field("id",1,"DeploymentID")).add(i).add(new r.Field("amount",2,"Coin")).add(o).add(new r.Field("depositor",3,"string")),k=new r.Type("CertificateID").add(new r.Field("owner",1,"string")).add(new r.Field("serial",2,"string")),C=new r.Type("MsgRevokeCertificate").add(new r.Field("id",1,"CertificateID")).add(k),S=new r.Type("MsgCreateCertificate").add(new r.Field("owner",1,"string")).add(new r.Field("cert",2,"bytes")).add(new r.Field("pubkey",3,"bytes")),I=new r.Type("BidID").add(new r.Field("owner",1,"string")).add(new r.Field("dseq",2,"uint64")).add(new r.Field("gseq",3,"uint32")).add(new r.Field("oseq",4,"uint32")).add(new r.Field("provider",5,"string")),N=new r.Type("MsgCreateLease").add(new r.Field("bid_id",1,"BidID")).add(I),T=new r.Type("Authorization").add(new r.Field("spend_limit",1,"Coin")),E=new r.Type("AnyGrantDeposit").add(new r.Field("type_url",1,"string")).add(new r.Field("value",2,"Authorization")).add(T),L=new r.Type("Timestamp").add(new r.Field("seconds",1,"uint64")).add(new r.Field("nanos",2,"uint32")),D=new r.Type("Grant").add(new r.Field("authorization",1,"AnyGrantDeposit")).add(E).add(new r.Field("expiration",2,"Timestamp")).add(L),A=new r.Type("MsgGrant").add(new r.Field("granter",1,"string")).add(new r.Field("grantee",2,"string")).add(new r.Field("grant",3,"Grant")).add(D),P=(new r.Root).add(i);P.add(v),P.add(w),P.add(g),P.add(x),P.add(y),P.add(A);var z,M=n(57);function B(){switch(localStorage.getItem("selectedNetworkId")){case M.f:case M.l:case M.d:default:z=a}}},237:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return j}));var a,r=n(312),c=n(470),i=n(212),o=n(98),s=n(314);function l(){var e=new r.Registry;e.register(o.a.Types.MSG_CLOSE_DEPLOYMENT,i.b.MsgCloseDeployment),e.register(o.a.Types.MSG_CREATE_DEPLOYMENT,i.b.MsgCreateDeployment),e.register(o.a.Types.MSG_UPDATE_DEPLOYMENT,i.b.MsgUpdateDeployment),e.register(o.a.Types.MSG_DEPOSIT_DEPLOYMENT,i.b.MsgDepositDeployment),e.register(o.a.Types.MSG_CREATE_LEASE,i.b.MsgCreateLease),e.register(o.a.Types.MSG_REVOKE_CERTIFICATE,i.b.MsgRevokeCertificate),e.register(o.a.Types.MSG_CREATE_CERTIFICATE,i.b.MsgCreateCertificate),e.register(o.a.Types.MSG_GRANT,i.b.MsgGrant),e.register(o.a.Types.MSG_SEND_TOKENS,c.MsgSend),a=e}var d=1e4,u={low:s.GasPrice.fromString("0.01uakt"),average:s.GasPrice.fromString("0.025uakt"),high:s.GasPrice.fromString("0.03uakt")},j=function(e,t){return{gas:t.toString(),amount:[{denom:"uakt",amount:e.toString()}]}}},247:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o}));var a,r,c=n(401),i=n(57);n(142);function o(){switch(r=localStorage.getItem("selectedNetworkId")){case i.f:case i.l:case i.d:default:a=c}}},280:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return u}));var a=n(23),r=n(28),c=n(59);function i(e,t){return e.groups.map((function(e){return e.group_spec.resources.map((function(e){return e.count*t(e.resources)})).reduce((function(e,t){return e+t}))})).reduce((function(e,t){return e+t}))}function o(e,t){return e&&e.group_spec&&e.group_spec?e.group_spec.resources.map((function(e){return e.count*t(e.resources)})).reduce((function(e,t){return e+t})):0}function s(e){var t=Object(c.c)(e.escrow_account.balance);return e.escrow_account.funds&&(t+=Object(c.c)(e.escrow_account.funds)),{dseq:e.deployment.deployment_id.dseq,state:e.deployment.state,version:e.deployment.version,createdAt:parseInt(e.deployment.created_at),escrowBalance:t,transferred:e.escrow_account.transferred,cpuAmount:i(e,(function(e){return parseInt(e.cpu.units.val)/1e3})),memoryAmount:i(e,(function(e){return parseInt(e.memory.quantity.val)})),storageAmount:i(e,(function(e){return l(e.storage).map((function(e){return parseInt(e.quantity.val)})).reduce((function(e,t){return e+t}),0)})),escrowAccount:Object(r.a)({},e.escrow_account),groups:Object(a.a)(e.groups)}}function l(e){return e.map?e:[e]}var d=function(e){return Array.isArray(e.storage)?e.storage.map((function(e){return parseInt(e.quantity.val)})).reduce((function(e,t){return e+t}),0):parseInt(e.storage.quantity.val)};function u(e,t){var n=t?t.groups.filter((function(t){return t.group_id.gseq===e.lease.lease_id.gseq}))[0]:{};return{id:e.lease.lease_id.dseq+e.lease.lease_id.gseq+e.lease.lease_id.oseq,owner:e.lease.lease_id.owner,provider:e.lease.lease_id.provider,dseq:e.lease.lease_id.dseq,gseq:e.lease.lease_id.gseq,oseq:e.lease.lease_id.oseq,state:e.lease.state,price:e.lease.price,cpuAmount:t?o(n,(function(e){return parseInt(e.cpu.units.val)/1e3})):void 0,memoryAmount:t?o(n,(function(e){return parseInt(e.memory.quantity.val)})):void 0,storageAmount:t?o(n,(function(e){return l(e.storage).map((function(e){return parseInt(e.quantity.val)})).reduce((function(e,t){return e+t}),0)})):void 0,group:n}}},296:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"e",(function(){return u}));var a=n(28),r=n(334);function c(e,t){return{name:e.cluster_public_hostname,orderCount:e.bidengine.orders,deploymentCount:e.manifest.deployments,leaseCount:e.cluster.leases,active:e.cluster.inventory.active,available:e.cluster.inventory.available,pending:e.cluster.inventory.pending,error:e.cluster.inventory.error,akash:t.akash,kube:t.kube}}function i(e){var t=(null===e||void 0===e?void 0:e.nodes)||e;return(null===t||void 0===t?void 0:t.map((function(e){return{cpu:o(e.cpu),memory:s(e.memory),storage:s((t=e,Object.keys(t).includes("storage_ephemeral")?t.storage_ephemeral:t.storage))};var t})).reduce((function(e,t){return{cpu:(null===e||void 0===e?void 0:e.cpu)+t.cpu,memory:(null===e||void 0===e?void 0:e.memory)+t.memory,storage:(null===e||void 0===e?void 0:e.storage)+t.storage}})))||{cpu:0,memory:0,storage:0}}function o(e){var t="number"===typeof e?e:parseInt(e.units.val);return Object(r.b)(t/1e3,1)}function s(e){return"number"===typeof e?e:parseInt(e.size.val)}function l(e){return Object(a.a)(Object(a.a)({},e),{},{activeCPU:e.activeCPU/1e3,pendingCPU:e.pendingCPU/1e3,availableCPU:e.availableCPU/1e3,totalCPU:e.totalCPU/1e3})}function d(){var e=localStorage.getItem("selectedNetworkId"),t=localStorage.getItem("".concat(e,"/provider.data"));return t?JSON.parse(t):{favorites:[]}}function u(e){var t=d(),n=Object(a.a)(Object(a.a)({},t),e),r=localStorage.getItem("selectedNetworkId");localStorage.setItem("".concat(r,"/provider.data"),JSON.stringify(n))}},325:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u}));var a=n(8),r=n.n(a),c=n(28),i=n(38),o=n(57),s=n(127),l=n.n(s),d=[{id:o.f,title:"Mainnet",description:"Akash Network mainnet network.",nodesUrl:o.g,chainId:"akashnet-2",versionUrl:"https://raw.githubusercontent.com/ovrclk/net/master/mainnet/version.txt",version:null},{id:o.l,title:"Testnet",description:"Testnet of the current mainnet version.",nodesUrl:o.m,chainId:"testnet-1",versionUrl:"https://raw.githubusercontent.com/ovrclk/net/master/testnet/version.txt",version:null},{id:o.d,title:"Edgenet",description:"Testnet of the next mainnet version.",nodesUrl:o.e,chainId:"edgenet-1",versionUrl:"https://raw.githubusercontent.com/ovrclk/net/master/edgenet/version.txt",version:null}],u=function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(d.map(function(){var e=Object(i.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,l.a.get("https://proxy-cors-006.herokuapp.com/"+t.versionUrl,{timeout:1e4});case 4:a=e.sent,n=a.data,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:return e.abrupt("return",Object(c.a)(Object(c.a)({},t),{},{version:n}));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()));case 2:d=e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},326:function(e,t,n){"use strict";function a(e){return(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+-]?\d+)?)/g,(function(e){var t="number";return/^"/.test(e)?t=/:$/.test(e)?"key":"string":/true|false/.test(e)?t="boolean":/null/.test(e)&&(t="null"),'<span class="'+t+'">'+e+"</span>"}))}function r(e){var t;try{t=new URL(e)}catch(n){return!1}return"http:"===t.protocol||"https:"===t.protocol}function c(e){if(document.body.createTextRange){var t=document.body.createTextRange();t.moveToElementText(e),t.select()}else if(window.getSelection){var n=window.getSelection(),a=document.createRange();a.selectNodeContents(e),n.removeAllRanges(),n.addRange(a)}else console.warn("Could not select text in node: Unsupported browser.")}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";switch(e.toLowerCase()){case"false":case"no":case"0":case"":return!1;default:return!0}}n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return i}))},334:function(e,t,n){"use strict";function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=Math.pow(10,t||0);return Math.round((e+Number.EPSILON)*n)/n}function r(e){return Math.ceil(100*(e+Number.EPSILON))/100}n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}))},401:function(e,t,n){"use strict";n.r(t),n.d(t,"toResourceUnits",(function(){return b})),n.d(t,"Manifest",(function(){return O})),n.d(t,"getManifestVersion",(function(){return x})),n.d(t,"NewDeploymentData",(function(){return g}));var a=n(8),r=n.n(a),c=n(38),i=n(142),o=n(57),s=n(326),l=/^[a-z]+[-_\da-z]+$/,d=n(320),u={MaxBodySize:1048576,ReadTimeout:6e4,SendTimeout:6e4,NextTries:3,NextTimeout:0,NextCases:["error","timeout"]};function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{MaxBodySize:e.max_body_size||u.MaxBodySize,ReadTimeout:e.read_timeout||u.ReadTimeout,SendTimeout:e.send_timeout||u.SendTimeout,NextTries:e.next_tries||u.NextTries,NextTimeout:e.next_timeout||u.NextTimeout,NextCases:e.next_cases||u.NextCases}}function b(e){if(!e)return{};var t={};if(e.cpu){var n="string"===typeof e.cpu.units&&e.cpu.units.endsWith("m")?e.cpu.units.slice(0,-1):(1e3*e.cpu.units).toString();t.cpu={units:{val:n},attributes:e.cpu.attributes&&Object.keys(e.cpu.attributes).sort().map((function(t){return{key:t,value:e.cpu.attributes[t].toString()}}))}}if(e.memory&&(t.memory={quantity:{val:Object(i.e)(e.memory.size)},attributes:e.memory.attributes&&Object.keys(e.memory.attributes).sort().map((function(t){return{key:t,value:e.memory.attributes[t].toString()}}))}),e.storage){var a=e.storage.map?e.storage:[e.storage];t.storage=a.map((function(e){return{name:e.name||"default",quantity:{val:Object(i.e)(e.size)},attributes:e.attributes&&Object.keys(e.attributes).sort().map((function(t){return{key:t,value:e.attributes[t].toString()}}))}}))||[]}return t.endpoints=null,t}function p(e){var t={};return Object.keys(e.services).forEach((function(n){var a,r=e.services[n];null===r||void 0===r||null===(a=r.expose)||void 0===a||a.forEach((function(e){var n;null===e||void 0===e||null===(n=e.to)||void 0===n||n.filter((function(e){var t;return e.global&&(null===(t=e.ip)||void 0===t?void 0:t.length)>0})).map((function(e){return e.ip})).sort().forEach((function(e,n){t[e]=n+1}))}))})),t}function m(e){var t={},n=p(e);Object.keys(e.services).forEach((function(a){var r=e.services[a],c=e.deployment[a];Object.keys(c).forEach((function(a){var o,s=c[a],l=e.profiles.compute[s.profile],d=e.profiles.placement[a],u=d.pricing[s.profile];u.amount=u.amount.toString();var p,m,f=t[a];f||((f={name:a,requirements:{attributes:d.attributes?Object.keys(d.attributes).map((function(e){var t;return{key:e,value:null===(t=d.attributes[e])||void 0===t?void 0:t.toString()}})):[],signed_by:{all_of:(null===(p=d.signedBy)||void 0===p?void 0:p.allOf)||[],any_of:(null===(m=d.signedBy)||void 0===m?void 0:m.anyOf)||[]}},resources:[]}).requirements.attributes&&(f.requirements.attributes=f.requirements.attributes.sort((function(e,t){return e.key<t.key}))),t[f.name]=f);var h={resources:b(l.resources),price:u,count:s.count},O=[];null===r||void 0===r||null===(o=r.expose)||void 0===o||o.forEach((function(e){var t;null===e||void 0===e||null===(t=e.to)||void 0===t||t.filter((function(e){return e.global})).forEach((function(t){var a,r=Object(i.c)(e.proto),c={port:e.port,externalPort:e.as||0,proto:r,service:t.service||null,global:!!t.global,hosts:e.accept||null,HTTPOptions:j(e.http_options),IP:t.ip||""};if((null===(a=t.ip)||void 0===a?void 0:a.length)>0){var o=n[t.ip];c.EndpointSequenceNumber=o||0,O.push({kind:2,sequence_number:o})}var s=1;Object(i.f)(c)&&(s=0),O.push({kind:s,sequence_number:0})}))})),h.resources.endpoints=O,f.resources.push(h)}))}));var a=Object.keys(t),r=(a=a.sort((function(e,t){return e<t}))).map((function(e){return t[e]}));return console.log(r),r}function f(e){e.endpoints&&Object.keys(e.endpoints).forEach((function(t){var n=e.endpoints[t];if(!l.test(t))throw new i.a('Endpoint named "'.concat(t,'" is not a valid name.'));if(!n.kind)throw new i.a('Endpoint named "'.concat(t,'" has no kind.'));if("ip"!==n.kind)throw new i.a('Endpoint named "'.concat(t,'" has an unknown kind "').concat(n.kind,'".'))}));var t={},n={};Object.keys(e.services).forEach((function(a){var r=e.services[a],c=e.deployment[a];if(!c)throw new i.a('Service "'.concat(a,'" is not defined in the "deployment" section.'));Object.keys(c).forEach((function(o){var l,u=c[o],j=e.profiles.compute[u.profile],b=e.profiles.placement[o];if(!b)throw new i.a('The placement "'.concat(o,'" is not defined in the "placement" section.'));if(!b.pricing[u.profile])throw new i.a('The pricing for the "'.concat(u.profile,'" profile is not defined in the "').concat(o,'" "placement" definition.'));if(!j)throw new i.a('The compute requirements for the "'.concat(u.profile,'" profile are not defined in the "compute" section.'));null===(l=r.expose)||void 0===l||l.forEach((function(r){var c,o=Object(i.c)(r.proto);null===(c=r.to)||void 0===c||c.forEach((function(c){var s;if((null===(s=c.ip)||void 0===s?void 0:s.length)>0){if(!c.global)throw new i.a('Error on "'.concat(a,'", if an IP is declared, the directive must be declared as global.'));if(!(e.endpoints&&e.endpoints[c.ip]))throw new i.a('Unknown endpoint "'.concat(c.ip,'" in service "').concat(a,'". Add to the list of endpoints in the "endpoints" section.'));t[c.ip]={};var l="".concat(c.ip,"-").concat(r.as,"-").concat(o),d=n[l];if(d)throw new i.a("IP endpoint ".concat(c.ip," port: ").concat(r.port," protocol: ").concat(o," specified by service ").concat(a," already in use by ").concat(d))}}))}));var p,m=j.resources.storage.map?j.resources.storage:[j.resources.storage],f={},h={},O={};(null===m||void 0===m||m.forEach((function(e){var t=e.name||"default";f[t]={name:t,quantity:{val:Object(i.e)(e.size)},attributes:e.attributes&&Object.keys(e.attributes).sort().map((function(t){var n=e.attributes[t].toString();return h[t]=n,{key:t,value:n}}))}})),r.params)&&(Object.keys((null===(p=r.params)||void 0===p?void 0:p.storage)||{})||[]).forEach((function(e){var t=r.params.storage[e];if(!f[e])throw new i.a('Service "'.concat(a,'" references to no-existing compute volume names "').concat(e,'".'));if(!d.isAbsolute(t.mount))throw new i.a('Invalid value for "service.'.concat(a,".params.").concat(e,'.mount" parameter. expected absolute path.'));h.mount=t.mount,h.readOnly=t.readOnly||!1;var n=h.mount,c=O[n];if(c){if(!n)throw new i.a("Multiple root ephemeral storages are not allowed");throw new i.a("Mount ".concat(n," already in use by volume ").concat(c,"."))}O[n]=e}));(Object.keys(f)||[]).forEach((function(e){var t;if(null===(t=f[e].attributes)||void 0===t||t.forEach((function(e){h[e.key]=e.value})),Object(s.c)(h.persistent)&&!h.mount)throw new i.a("compute.storage.".concat(e," has persistent=true which requires service.").concat(a,".params.storage.").concat(e," to have mount."))}))}))})),e.endpoints&&Object.keys(e.endpoints).forEach((function(e){if(!t[e])throw new i.a("Endpoint ".concat(e," declared but never used."))}))}function h(e){return{denom:"uakt",amount:e.toString()}}function O(e){var t={},n=p(e);Object.keys(e.services).sort().forEach((function(a){var r=e.services[a],c=e.deployment[a];Object.keys(c).sort().forEach((function(o){var s,l=c[o],d=t[o];d||(d={Name:o,Services:[]},t[o]=d);var u=b(e.profiles.compute[l.profile].resources),p=[];null===(s=r.expose)||void 0===s||s.forEach((function(t){var a=Object(i.c)(t.proto);if(t.to&&t.to.length>0)t.to.forEach((function(r){var c,o=null;if(r.global&&(null===(c=r.ip)||void 0===c?void 0:c.length)>0){if(!(e.endpoints&&e.endpoints[r.ip]))throw new i.a('Unknown endpoint "'.concat(r.ip,'". Add to the list of endpoints in the "endpoints" section.'));o=n[r.ip],u.endpoints=[{kind:2,sequence_number:o}]}var s={Port:t.port,ExternalPort:t.as||0,Proto:a,Service:r.service||"",Global:!!r.global,Hosts:t.accept||null,HTTPOptions:j(t.http_options),IP:r.ip||"",EndpointSequenceNumber:o||0};p=p.concat([s])}));else{var r,c={Port:t.port,ExternalPort:t.as||0,Proto:a,Service:"",Global:!1,Hosts:(null===(r=t.accept)||void 0===r?void 0:r.items)||null,HTTPOptions:j(t.http_options),IP:""};p=p.concat([c])}}));var m,f={Name:a,Image:r.image,Command:r.command||null,Args:r.args||null,Env:r.env||null,Resources:u,Count:l.count,Expose:p};r.params&&(f.params={Storage:[]},(Object.keys(null===(m=r.params)||void 0===m?void 0:m.storage)||[]).forEach((function(e){f.params.Storage.push({name:e,mount:r.params.storage[e].mount,readOnly:r.params.storage[e].readOnly||!1})})));f.Expose=f.Expose&&f.Expose.sort((function(e,t){return e.Service!==t.Service?e.Service<t.Service:e.Port!==t.Port?e.Port<t.Port:e.Proto!==t.Proto?e.Proto<t.Proto:e.Global!==t.Global&&e.Global<t.Global})),d.Services.push(f)}))}));var a=Object.keys(t);return(a=a.sort((function(e,t){return e<t}))).map((function(e){return t[e]}))}function x(e){return v.apply(this,arguments)}function v(){return(v=Object(c.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=O(t),e.next=3,Object(i.b)(n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,t,n,a){return y.apply(this,arguments)}function y(){return(y=Object(c.a)(r.a.mark((function e(t,n,a,c){var s,l,d,u,j,b,p,x=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=x.length>4&&void 0!==x[4]?x[4]:o.c,l=x.length>5&&void 0!==x[5]?x[5]:null,f(n),d=m(n),u=O(n),e.next=7,Object(i.b)(u);case 7:if(j=e.sent,b={owner:c,dseq:a},p=h(s),b.dseq){e.next=14;break}return e.next=13,Object(i.d)(t);case 13:b.dseq=e.sent;case 14:return e.abrupt("return",{sdl:n,manifest:u,groups:d,deploymentId:b,orderId:[],leaseId:[],version:j,deposit:p,depositor:l||c});case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},432:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=30.437},444:function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return p}));var a=n(28),r=n(8),c=n.n(r),i=n(38),o=n(2),s=n.n(o),l=n(491),d=n(115),u=n(82),j=n(0),b=s.a.createContext({}),p=function(e){var t=e.children,n=Object(d.b)(),a=n.enqueueSnackbar,r=n.closeSnackbar,o=function(){var e=Object(i.a)(c.a.mark((function e(t,n,i){var o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=function(){r(s);try{n()}catch(e){}},s=a(Object(j.jsx)(u.a,{title:i,subTitle:Object(j.jsx)(l.a,{onClick:o,variant:"contained",color:"primary",size:"small",children:"Cancel"}),showLoading:!0}),{variant:"info",persist:!0,action:function(e){return null}}),e.prev=2,e.next=5,t();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:return e.prev=10,r(s),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[2,7,10,13]])})));return function(t,n,a){return e.apply(this,arguments)}}();return Object(j.jsx)(b.Provider,{value:{launchAsyncTask:o},children:t})},m=function(){return Object(a.a)({},s.a.useContext(b))}},449:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u}));var a=n(8),r=n.n(a),c=n(38),i=n(374),o=n.n(i);function s(e,t,n){return l.apply(this,arguments)}function l(){return(l=Object(c.a)(r.a.mark((function e(t,n,a){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&a){e.next=2;break}return e.abrupt("return",null);case 2:return c=o.a.KEYUTIL.getKeyFromEncryptedPKCS8PEM(a,t),e.abrupt("return",{certPem:n,keyPem:o.a.KEYUTIL.getPEM(c,"PKCS8PRV")});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var d=function(e){var t=new o.a.X509;t.readCertPEM(e);var n=t.getSerialNumberHex(),a=t.getIssuerString(),r=t.getSubjectString(),c=t.getNotBefore(),i=t.getNotAfter();return{hSerial:n,sIssuer:a,sSubject:r,sNotBefore:c,sNotAfter:i,issuedOn:b(c),expiresOn:b(i)}},u=function(e,t){var n=new Date,a=new Date;a.setFullYear(n.getFullYear()+1);var r=j(n),c=j(a),i=o.a.KEYUTIL.generateKeypair("EC","secp256r1"),s=i.prvKeyObj,l=i.pubKeyObj,d=o.a.KEYUTIL.getPEM(s,"PKCS8PRV",t),u=o.a.KEYUTIL.getPEM(l,"PKCS8PUB").replaceAll("PUBLIC KEY","EC PUBLIC KEY"),b=new o.a.KJUR.asn1.x509.Certificate({version:3,serial:{int:Math.floor(1e3*(new Date).getTime())},issuer:{str:"/CN="+e},notbefore:r,notafter:c,subject:{str:"/CN="+e},sbjpubkey:l,ext:[{extname:"keyUsage",critical:!0,names:["keyEncipherment","dataEncipherment"]},{extname:"extKeyUsage",array:[{name:"clientAuth"}]},{extname:"basicConstraints",cA:!0,critical:!0}],sigalg:"SHA256withECDSA",cakey:s}),p=b.getPEM();return{cert:b,crtpem:p,pubpem:u,encryptedKey:d}};function j(e){var t=e.getUTCFullYear().toString().substring(2).padStart(2,"0"),n=(e.getUTCMonth()+1).toString().padStart(2,"0"),a=e.getUTCDate().toString().padStart(2,"0"),r=e.getUTCHours().toString().padStart(2,"0"),c=e.getUTCMinutes().toString().padStart(2,"0"),i=e.getUTCSeconds().toString().padStart(2,"0");return"".concat(t).concat(n).concat(a).concat(r).concat(c).concat(i,"Z")}function b(e){var t=parseInt("20".concat(e.substring(0,2))),n=parseInt(e.substring(2,4))-1,a=parseInt(e.substring(4,6)),r=parseInt(e.substring(6,8)),c=parseInt(e.substring(8,10)),i=parseInt(e.substring(10,12));return new Date(Date.UTC(t,n,a,r,c,i))}},57:function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"m",(function(){return c})),n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"l",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"n",(function(){return j})),n.d(t,"i",(function(){return a})),n.d(t,"j",(function(){return b})),n.d(t,"k",(function(){return p})),n.d(t,"a",(function(){return m})),n.d(t,"h",(function(){return f}));var a,r="https://raw.githubusercontent.com/maxmaxlabs/cloudmos-deploy/master/mainnet-nodes.json",c="https://raw.githubusercontent.com/maxmaxlabs/cloudmos-deploy/master/testnet-nodes.json",i="https://raw.githubusercontent.com/maxmaxlabs/cloudmos-deploy/master/edgenet-nodes.json",o="https://api.cloudmos.io/api",s="mainnet",l="testnet",d="edgenet",u=5e6,j=function(e,t){return"mainnet"===t?"https://cloudmos.io/transactions/".concat(e):"edgenet"===t?"https://testnet.akash.bigdipper.live/transactions/".concat(e):null};function b(){switch(localStorage.getItem("selectedNetworkId")){case s:a="v1beta2",s;break;case l:a="v1beta2",l;break;case d:a="v1beta2",d;break;default:a="v1beta2",s}}var p=30,m=58,f={selectOnLineNumbers:!0,scrollBeyondLastLine:!1,automaticLayout:!0,scrollbar:{verticalScrollbarSize:"8px"},minimap:{enabled:!1},padding:{bottom:50},hover:{enabled:!1}}},574:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(23),r=n(2),c=n(1065),i=n.n(c),o=function(e,t,n){return Object(r.useCallback)(i()((function(){e()}),n),[].concat(Object(a.a)(t||[]),[n]))}},575:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(14),r=n(2),c=n(455),i=n(203),o=n(1086),s=n(1087),l=n(587),d=n(1088),u=n(0),j=Object(c.a)((function(e){return{formControl:{minWidth:"150px",width:"auto"},menuRoot:{paddingTop:"17px",paddingBottom:"2px"},selectLabel:{top:"2px",left:"4px"},selectItem:{lineHeight:"1rem"}}})),b=function(e){var t=e.defaultValue,n=e.leases,c=e.onSelectedChange,b=j(),p=Object(r.useState)(t),m=Object(a.a)(p,2),f=m[0],h=m[1];return Object(u.jsxs)(l.a,{className:b.formControl,children:[Object(u.jsx)(o.a,{id:"lease-select-label",className:b.selectLabel,children:"Lease"}),Object(u.jsx)(d.a,{labelId:"lease-select-label",value:f,onChange:function(e){var t=e.target.value;h(t),c(t)},variant:"outlined",classes:{selectMenu:b.menuRoot},children:n.map((function(e){return Object(u.jsx)(s.a,{value:e.id,size:"small",children:Object(u.jsxs)(i.a,{variant:"caption",className:b.selectItem,children:["GSEQ: ",e.gseq]})},e.id)}))})]})}},576:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(28),r=n(215),c=n(2),i=n.n(c),o=n(363),s=n(295),l=n.n(s),d=n(0),u=i.a.memo((function(e){var t=e.value,n=e.monacoRef,c=e.options,i=Object(r.a)(e,["value","monacoRef","options"]);return Object(d.jsx)(o.a,Object(a.a)({ref:n,theme:"vs-dark",value:t,options:c},i))}),(function(e,t){return l()(e,t)}))},59:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"g",(function(){return j}));var a=n(806),r=n(432),c=n(102),i=6.098;function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return Math.round((e/1e6+Number.EPSILON)*Math.pow(10,t))/Math.pow(10,t)}function s(e){return Math.round(1e6*parseFloat(e))}function l(e){var t=null;if("akt"===e.denom)t=s(parseFloat(e.amount));else{if("uakt"!==e.denom)throw Error("Unrecognized denom: "+e.denom);t=parseFloat(e.amount)}return t}function d(e){return o(e*r.a*24*60*60/i)}function u(e,t){var n=t/e,r=(new Date).getTime();return Object(a.a)(new Date(r),{seconds:n*i})}function j(e,t,n,r){var o=Object(c.f)("latest",{refetchInterval:3e4}).data;if(o){var s=o.block.header.height,l=Math.abs(n-s),d=Math.abs(r-s),u=t/e-l,j=(new Date).getTime();return{timeLeft:Object(a.a)(new Date(j),{seconds:u*i}),escrow:Math.max(u*e,0),amountSpent:Math.min(d*e,t)}}}},67:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c}));var a=n(1),r=function e(){Object(a.a)(this,e)};r.register=function(e){return"/register".concat(i({add:e}))},r.newWallet=function(e){return"/new-wallet".concat(i({add:e}))},r.walletImport=function(e){return"/wallet-import".concat(i({add:e}))},r.walletOpen=function(){return"/wallet-open"},r.dashboard=function(){return"/"},r.deploymentList=function(){return"/deployments"},r.deploymentDetails=function(e,t,n){return"/deployment/".concat(e).concat(i({tab:t,logsMode:n}))},r.templates=function(e,t){return"/templates".concat(i({category:e,search:t}))},r.templateDetails=function(e){return"/templates/".concat(e)},r.providers=function(){return"/providers"},r.providerDetail=function(e){return"/providers/".concat(e)},r.settings=function(){return"/settings"},r.createDeployment=function(e){return"/createDeployment".concat(e?"?redeploy="+e:"")},r.createDeploymentFromTemplate=function(e){return"/createDeployment?templateId=".concat(e)},r.createDeploymentStepTemplate=function(){return"/createDeployment/chooseTemplate"},r.createDeploymentStepManifest=function(){return"/createDeployment/editManifest"},r.createDeploymentStepBids=function(){return"/createDeployment/acceptBids"};var c=["wallet-import","wallet-open","deployments","deployment","settings","createDeployment","templates","register","new-wallet","providers"];function i(e){var t=new URLSearchParams("");Object.keys(e).forEach((function(n){e[n]&&t.set(n,e[n])}));var n=t.toString();return n?"?".concat(n):n}},82:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var a=n(29),r=n(455),c=n(317),i=n(586),o=n(203),s=n(24),l=n(197),d=n.n(l),u=n(259),j=n.n(u),b=n(1026),p=n.n(b),m=n(545),f=n.n(m),h=n(0),O=Object(r.a)((function(e){return{snackBarTitle:{fontSize:"1.1rem",lineHeight:"1rem",fontWeight:"bold",flexGrow:1},marginBottom:{marginBottom:".5rem"},snackBarSubTitle:{fontSize:".9rem",wordBreak:"break-word"},loading:{color:e.palette.primary.contrastText}}}));function x(e){var t=e.title,n=e.subTitle,r=e.iconVariant,l=e.showLoading,d=void 0!==l&&l,u=O(),j=v(r);return Object(h.jsxs)("div",{children:[Object(h.jsxs)(c.a,{display:"flex",alignItems:"center",className:Object(s.a)(Object(a.a)({},u.marginBottom,!!n)),children:[!!j&&Object(h.jsx)(c.a,{display:"flex",alignItems:"center",paddingRight:".5rem",children:j}),d&&Object(h.jsx)(c.a,{display:"flex",alignItems:"center",paddingRight:".5rem",children:Object(h.jsx)(i.a,{size:"1rem",className:u.loading})}),Object(h.jsx)(o.a,{variant:"h5",className:u.snackBarTitle,children:t})]}),n&&Object(h.jsx)(o.a,{variant:"body1",className:u.snackBarSubTitle,children:n})]})}var v=function(e){switch(e){case"info":return Object(h.jsx)(d.a,{fontSize:"small"});case"warning":return Object(h.jsx)(j.a,{fontSize:"small"});case"error":return Object(h.jsx)(p.a,{fontSize:"small"});case"success":return Object(h.jsx)(f.a,{fontSize:"small"});default:return null}}},883:function(e,t){},89:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return g}));var a=n(28),r=n(8),c=n.n(r),i=n(38),o=n(14),s=n(115),l=n(2),d=n.n(l),u=n(100),j=n(82),b=n(111),p=n(123),m=n(127),f=n.n(m),h=n(67),O=n(0),x=d.a.createContext({}),v=function(e){var t=e.children,n=Object(u.b)().settings,a=Object(l.useState)(null),r=Object(o.a)(a,2),d=r[0],m=r[1],v=Object(l.useState)(null),g=Object(o.a)(v,2),y=g[0],w=g[1],k=Object(l.useState)(null),C=Object(o.a)(k,2),S=C[0],I=C[1],N=Object(l.useState)(null),T=Object(o.a)(N,2),E=T[0],L=T[1],D=Object(l.useState)(!1),A=Object(o.a)(D,2),P=A[0],z=A[1],M=Object(s.b)().enqueueSnackbar,B=Object(p.e)(),F=n.apiEndpoint,R=Object(l.useCallback)(function(){var e=Object(i.a)(c.a.mark((function e(t){var n,a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S){e.next=2;break}return e.abrupt("return",0);case 2:return z(!0),e.prev=3,e.next=6,f.a.get("https://proxy-cors-006.herokuapp.com/"+"".concat(F,"/cosmos/bank/v1beta1/balances/").concat(S));case 6:return n=e.sent,a=n.data,r=a.balances.length>0&&a.balances.some((function(e){return"uakt"===e.denom}))?a.balances.find((function(e){return"uakt"===e.denom})).amount:0,L(parseInt(r)),z(!1),t&&M(Object(O.jsx)(j.a,{title:"Balance refreshed!",iconVariant:"success"}),{variant:"success"}),e.abrupt("return",r);case 15:return e.prev=15,e.t0=e.catch(3),console.log(e.t0),z(!1),M(Object(O.jsx)(j.a,{title:"Error fetching balance.",iconVariant:"error"}),{variant:"error"}),e.abrupt("return",0);case 21:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(t){return e.apply(this,arguments)}}(),[S,F,M]);return Object(l.useEffect)((function(){function e(){return(e=Object(i.a)(c.a.mark((function e(){var t,n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.getAccounts();case 2:t=e.sent,n=Object(o.a)(t,1),a=n[0],I(a.address);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}y?function(){e.apply(this,arguments)}():(L(null),I(null))}),[y]),Object(l.useEffect)((function(){S&&R()}),[S,R]),Object(O.jsx)(x.Provider,{value:{balance:E,setSelectedWallet:w,refreshBalance:R,selectedWallet:y,address:S,isRefreshingBalance:P,deleteWallet:function(e,t){var n=Object(b.a)(e,t);return w(null),n.length>0?B.location.pathname!==h.a.walletOpen()&&B.replace(h.a.walletOpen()):B.replace(h.a.register()),n},wallets:d,setWallets:m},children:t})},g=function(){return Object(a.a)({},d.a.useContext(x))}},92:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return l}));var a,r=n(1034),c=n.n(r),i=n(1021).nanoid,o="https://deploy.cloudmos.io",s="ga_user_id";function l(e){if(e)a={set:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return console.log("set:",t)},pageview:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return console.log("pageview:",t)},event:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return console.log("event:",t)}};else{a=new c.a("UA-196085161-1");var t=localStorage.getItem(s);t||(t=i(),localStorage.setItem(s,t)),a.set("uid",t),a.set("userId",t)}}},98:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var a=n(1),r=n(3),c=n(212),i=n(57);function o(){s.Types.MSG_CLOSE_DEPLOYMENT="/akash.deployment.".concat(i.i,".MsgCloseDeployment"),s.Types.MSG_CREATE_DEPLOYMENT="/akash.deployment.".concat(i.i,".MsgCreateDeployment"),s.Types.MSG_DEPOSIT_DEPLOYMENT="/akash.deployment.".concat(i.i,".MsgDepositDeployment"),s.Types.MSG_UPDATE_DEPLOYMENT="/akash.deployment.".concat(i.i,".MsgUpdateDeployment"),s.Types.MSG_CREATE_LEASE="/akash.market.".concat(i.i,".MsgCreateLease"),s.Types.MSG_REVOKE_CERTIFICATE="/akash.cert.".concat(i.i,".MsgRevokeCertificate"),s.Types.MSG_CREATE_CERTIFICATE="/akash.cert.".concat(i.i,".MsgCreateCertificate")}var s=function(){function t(){Object(a.a)(this,t)}return Object(r.a)(t,null,[{key:"getRevokeCertificateMsg",value:function(e,n){var a={typeUrl:t.Types.MSG_REVOKE_CERTIFICATE,value:{id:{owner:e,serial:n}}},r=c.b.MsgRevokeCertificate.verify(a.value);if(r)throw r;return{message:a}}},{key:"getCreateCertificateMsg",value:function(n,a,r){var i={typeUrl:t.Types.MSG_CREATE_CERTIFICATE,value:{owner:n,cert:e.from(a).toString("base64"),pubkey:e.from(r).toString("base64")}},o=c.b.MsgCreateCertificate.verify(i.value);if(o)throw o;return{message:i}}},{key:"getCreateLeaseMsg",value:function(e){var n={typeUrl:t.Types.MSG_CREATE_LEASE,value:{bid_id:{owner:e.owner,dseq:parseInt(e.dseq),gseq:e.gseq,oseq:e.oseq,provider:e.provider}}},a=c.b.MsgCreateLease.verify(n.value);if(a)throw a;return{message:n}}},{key:"getCreateDeploymentMsg",value:function(e){return{message:{typeUrl:t.Types.MSG_CREATE_DEPLOYMENT,value:{id:e.deploymentId,groups:e.groups,version:e.version,deposit:e.deposit,depositor:e.depositor}}}}},{key:"getUpdateDeploymentMsg",value:function(e){return{message:{typeUrl:t.Types.MSG_UPDATE_DEPLOYMENT,value:{id:e.deploymentId,version:e.version}}}}},{key:"getDepositDeploymentMsg",value:function(e,n,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i={typeUrl:t.Types.MSG_DEPOSIT_DEPLOYMENT,value:{id:{owner:e,dseq:parseInt(n)},amount:{denom:"uakt",amount:a.toString()},depositor:r||e}},o=c.b.MsgDepositDeployment.verify(i.value);if(o)throw o;return{message:i}}},{key:"getCloseDeploymentMsg",value:function(e,n){var a={typeUrl:t.Types.MSG_CLOSE_DEPLOYMENT,value:{id:{owner:e,dseq:parseInt(n)}}},r=c.b.MsgCloseDeployment.verify(a.value);if(r)throw r;return{message:a}}},{key:"getSendTokensMsg",value:function(e,n,a){return{message:{typeUrl:t.Types.MSG_SEND_TOKENS,value:{fromAddress:e,toAddress:n,amount:[{denom:"uakt",amount:a.toString()}]}}}}},{key:"getGrantMsg",value:function(e,n,a,r){return{message:{typeUrl:t.Types.MSG_GRANT,value:{granter:e,grantee:n,grant:{authorization:{type_url:"/akash.deployment.v1beta2.DepositDeploymentAuthorization",value:{spend_limit:{denom:"uakt",amount:a.toString()}}},expiration:{seconds:Math.floor(r.getTime()/1e3),nanos:Math.floor(r.getTime()%1e3*1e6)}}}}}}}]),t}();s.Types={MSG_CLOSE_DEPLOYMENT:"",MSG_CREATE_DEPLOYMENT:"",MSG_DEPOSIT_DEPLOYMENT:"",MSG_UPDATE_DEPLOYMENT:"",MSG_CREATE_LEASE:"",MSG_REVOKE_CERTIFICATE:"",MSG_CREATE_CERTIFICATE:"",MSG_SEND_TOKENS:"/cosmos.bank.v1beta1.MsgSend",MSG_GRANT:"/cosmos.authz.v1beta1.MsgGrant"}}).call(this,n(79).Buffer)}},[[1778,3,4]]]);